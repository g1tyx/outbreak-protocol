"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[135],{1960:(e,s,t)=>{t.d(s,{Wh:()=>n});var a=t(5155),r=t(3999);function n(e){let{children:s,variant:t="default",size:n="md",withLED:i=!1,withPulse:o=!1,className:l}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("inline-flex items-center rounded border-2 font-bold uppercase tracking-wide transition-all",{safe:"bg-success/20 border-success/50 text-success",warning:"bg-warning/20 border-warning/50 text-warning",danger:"bg-danger/20 border-danger/50 text-danger",info:"bg-info/20 border-info/50 text-info",primary:"bg-primary/20 border-primary/50 text-primary",default:"bg-muted/20 border-muted/50 text-muted-foreground"}[t],{sm:"text-[9px] px-1.5 py-0.5 gap-1",md:"text-[10px] px-2 py-1 gap-1.5",lg:"text-xs px-2.5 py-1.5 gap-2"}[n],o&&"default"!==t?({safe:"glow-hazmat",warning:"glow-quarantine",danger:"glow-biohazard",info:"glow-tactical",primary:"glow-tactical",default:""})[t]:"",o?"animate-pulse":"",l),children:[i&&(0,a.jsx)("div",{className:(0,r.cn)("inline-block",{safe:"status-led-safe",warning:"status-led-warning",danger:"status-led-danger",info:"status-led-safe",primary:"status-led-safe",default:"status-led"}[t])}),s]})}},2373:(e,s,t)=>{t.d(s,{Nu:()=>l});var a=t(5155),r=t(3999),n=t(7712),i=t(3109),o=t(8500);function l(e){let{label:s,value:t,icon:l,trend:c,unit:d,variant:u="default",size:m="md",withBackground:p=!1,className:g}=e,h={sm:{label:"text-[9px]",value:"text-sm",icon:"h-3 w-3"},md:{label:"text-[10px]",value:"text-base",icon:"h-4 w-4"},lg:{label:"text-xs",value:"text-lg",icon:"h-5 w-5"}};return(0,a.jsxs)("div",{className:(0,r.cn)("relative overflow-hidden",p&&"rounded-md border-2 border-primary/20 bg-surface-elevated/50 p-3",g),children:[p&&(0,a.jsx)("div",{className:"absolute inset-0 data-stream opacity-20 pointer-events-none"}),(0,a.jsxs)("div",{className:"relative z-10 space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[l&&(0,a.jsx)("div",{className:(0,r.cn)("text-muted-foreground",h[m].icon),children:l}),(0,a.jsx)("span",{className:(0,r.cn)("uppercase tracking-wide font-bold text-muted-foreground",h[m].label),children:s})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,a.jsxs)("span",{className:(0,r.cn)("font-mono font-bold",h[m].value,{default:"text-foreground",primary:"text-primary",success:"text-success",warning:"text-warning",danger:"text-danger",info:"text-info"}[u]),children:[t,d&&(0,a.jsx)("span",{className:"text-muted-foreground ml-1 text-sm",children:d})]}),null!=c&&(0,a.jsxs)("div",{className:"flex items-center gap-0.5",children:[null==c||0===c?(0,a.jsx)(n.A,{className:"h-3 w-3 text-muted-foreground"}):c>0?(0,a.jsx)(i.A,{className:"h-3 w-3 text-success"}):(0,a.jsx)(o.A,{className:"h-3 w-3 text-danger"}),(0,a.jsxs)("span",{className:(0,r.cn)("text-xs font-mono font-bold",null==c||0===c?"text-muted-foreground":c>0?"text-success":"text-danger"),children:[null==c||0===c?"":c>0?"+":"",c,d&&(0,a.jsx)("span",{className:"text-[10px]",children:d})]})]})]})]})]})}},4574:(e,s,t)=>{t.d(s,{Gv:()=>n,XC:()=>i,Xu:()=>o});var a=t(5155),r=t(3999);function n(e){let{children:s,className:t,variant:n="default",withCorners:i=!0,withGrid:o=!1,withSweep:l=!1,withGlow:c=!1,onClick:d}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("relative rounded-md border-2 p-4 transition-all overflow-hidden",{default:"border-primary/30 bg-surface-elevated/80",hologram:"hologram",alert:"border-danger/40 bg-danger/5",success:"border-success/40 bg-success/5",warning:"border-warning/40 bg-warning/5"}[n],{default:c?"glow-tactical":"",hologram:c?"glow-tactical":"",alert:c?"glow-biohazard":"",success:c?"glow-hazmat":"",warning:c?"glow-quarantine":""}[n],"card-tactical",t),onClick:d,children:[o&&(0,a.jsx)("div",{className:"absolute inset-0 tactical-grid opacity-20 pointer-events-none"}),l&&(0,a.jsx)("div",{className:"absolute inset-0 hud-sweep pointer-events-none"}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-primary/40 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-primary/40 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-primary/40 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-primary/40 pointer-events-none"})]}),(0,a.jsx)("div",{className:"relative z-10",children:s})]})}function i(e){let{children:s,className:t,icon:n,badge:i}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-between mb-4",t),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[n&&(0,a.jsx)("div",{className:"text-primary",children:n}),(0,a.jsx)("div",{className:"text-sm font-bold uppercase tracking-wide text-foreground",children:s})]}),i&&(0,a.jsx)("div",{children:i})]})}function o(e){let{children:s,className:t}=e;return(0,a.jsx)("div",{className:(0,r.cn)("space-y-3",t),children:s})}},7063:(e,s,t)=>{t.d(s,{r:()=>eN});var a=t(5155),r=t(2115),n=t(3405),i=t(9987),o=t(6785),l=t(1284),c=t(3062),d=t(1366),u=t(9397),m=t(8186),p=t(7580),g=t(7108),h=t(9376),x=t(3109),b=t(5525),f=t(1243),v=t(1976),w=t(3105),y=t(9041),j=t(9629),N=t(1981);let k=JSON.parse('[{"version":"2.0.0","date":"2025-10-20","highlights":["\uD83C\uDFA8 COMPLETE UI TRANSFORMATION: Every page redesigned with tactical command center aesthetic - post-apocalyptic military HUD design throughout.","\uD83C\uDFDB️ COMMAND CENTER REDESIGN: Dashboard rebuilt with City Level system, Production Overview, Milestones panel, and Quick Access navigation.","\uD83C\uDFD7️ CITY HQ (Buildings): City Level progression (XP from buildings/upgrades), Production Dashboard, Milestones achievements, Grid/Compact view toggle.","\uD83D\uDD2C RESEARCH LABORATORY: Lab Level system, Scientific Classification (Basic→Applied→Advanced→Breakthrough), Circular progress visualization, Tier-based filtering.","\uD83D\uDDFA️ STRATEGIC COMMAND (Map): Regional Control Panel with radar, Threat Assessment with circular indicators, Operations Intelligence, enhanced territory cards.","\uD83D\uDCE1 CRISIS COMMAND (Events): Situation Room Dashboard, Alert Status monitoring, severity-based animations, improved decision interface.","⚔️ OPERATIONS COMMAND (Missions): Operations Status Dashboard (capacity/personnel/risk), enhanced active missions tracking, tactical styling throughout.","\uD83D\uDC89 SERUM SYNTHESIS LAB: Laboratory Status Dashboard, Development Phase tracking (Phase 0-IV), Active Synthesis monitoring, enhanced research stages, quality-based recipe cards.","\uD83D\uDC51 ANCESTRAL LEGACY (Prestige): Legacy Status Dashboard, beautiful skill tree diagram with SVG connections, path selection with 5 unique themes, upgrade cards with prerequisites.","⚙️ SETTINGS REDESIGN: Proper heading hierarchy, organized sections (Display, System, Save Management, System Info, Danger Zone), improved layout.","\uD83C\uDFC6 VICTORY/DEFEAT MODAL OVERHAUL: Completely redesigned to fit screen without scrolling, simplified restart logic, single intelligent button.","✨ PRESTIGE QUALIFICATION SYSTEM: Victory/defeat modal now shows if you earned Legacy Points (Phase 3+ & 5min playtime required).","\uD83D\uDD18 SMART RESTART BUTTON: Purple Crown button when prestige earned (automatic legacy bonuses), Green/Red button for standard restart.","\uD83D\uDCCA COMPACT STATS DISPLAY: 4-column primary stats (Phase/Time/Buildings/Tech) + 3-column secondary stats (Provinces/Population/Serum).","\uD83C\uDFAF PRESTIGE CLARITY: Clear warning when requirements not met, qualified badge when earned, helper text explaining Legacy Points availability.","\uD83C\uDF33 SKILL TREE VISUALIZATION: Real SVG diagram with glowing connections between nodes, tier-based layout, prerequisite tracking, hover effects.","\uD83C\uDFA8 TACTICAL CARD SYSTEM: Consistent TacticalCard components with variants (hologram/alert/success), corner decorations, tactical grids, animated effects.","\uD83D\uDCC8 STATUS BADGES: Enhanced StatusBadge with LED indicators, multiple sizes, color variants, pulsing animations.","\uD83D\uDD22 PAGE HEADERS: Unified PageHeader component with icons, descriptions, badges, and dynamic stats across all pages.","\uD83C\uDFAD THEME CONSISTENCY: Every page has unique identity while maintaining cohesive tactical aesthetic (City HQ=Cyan, Lab=Blue, Strategic=Green, Crisis=Red, Ops=Danger, Serum=Success, Legacy=Purple).","\uD83D\uDCF1 RESPONSIVE DESIGN: All pages optimized for mobile, tablet, and desktop with proper breakpoints and touch-friendly interfaces.","\uD83C\uDF08 VISUAL EFFECTS: Data streams, tactical grids, blur orbs, glow effects, shimmer animations, radiation glow, biohazard alerts.","\uD83C\uDFAA TERMINAL TEXT: Glowing uppercase headers with tracking for authentic command center feel.","\uD83D\uDD17 CIRCULAR PROGRESS RINGS: SVG-based progress indicators for completion percentages (Research, Map, Events, Serum).","\uD83D\uDCCB 4-METRIC GRIDS: Standard dashboard pattern with icon, label, value, and status across all major pages.","\uD83C\uDFA8 COLOR CODING: Success (green), Warning (yellow), Danger (red), Info (blue), Primary (cyan) - consistent meaning across all interfaces.","\uD83C\uDFAF MISSION CARDS: Category-based color coding, animated backgrounds for high-risk ops, progress bars with shimmer effects.","\uD83D\uDC8A SERUM QUALITY TIERS: Basic (blue), Improved (cyan), Advanced (yellow), Pure (green) with corresponding visual identities.","\uD83C\uDFC5 LEGACY PATH THEMES: Economic (amber/gold), Scientific (blue), Social (green), Strategic (red), Advanced (purple).","\uD83C\uDFAC ANIMATION SYSTEM: Context-aware animations (biohazard for critical, radiation for success, data-stream for active, hud-sweep for scans).","\uD83D\uDD0A VISUAL FEEDBACK: Pulsing LEDs, corner decorations, border glows, backdrop blurs throughout.","\uD83D\uDCD0 LAYOUT IMPROVEMENTS: Proper spacing, better information hierarchy, reduced clutter, improved readability.","\uD83C\uDFA8 REMOVED REDUNDANCIES: Eliminated duplicate stats, consolidated information, streamlined interfaces.","\uD83D\uDD27 TECHNICAL POLISH: Safe array defaults, proper state handling, optimized component rendering.","\uD83D\uDCE6 SMALLER BUNDLE: Removed unused components, optimized imports, efficient rendering patterns.","\uD83C\uDFAF ACCESSIBILITY: Better contrast ratios, clearer labels, improved touch targets, keyboard navigation support.","\uD83C\uDF0D GLOBAL CONSISTENCY: Same design patterns, component usage, and styling approach across entire application.","\uD83C\uDFA8 BRAND IDENTITY: Strong visual identity with military/tactical theme, consistent color palette, recognizable UI patterns.","✨ POLISH EVERYWHERE: Every modal, card, button, and interaction refined for professional game feel.","\uD83D\uDE80 PERFORMANCE: Optimized re-renders, efficient state updates, minimal layout shifts.","\uD83D\uDCF1 MOBILE FIRST: Touch-friendly buttons, proper spacing, readable text sizes, responsive grids.","\uD83C\uDFAE GAME FEEL: Satisfying interactions, smooth transitions, clear feedback, immersive atmosphere.","\uD83C\uDFC6 PRODUCTION READY: Professional quality UI suitable for release, no placeholder content, complete feature set.","VERSION UPDATE: Clean v2.0.0 release marking complete UI transformation milestone."]},{"version":"1.9.1","date":"2025-10-18","highlights":["SERUM LAB NAVIGATION LOCK: Serum Lab tab now locked until Phase 10, matching Legacy tab behavior with lock icon and tooltip.","SERUM LAB UX IMPROVEMENT: Removed redundant Phase 10 requirement from locked page - players only see unlock requirements when they can work on them.","PHASE SYSTEM REBALANCED: Complete 13-phase campaign restructure (was 12 phases) with proper feature introduction flow and no impossible requirements.","Phase 2 no longer requires Medical Clinic level 10 (clinic unlocks Phase 4) - fixed impossible progression blocker.","Phase 4 \'Industrial Development\' now introduces Workshop, University, and Medical Clinic buildings before requiring upgrades.","Serum Research moved to Phase 10 (was Phase 9) with proper technology prerequisites.","NEW TECHNOLOGIES ADDED: Containment Protocols and Tactical Training (Tier 1) to unlock missing event choices.","Containment Protocols: 100 knowledge, +0.01 containment, -1% infection - unlocks medical response events.","Tactical Training: 150 knowledge + 100 supplies, +3 morale - unlocks armed security response events.","4 NEW SUB-UPGRADES: Quarantine Zones, Decontamination Procedures, Combat Drills, and Defensive Fortifications.","EVENT SYSTEM FIXED: \'Local Outbreak\' and \'Supply Convoy\' events now have unlockable choices (were permanently locked).","Technology count increased from 14 to 16 - dashboard research counter updated.","RESEARCH PAGE CLEANUP: Removed redundant \'Available Knowledge\' widget (already shown in top resource header).","All campaign phase objectives verified - no missing building or technology references.","All sub-upgrade parent technologies verified - complete data integrity across 16 technologies.","Phase count dynamically reads from campaign-phases.json - no more hardcoded values.","Serum Lab locked screen now shows 3 clear requirements: Provisional Vaccine, Alpha Synthesis, Synthesis Station."]},{"version":"1.9.0","date":"2025-10-17","highlights":["PRESTIGE SYSTEM COMPLETE OVERHAUL: Replaced automatic prestige bonuses with player-driven skill tree system.","NEW PRESTIGE TREE: 5 distinct progression paths with 29 unique upgrades across Economic Mastery, Scientific Advancement, Social Order, Strategic Defense, and Advanced Strategies.","Player choice matters: Spend prestige points strategically on upgrades that match your playstyle instead of automatic bonuses.","Visual skill tree interface: Beautiful, interactive prestige tree modal showing all available upgrades, prerequisites, costs, and active bonuses.","Prestige points system: Earn points by completing runs (victory or defeat) - points are separate from total ancestral data earned.","Anti-abuse measures: Minimum phase 3 requirement, 5-minute playtime minimum, diminishing returns on grinding, and time penalties for extremely long runs.","Smart prestige calculation: Victory bonuses, phase progression rewards, building/tech/province bonuses all factor into point earnings.","Prerequisite system: Higher tier upgrades require lower tier upgrades to be purchased first, creating meaningful progression paths.","Refund system: Players can refund purchased upgrades to respec their prestige tree and try different strategies.","20+ bonus types: Starting resources, production multipliers, research speed, cost reductions, province bonuses, mission improvements, serum bonuses, and more.","Global effectiveness bonus: Master Commander upgrade multiplies all other prestige bonuses by 5%.","REMOVED manual prestige: Players can no longer manually prestige - points are only earned through actual game over (victory or defeat).","Settings page redesigned: New prestige status card shows available points, total earned, purchased upgrades, and active bonuses.","Open Prestige Tree button: Direct access to skill tree from settings page.","All prestige data properly persisted: prestigePoints, prestigeUpgrades, and ancestralData tracked across sessions.","Game balance improved: Prestige bonuses now require strategic planning instead of passive accumulation.","JSON data structure: All prestige tree data stored in prestige-tree.json for easy maintenance and balance adjustments."]},{"version":"1.8.0","date":"2025-10-17","highlights":["COMPLETE END-GAME UI REDESIGN: Victory and defeat screens completely rebuilt with modern, polished design.","Game Over modal now shows comprehensive run statistics including playtime, building levels, technologies, and provinces.","Victory screen now features detailed breakdown of your successful campaign with all key metrics.","Modal is now fully responsive with proper scrolling - no more cut-off content on smaller screens.","Replaced flickering, intrusive crisis alerts with elegant top-right notification system.","Crisis warnings now positioned in top-right corner - no longer blocking important UI elements.","Warning banners are now compact, dismissible (for non-critical), and use smooth animations instead of harsh pulsing.","Critical warnings (infection 100%, no survivors, stability collapse) auto-reappear when dismissed.","PLAYTIME TRACKER: Replaced useless clock time with live run playtime display in header.","Playtime now shows hours:minutes:seconds format with detailed tooltip showing run statistics.","Tooltip includes: current playtime, phase progress, prestige level, building levels, technologies, secure provinces, and serum progress.","Game Over screen now color-coded: emerald green for victory, red for defeat with matching themed UI.","Improved stat cards with icons, better layout, and clearer information hierarchy.","All modals now use proper backdrop blur and better contrast for improved readability."]},{"version":"1.7.3","date":"2025-10-17","highlights":["REPUTATION SYSTEM FIXED: Event reputation changes now work correctly - choices finally affect your reputation score.","Fixed critical bug where reputation field was not copied when spawning events, causing reputation to always stay at 0.","Reputation now properly influences event spawn intervals and event type weights (positive rep = more aid/discovery events).","EVENT BALANCE OVERHAUL: All events rebalanced to remain relevant throughout the entire game, especially mid-late phases.","Increased event costs by 50-100% to make choices meaningful even in late game (e.g., Aid Request now costs 1500 supplies instead of 1000).","Increased event rewards by 100-300% to make events worth engaging with (e.g., Aid Request now gives 2500 influence instead of 1500).","Added extra resource rewards to many event choices to improve mid-late game value (knowledge, supplies, influence bonuses).","Added scaling factors to all events (1.4x-2.5x) for future phase-based scaling implementation.","Outbreak events now have stronger effects and better rewards for decisive action.","Discovery events now provide substantially more resources when you make strategic choices.","Ethical events now have more impactful rewards to justify their knowledge costs in late game."]},{"version":"1.7.2","date":"2025-10-17","highlights":["SERUM LAB SYSTEM COMPLETE: Synthesis tracking now fully functional with real-time statistics.","Added synthesis attempts and success rate tracking - no more hardcoded placeholders.","Serum progress, attempts, and success data now properly persist across game sessions.","Success rate dynamically calculated based on actual synthesis attempts vs successes.","Serum lab page displays accurate real-time statistics from your synthesis history.","Fixed persistence bug where serum progress would reset on reload (serumProgress, serumRecipes, phaseProgress now save correctly).","All serum-related game state properly saves and loads from localStorage.","Manual prestige system verified working correctly - ancestral data bonuses apply on restart.","Prestige bonuses only awarded on actual game over (defeat or victory), not on manual restart without points.","FIXED PHASE NUMBERING: All UI locations now display phases 1-10 instead of 0-9 for better player clarity.","Phase display corrected in: Serum Lab locked screen, Game Over modal, Settings page prestige status.","Campaign phases internally remain 0-indexed but all user-facing displays show human-friendly 1-indexed numbers."]},{"version":"1.7.1","date":"2025-10-16","highlights":["CRITICAL FIX: Province/territory system completely repaired - all actions now work correctly.","Fixed province initialization bug where new territories would flash critical status then become stable.","Fixed stabilize action bug where resources were spent but province status didn\'t update.","Province stability field now properly initialized and updated by all actions.","Territory maintenance costs now correctly displayed in all UI upkeep calculations.","Resource header and dashboard now include province maintenance in total upkeep displays.","Province stability decay system working as designed with proper status thresholds.","Map page already displayed individual territory maintenance costs correctly.","All 6 territories now fully functional: unlock, stabilize, and reinforce actions work properly."]},{"version":"1.7.0","date":"2025-10-16","highlights":["CRITICAL FIX: Research production bonuses now properly apply to buildings.","Technologies with productionBonus effects (like Efficient Farming +30% for farms) now work correctly.","Sub-upgrade production bonuses (like Crop Rotation +10% for farms) now stack multiplicatively.","Building cards now show \'Active Research Bonuses\' panel with technology and sub-upgrade names.","Research bonuses combine with upgrade bonuses for maximum production multipliers.","All 14 technologies and 28 sub-upgrades with production effects are now fully functional.","Global effects from technologies (morale, infection, containment) were already working correctly.","UI displays which specific research is boosting each building in the details section.","Complete audit and implementation of the entire research system across all game loops."]},{"version":"1.6.1","date":"2025-10-16","highlights":["CRITICAL FIX: Building upgrades now properly apply their effects to production calculations.","Production multipliers from upgrades (e.g., 1.5x, 2x) now correctly boost building output.","Worker efficiency bonuses from upgrades now stack additively and apply to all production.","Cost reduction upgrades now reduce both building purchase costs and maintenance costs.","Added visual indicators showing when buildings are boosted by upgrades (sparkles icon).","Building cards now display active upgrade bonuses in the details section.","Hovering over upgrade badges shows a tooltip with cumulative bonus breakdown.","Fixed game loop to use centralized production calculation system for consistency.","All 50 building upgrades across 10 buildings are now fully functional in both backend and UI."]},{"version":"1.6.0","date":"2025-10-16","highlights":["Fixed critical bug where the Serum Synthesis Station was non-functional - it now properly produces serum over time.","Workshop production bonuses now correctly apply to all resource generation.","All building special effects (morale, containment, production bonuses) are now working as intended.","Added manual Prestige system - restart your run anytime from the Settings page to earn permanent bonuses.","Serum synthesis recipes now functional - spend resources to accelerate cure development.","Building effects now display their actual impact on your production and global stats.","Version number now visible in Settings to help track which updates you have.","Endgame progression fully functional - you can now complete the campaign and synthesize the cure."]},{"version":"1.0.1","date":"2025-10-15","highlights":["Added new News & Game Releases modal and tracker to keep players informed of updates.","Fixed import/export save issues causing data loss in some browsers.","Improved overall UI design for clarity and readability.","Added detailed tooltips and clearer explanations for resources and statistics.","Rebalanced early- and mid-game progression for smoother difficulty scaling.","Adjusted worker and survivor generation rates for better pacing.","Events now auto-apply their decline outcome when the timer expires.","Resource header and dashboard cards received a visual refresh with clearer contrast and tooltips.","Mission stats now track survivor-weighted average risk and show consistent availability numbers.","Research and event queues display human-readable names and contextual guidance.","Notifications restyled with game-themed accents and actionable buttons."]},{"version":"1.0.0","date":"2025-10-15","highlights":["Initial Outbreak Protocol launch."]}]');var S=t(9840);function A(e){let{open:s,onOpenChange:t}=e,n=(0,r.useMemo)(()=>[...k].sort((e,s)=>e.version<s.version?1:-1),[]);return(0,a.jsx)(S.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(S.Cf,{className:"max-h-[85vh] max-w-2xl overflow-hidden border-border/60 bg-surface/95 p-0 text-foreground shadow-2xl backdrop-blur",children:[(0,a.jsxs)(S.c7,{className:"space-y-2 border-b border-border/60 bg-surface/80 px-6 py-4",children:[(0,a.jsx)(S.L3,{className:"text-lg font-semibold tracking-wide text-primary",children:"Operation Updates"}),(0,a.jsx)(S.rr,{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Briefings | Fixes | Balance Tweaks"})]}),(0,a.jsx)("div",{className:"max-h-[70vh] overflow-y-auto px-6 py-4",children:(0,a.jsx)("div",{className:"space-y-6",children:n.map(e=>(0,a.jsxs)("div",{className:"rounded-lg border border-border/50 bg-surface/70 p-5 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-border/40 pb-3",children:[(0,a.jsxs)("div",{className:"text-sm font-semibold uppercase tracking-wide text-primary",children:["Version ",e.version]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.date})]}),(0,a.jsx)("ul",{className:"mt-3 space-y-2 text-sm leading-relaxed text-muted-foreground",children:e.highlights.map((e,s)=>(0,a.jsxs)("li",{className:"flex gap-2 rounded-md border border-border/40 bg-surface px-3 py-2",children:[(0,a.jsx)("span",{className:"mt-1 h-2 w-2 flex-shrink-0 rounded-full bg-primary"}),(0,a.jsx)("span",{children:e})]},s))})]},e.version))})})]})})}var E=t(7168),T=t(5690),C=t(2178);function P(){let e=(0,n.T)(e=>e.isPaused),s=(0,n.T)(e=>e.togglePause),t=(0,n.T)(e=>e.gameOver),i=(0,n.T)(e=>e.hasSeenWelcome);return((0,r.useEffect)(()=>{let e=e=>{!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&i&&("Space"===e.code||"KeyP"===e.code)&&(e.preventDefault(),s())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,i]),t)?null:(0,a.jsx)(E.$,{onClick:s,variant:e?"default":"outline",size:"default",className:"gap-2 transition-all ".concat(e?"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg shadow-primary/30":"hover:bg-accent"),title:e?"Resume (SPACE)":"Pause (SPACE)",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Resume"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(C.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Pause"})]})})}var I=t(547),R=t(3999);function L(e){let{...s}=e;return(0,a.jsx)(I.bL,{"data-slot":"popover",...s})}function M(e){let{...s}=e;return(0,a.jsx)(I.l9,{"data-slot":"popover-trigger",...s})}function O(e){let{className:s,align:t="center",sideOffset:r=4,...n}=e;return(0,a.jsx)(I.ZL,{children:(0,a.jsx)(I.UC,{"data-slot":"popover-content",align:t,sideOffset:r,className:(0,R.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",s),...n})})}var D=t(7777);let z=(e,s)=>{let t=e.split(".").map(e=>parseInt(e,10)),a=s.split(".").map(e=>parseInt(e,10));for(let e=0;e<Math.max(t.length,a.length);e+=1){var r,n;let s=null!==(r=t[e])&&void 0!==r?r:0,i=null!==(n=a[e])&&void 0!==n?n:0;if(s>i)return 1;if(s<i)return -1}return 0},U=e=>(0,i.ZV)(Math.abs(e)),G=e=>0===e?"0":"".concat(e>=0?"+":"-").concat((0,i.ZV)(Math.abs(e))),B={Stability:{title:"Global Stability",body:["Measures how orderly and coordinated your response network is. Higher stability slows future infection growth and keeps crises at bay.","Rises when you secure provinces, resolve events decisively, and maintain healthy morale across survivors.","Drops when morale collapses, infection surges, or territories slip into red status without containment."],accent:"text-success"},Infection:{title:"Infection Pressure",body:["Indicates how aggressively the outbreak is spreading at this moment. Critical levels can trigger game-ending scenarios if ignored.","Lower the pressure with containment research, stabilised provinces, and events that secure medical or logistic support.","It climbs rapidly when morale is low, red provinces stack up, or emergencies are left unresolved."],accent:"text-danger"},Containment:{title:"Containment Coefficient",body:["Shows how much infection you suppress every tick. The higher the coefficient, the more the infection rate declines naturally.","Invest in research labs, containment units, and specialised technologies to elevate this value.","Falling behind on research or losing critical infrastructure will stagnate containment gains."],accent:"text-primary"},Morale:{title:"Global Morale",body:["Captures survivor optimism and willingness to follow orders. Strong morale cushions stability and infection swings.","Boost it by resolving crises favorably, providing aid, and keeping supplies steady.","Starvation, high casualties, and hard-line ethical choices will erode morale over time."],accent:"text-info"}};function V(){var e;let s=(0,n.T)(e=>e.currencies),t=(0,n.T)(e=>e.globalAttributes),S=(0,n.T)(e=>e.resourceRates),E=(0,n.T)(e=>e.currentPhase),T=(0,n.T)(e=>e.buildings),C=(0,n.T)(e=>e.technologies),I=(0,n.T)(e=>e.provinces),R=(0,n.T)(e=>e.prestigeUpgrades),B=(0,n.T)(e=>e.temporaryEffects.production),V=(0,n.T)(e=>e.patchNotesVersionViewed),q=(0,n.T)(e=>e.markPatchNotesViewed),H=(0,n.T)(e=>e.currentRunPlayTime),Y=(0,n.T)(e=>e.ancestralData),W=(0,n.T)(e=>e.serumProgress),Z=w.find(e=>e.id===E)||w[0],X=(null==Z?void 0:null===(e=Z.name)||void 0===e?void 0:e.toUpperCase())||"UNKNOWN",[K,$]=(0,r.useState)(!1),Q=(0,r.useMemo)(()=>(0,N.yC)(y),[]),J=(0,r.useMemo)(()=>(0,j.calculatePrestigeBonuses)(R),[R]),ee=(0,r.useMemo)(()=>(0,N.O$)(T,Q,J,B,Date.now(),C,I),[T,Q,J,B,C,I]),es=ee.productionTotals.supplies,et=ee.maintenanceTotal+ee.provinceMaintenanceSupplies,ea=ee.breakdown.filter(e=>e.maintenance.totalUpkeep>0).sort((e,s)=>s.maintenance.totalUpkeep-e.maintenance.totalUpkeep).slice(0,3),er=Math.floor(H/3600),en=Math.floor(H%3600/60),ei=Math.floor(H%60),eo=er>0?"".concat(er,":").concat(String(en).padStart(2,"0"),":").concat(String(ei).padStart(2,"0")):"".concat(en,":").concat(String(ei).padStart(2,"0")),el=T.reduce((e,s)=>e+s.level,0),ec=C.filter(e=>e.researched).length,ed=I.filter(e=>e.unlocked&&"safe"===e.status).length,eu=es-et,em=eu>=0?"text-success":"text-danger",ep=eu>=0?"bg-success/10 border-success/30":"bg-danger/10 border-danger/30",eg=(0,r.useMemo)(()=>{var e;return null!==(e=[...k].sort((e,s)=>z(s.version,e.version))[0])&&void 0!==e?e:null},[]),eh=!!eg&&V!==eg.version,ex=e=>{$(e),e&&eh&&eg&&q(eg.version)};return(0,a.jsxs)(D.Bc,{delayDuration:150,children:[(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 w-full border-b-2 border-primary/20 hud-glass backdrop-blur-md",children:(0,a.jsxs)("div",{className:"mx-auto flex max-w-7xl flex-col gap-3 px-4 py-3 relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-primary/30 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-primary/30 pointer-events-none"}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-xs font-semibold uppercase tracking-[0.25em] text-muted-foreground",children:[(0,a.jsx)("span",{className:"text-sm tracking-[0.3em] text-primary terminal-text font-bold",children:"OUTBREAK PROTOCOL"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-[10px] tracking-[0.3em] text-muted-foreground hud-sweep",children:[(0,a.jsx)(o.A,{className:"h-3 w-3 text-primary"}),(0,a.jsxs)("span",{className:"font-mono font-bold text-warning",children:["PHASE-",String(E).padStart(2,"0")]}),(0,a.jsx)("span",{className:"text-primary",children:"|"}),(0,a.jsx)("span",{className:"text-foreground",children:X})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsxs)(L,{children:[(0,a.jsx)(M,{asChild:!0,children:(0,a.jsxs)("button",{type:"button",className:"flex items-center gap-1.5 rounded border-2 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wide transition-all hover:scale-105 ".concat(ep," ").concat(eu>=0?"glow-hazmat":"glow-biohazard"),"aria-label":"View supply breakdown",children:[(0,a.jsx)("div",{className:eu>=0?"status-led-safe":"status-led-danger"}),(0,a.jsxs)("span",{className:"font-mono",children:["RF ",G(eu),"/s"]}),(0,a.jsx)(l.A,{className:"h-3 w-3"})]})}),(0,a.jsxs)(O,{align:"end",className:"w-64 text-xs hud-glass border-primary/30",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between text-sm font-bold text-foreground uppercase tracking-wide",children:[(0,a.jsx)("span",{children:"Supply Balance"}),(0,a.jsxs)("span",{className:"font-mono ".concat(em),children:[G(eu),"/s"]})]}),(0,a.jsxs)("div",{className:"space-y-1 text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Production"}),(0,a.jsxs)("span",{className:"text-success font-mono font-bold",children:["+",U(es),"/s"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Upkeep"}),(0,a.jsxs)("span",{className:"text-danger font-mono font-bold",children:["-",U(et),"/s"]})]})]}),ea.length>0&&(0,a.jsxs)("div",{className:"mt-3 space-y-1 border-t border-primary/20 pt-2",children:[(0,a.jsx)("p",{className:"text-[11px] font-bold text-foreground uppercase tracking-wide",children:"Top Consumers"}),ea.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-[11px]",children:[(0,a.jsxs)("span",{className:"truncate text-muted-foreground",children:[e.name," Lv.",e.level]}),(0,a.jsxs)("span",{className:"text-danger font-mono font-bold",children:["-",U(e.maintenance.totalUpkeep),"/s"]})]},"".concat(e.id,"-").concat(e.level)))]})]})]}),(0,a.jsxs)("button",{type:"button",onClick:()=>ex(!0),className:"relative inline-flex items-center gap-1.5 rounded border-2 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wide transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary/40 ".concat(eh?"border-warning bg-warning/20 text-warning shadow-[0_0_1rem_rgba(255,187,0,0.5)] animate-pulse hover:bg-warning/25 glow-quarantine":"border-border bg-surface-elevated text-muted-foreground hover:bg-surface-elevated hover:border-primary/30"),"aria-label":eh?"View latest operation updates. New briefing available.":"View operation updates",children:[(0,a.jsx)(c.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"SITREP"}),eg&&(0,a.jsxs)("span",{className:"text-[9px] font-mono uppercase tracking-[0.3em]",children:["v",eg.version]}),eh&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"absolute -right-1 -top-1 h-2.5 w-2.5 rounded-full bg-warning shadow-[0_0_10px_rgba(255,187,0,0.9)]"}),(0,a.jsx)("span",{className:"absolute -right-1 -top-1 h-2.5 w-2.5 rounded-full bg-warning/60 animate-ping"})]})]}),(0,a.jsxs)("a",{href:"https://discord.gg/n2GNRfPWVM",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded border-2 border-primary/40 bg-primary/10 px-2.5 py-1 text-[10px] font-bold uppercase tracking-wide text-primary transition-all hover:bg-primary/20 hover:scale-105 hover:border-primary/60 glow-tactical","aria-label":"Join the Outbreak Protocol community on Discord",children:[(0,a.jsx)(d.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"COMMS"})]}),(0,a.jsx)(P,{}),(0,a.jsxs)(D.m_,{children:[(0,a.jsx)(D.k$,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center gap-1.5 rounded border-2 border-primary/40 bg-primary/10 px-2.5 py-1 cursor-help hover:bg-primary/15 transition-all glow-tactical",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 text-primary"}),(0,a.jsx)("span",{className:"font-mono text-[11px] font-bold text-primary",children:eo})]})}),(0,a.jsx)(D.ZI,{side:"bottom",align:"end",className:"w-64 rounded-md bg-surface-elevated/95 px-3 py-3 text-xs shadow-lg backdrop-blur",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-bold text-primary",children:"Current Run Statistics"}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:"Live tracking of your operation progress"})]}),(0,a.jsxs)("div",{className:"space-y-2 border-t border-border pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1.5",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 text-primary"}),"Playtime"]}),(0,a.jsx)("span",{className:"font-mono font-semibold text-foreground",children:eo})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1.5",children:[(0,a.jsx)(o.A,{className:"h-3 w-3 text-success"}),"Phase Progress"]}),(0,a.jsxs)("span",{className:"font-semibold text-success",children:[E," / ",w.length]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1.5",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 text-warning"}),"Legacy Points"]}),(0,a.jsx)("span",{className:"font-semibold text-warning",children:(0,i.ZV)(Y)})]})]}),(0,a.jsxs)("div",{className:"space-y-1.5 border-t border-border pt-2 text-[11px]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Building Levels"}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:(0,i.ZV)(el)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Technologies"}),(0,a.jsx)("span",{className:"font-semibold text-foreground",children:(0,i.ZV)(ec)})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Secure Provinces"}),(0,a.jsxs)("span",{className:"font-semibold text-foreground",children:[(0,i.ZV)(ed)," / ",(0,i.ZV)(I.filter(e=>e.unlocked).length)]})]}),W>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Serum Progress"}),(0,a.jsxs)("span",{className:"font-semibold text-primary",children:[W.toFixed(1),"%"]})]})]})]})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-4",children:[(0,a.jsx)(F,{icon:(0,a.jsx)(p.A,{className:"h-4 w-4"}),label:"Survivors",value:s.survivors,color:"text-foreground",shortLabel:"SV",rate:S.survivors,production:ee.productionTotals.survivors}),(0,a.jsx)(F,{icon:(0,a.jsx)(g.A,{className:"h-4 w-4"}),label:"Supplies",value:s.supplies,color:"text-info",shortLabel:"RF",rate:S.supplies,production:es,upkeep:et}),(0,a.jsx)(F,{icon:(0,a.jsx)(h.A,{className:"h-4 w-4"}),label:"Knowledge",value:s.knowledge,color:"text-primary",shortLabel:"CN",rate:S.knowledge,production:ee.productionTotals.knowledge}),(0,a.jsx)(F,{icon:(0,a.jsx)(x.A,{className:"h-4 w-4"}),label:"Influence",value:s.influence,color:"text-warning",shortLabel:"IF",rate:S.influence,production:ee.productionTotals.influence})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 md:grid-cols-4",children:[(0,a.jsx)(_,{icon:(0,a.jsx)(b.A,{className:"h-3 w-3"}),label:"Stability",value:t.globalStability,max:100,color:"success"}),(0,a.jsx)(_,{icon:(0,a.jsx)(f.A,{className:"h-3 w-3"}),label:"Infection",value:t.infectionRate,max:100,color:"danger",inverse:!0}),(0,a.jsx)(_,{icon:(0,a.jsx)(o.A,{className:"h-3 w-3"}),label:"Containment",value:100*t.containmentCoefficient,max:100,color:"primary"}),(0,a.jsx)(_,{icon:(0,a.jsx)(v.A,{className:"h-3 w-3"}),label:"Morale",value:t.morale,max:100,color:"info"})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-primary/30 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-primary/30 pointer-events-none"})]})}),(0,a.jsx)(A,{open:K,onOpenChange:ex})]})}function F(e){let{icon:s,label:t,value:r,color:n,shortLabel:o,rate:l,production:c,upkeep:d}=e,u=null!=l?l:0,m=u>0?"text-success":u<0?"text-danger":"text-muted-foreground",p=G(u),g="number"==typeof c&&0!==c,h="number"==typeof d&&d>0;return(0,a.jsxs)(D.m_,{children:[(0,a.jsx)(D.k$,{asChild:!0,children:(0,a.jsxs)("div",{className:"relative flex items-center gap-2 rounded-md border-2 border-primary/20 bg-surface-elevated/80 px-3 py-2 transition-all hover:border-primary/40 hover:scale-[1.02] hologram overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 w-3 h-3 border-t-2 border-r-2 border-primary/40 group-hover:border-primary/60 transition-colors"}),(0,a.jsx)("div",{className:"".concat(n," relative z-10"),children:s}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 relative z-10",children:[(0,a.jsx)("div",{className:"text-[10px] text-muted-foreground uppercase tracking-[0.15em] font-bold",children:o}),(0,a.jsx)("div",{className:"text-data truncate text-base font-bold ".concat(n),children:(0,i.ZV)(r)}),(0,a.jsxs)("div",{className:"text-[11px] font-mono font-bold ".concat(m),children:[p,"/s"]})]}),(0,a.jsx)("div",{className:"absolute inset-0 pointer-events-none data-stream opacity-30"})]})}),(g||h)&&(0,a.jsxs)(D.ZI,{side:"top",align:"start",className:"w-56 rounded-md hud-glass border-2 border-primary/30 px-3 py-2 text-xs text-foreground shadow-lg",children:[(0,a.jsxs)("p",{className:"text-sm font-bold text-primary uppercase tracking-wide",children:[t," Breakdown"]}),(0,a.jsxs)("div",{className:"mt-2 space-y-1.5 text-[11px] text-muted-foreground",children:[g&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Production"}),(0,a.jsxs)("span",{className:"text-success font-mono font-bold",children:[G(c||0),"/s"]})]}),h&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"Upkeep"}),(0,a.jsxs)("span",{className:"text-danger font-mono font-bold",children:["-",U(d||0),"/s"]})]})]})]})]})}function _(e){let{icon:s,label:t,value:r,max:n,color:i,inverse:o=!1}=e,l=Math.min(100,r/n*100);return(0,a.jsxs)("div",{className:"flex items-center gap-2 group",children:[(0,a.jsxs)("div",{className:"".concat({success:"text-success",danger:"text-danger",primary:"text-primary",info:"text-info"}[i]," relative"),children:[s,(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 ".concat(o?r<30?"status-led-safe":r<70?"status-led-warning":"status-led-danger":r>=70?"status-led-safe":r>=30?"status-led-warning":"status-led-danger"),style:{width:"6px",height:"6px"}})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,a.jsxs)(D.m_,{children:[(0,a.jsx)(D.k$,{asChild:!0,children:(0,a.jsx)("span",{className:"cursor-help text-[10px] text-muted-foreground uppercase tracking-[0.15em] font-bold group-hover:text-foreground transition-colors",children:t})}),(0,a.jsx)(D.ZI,{side:"top",align:"center",className:"max-w-xs rounded-md border-2 border-primary/30 hud-glass px-3 py-3 text-xs text-foreground shadow-lg",children:(()=>{var e;let s=B[t];return s?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-bold uppercase tracking-wide ".concat(null!==(e=s.accent)&&void 0!==e?e:"text-foreground/90"),children:s.title}),s.body.map((e,s)=>(0,a.jsx)("p",{className:"leading-snug text-muted-foreground text-[11px]",children:e},s))]}):(0,a.jsx)("p",{className:"leading-snug text-muted-foreground",children:t})})()})]}),(0,a.jsxs)("span",{className:"text-data text-xs font-mono font-bold text-foreground",children:[r.toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"relative h-2 w-full overflow-hidden rounded-full bg-surface border border-border/40",children:[(0,a.jsx)("div",{className:"absolute inset-0 tactical-grid opacity-50"}),(0,a.jsx)("div",{className:"relative h-full transition-all duration-500 ".concat({success:"bg-success",danger:"bg-danger",primary:"bg-primary",info:"bg-info"}[i]," progress-quantized"),style:{width:"".concat(l,"%")},children:(0,a.jsx)("div",{className:"absolute inset-0 progress-shimmer"})}),(0,a.jsx)("div",{className:"absolute top-0 left-1/3 w-px h-full bg-foreground/20"}),(0,a.jsx)("div",{className:"absolute top-0 left-2/3 w-px h-full bg-foreground/20"})]})]})]})}var q=t(6874),H=t.n(q),Y=t(5695),W=t(3783),Z=t(3227),X=t(2111),K=t(3578),$=t(1539),Q=t(2580),J=t(3761),ee=t(381),es=t(2919);let et=[{key:"dashboard",path:"/",icon:W.A,label:"Command",locked:!1},{key:"buildings",path:"/buildings",icon:Z.A,label:"Buildings",locked:!1},{key:"research",path:"/research",icon:X.A,label:"Research",locked:!1},{key:"map",path:"/map",icon:K.A,label:"Territory",locked:!1},{key:"events",path:"/events",icon:$.A,label:"Events",locked:!1},{key:"missions",path:"/missions",icon:Q.A,label:"Operations",locked:!1},{key:"serum",path:"/serum",icon:J.A,label:"Serum Lab",locked:!1,requiresPhase:10},{key:"prestige",path:"/prestige",icon:m.A,label:"Legacy",locked:!0,requiresUnlock:!0},{key:"settings",path:"/settings",icon:ee.A,label:"Settings",locked:!1}];function ea(){let e=(0,Y.usePathname)(),s=(0,n.T)(e=>e.ancestralData),t=(0,n.T)(e=>e.currentPhase);return(0,a.jsxs)("footer",{className:"border-t-2 border-primary/20 hud-glass relative",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),(0,a.jsxs)("nav",{className:"mx-auto max-w-7xl relative",children:[(0,a.jsx)("div",{className:"absolute -top-2 left-2 w-6 h-6 border-t-2 border-l-2 border-primary/30 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute -top-2 right-2 w-6 h-6 border-t-2 border-r-2 border-primary/30 pointer-events-none"}),(0,a.jsx)("div",{className:"grid grid-cols-5 gap-1 p-2 md:grid-cols-9 md:gap-1.5 md:p-3",children:et.map(r=>{let n=e===r.path,i=r.requiresUnlock&&0===s,o=r.requiresPhase&&t<r.requiresPhase,l=i||o,c=r.icon,d=(0,a.jsxs)("div",{className:"\n                  relative flex min-h-[4rem] flex-col items-center justify-center gap-1.5 rounded\n                  border-2 transition-all duration-200 overflow-hidden group/nav\n                  ".concat(l?"border-border/20 bg-surface/30 opacity-50 cursor-not-allowed":n?"border-primary/60 bg-primary/15 shadow-[0_0_1.5rem_rgba(0,217,255,0.4)] glow-tactical scale-105":"border-primary/20 bg-surface-elevated/80 hover:border-primary/40 hover:bg-surface-elevated hover:scale-105 card-tactical","\n                "),children:[(0,a.jsx)("div",{className:"absolute inset-0 tactical-grid opacity-20"}),n&&!l&&(0,a.jsx)("div",{className:"absolute inset-0 hud-sweep"}),(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center relative z-10",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c,{className:"h-6 w-6 text-muted-foreground/30"}),(0,a.jsxs)("div",{className:"absolute -right-1 -top-1 flex items-center justify-center",children:[(0,a.jsx)(es.A,{className:"h-3.5 w-3.5 text-warning"}),(0,a.jsx)("div",{className:"absolute h-3.5 w-3.5 rounded-full bg-warning/20 animate-ping"})]})]}):(0,a.jsx)(c,{className:"h-6 w-6 transition-all ".concat(n?"text-primary drop-shadow-[0_0_8px_rgba(0,217,255,0.8)]":"text-muted-foreground group-hover/nav:text-primary group-hover/nav:drop-shadow-[0_0_6px_rgba(0,217,255,0.6)]")})}),(0,a.jsx)("span",{className:"hidden text-[10px] font-bold uppercase tracking-[0.15em] transition-all md:block relative z-10 ".concat(l?"text-muted-foreground/30":n?"text-primary":"text-muted-foreground group-hover/nav:text-primary"),children:r.label}),n&&!l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary shadow-[0_0_8px_rgba(0,217,255,0.8)]"}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2 border-primary"})]}),!l&&(0,a.jsx)("div",{className:"md:hidden absolute bottom-2 ".concat(n?"status-led-safe":"status-led"," opacity-60"),style:{width:"4px",height:"4px"}}),l&&(0,a.jsx)("div",{className:"md:hidden absolute bottom-2",children:(0,a.jsx)("div",{className:"status-led-warning",style:{width:"4px",height:"4px"}})})]});return l?(0,a.jsx)("div",{className:"group",title:i?"⚠ CLASSIFIED - Complete a run to unlock":o?"⚠ RESTRICTED - Reach Phase ".concat(r.requiresPhase," to unlock"):"\uD83D\uDD12 LOCKED",children:d},r.key):(0,a.jsx)(H(),{href:r.path,className:"group",children:d},r.key)})})]})]})}var er=t(109),en=t(4186),ei=t(9037),eo=t(4516),el=t(3311),ec=t(7951),ed=t(133);function eu(){var e;let s=(0,n.T)(e=>e.gameOver),t=(0,n.T)(e=>e.gameOverReason),r=(0,n.T)(e=>e.ancestralData),i=(0,n.T)(e=>e.prestigeUpgrades)||[],l=(0,n.T)(e=>e.currentPhase),c=(0,n.T)(e=>e.totalPlayTime),d=(0,n.T)(e=>e.buildings)||[],u=(0,n.T)(e=>e.technologies)||[],g=(0,n.T)(e=>e.provinces)||[],x=(0,n.T)(e=>e.serumProgress),b=(0,n.T)(e=>e.restartGame);if(!s)return null;let f=Math.floor(c/3600),v=Math.floor(c%3600/60),y=Math.floor(c%60),j=f>0?"".concat(f,"h ").concat(v,"m"):v>0?"".concat(v,"m ").concat(y,"s"):"".concat(y,"s"),N=d.reduce((e,s)=>e+s.level,0),k=u.filter(e=>e.researched).length,S=g.filter(e=>e.unlocked&&"safe"===e.status).length,A=Math.floor((null===(e=n.T.getState().currencies)||void 0===e?void 0:e.survivors)||0),T=(null==t?void 0:t.toLowerCase().includes("victory"))||(null==t?void 0:t.toLowerCase().includes("saved humanity")),C=l>=3&&c>=300,P=T?{bgGradient:"from-success/20 via-success/10 to-background/95",borderColor:"border-success/40",glowColor:"shadow-[0_0_60px_rgba(34,197,94,0.3)]",iconBg:"bg-success/20",iconColor:"text-success",titleColor:"text-success",title:"MISSION ACCOMPLISHED",subtitle:"Operation Complete",icon:m.A}:{bgGradient:"from-danger/20 via-danger/10 to-background/95",borderColor:"border-danger/40",glowColor:"shadow-[0_0_60px_rgba(239,68,68,0.3)]",iconBg:"bg-danger/20",iconColor:"text-danger",titleColor:"text-danger",title:"MISSION FAILED",subtitle:"Operation Terminated",icon:er.A},I=P.icon;return(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/95 backdrop-blur-md p-4",children:(0,a.jsx)("div",{className:"w-full max-w-6xl max-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative w-full rounded-2xl border-2 ".concat(P.borderColor," ").concat(P.glowColor," bg-gradient-to-br ").concat(P.bgGradient," backdrop-blur-xl overflow-hidden"),children:[(0,a.jsx)("div",{className:"absolute inset-0 tactical-grid opacity-5 pointer-events-none"}),(0,a.jsxs)("div",{className:"relative z-10 p-6 sm:p-8",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 text-center mb-6",children:[(0,a.jsx)("div",{className:"rounded-full ".concat(P.iconBg," p-4 ring-4 ring-").concat(P.iconColor,"/20 border-2 ").concat(P.borderColor),children:(0,a.jsx)(I,{className:"h-12 w-12 sm:h-16 sm:w-16 ".concat(P.iconColor)})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-widest text-muted-foreground font-bold",children:P.subtitle}),(0,a.jsx)("h2",{className:"text-3xl sm:text-4xl font-black uppercase tracking-tight terminal-text ".concat(P.titleColor),children:P.title}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-muted-foreground font-mono max-w-2xl px-4",children:t})]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,a.jsx)(em,{icon:(0,a.jsx)(o.A,{className:"h-4 w-4"}),label:"Phase",value:"".concat(l,"/").concat(w.length),colorClass:"text-primary"}),(0,a.jsx)(em,{icon:(0,a.jsx)(en.A,{className:"h-4 w-4"}),label:"Time",value:j,colorClass:"text-info"}),(0,a.jsx)(em,{icon:(0,a.jsx)(ei.A,{className:"h-4 w-4"}),label:"Buildings",value:N.toString(),colorClass:"text-success"}),(0,a.jsx)(em,{icon:(0,a.jsx)(h.A,{className:"h-4 w-4"}),label:"Tech",value:k.toString(),colorClass:"text-warning"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,a.jsx)(ep,{icon:(0,a.jsx)(eo.A,{className:"h-3 w-3"}),label:"Provinces",value:S.toString()}),(0,a.jsx)(ep,{icon:(0,a.jsx)(p.A,{className:"h-3 w-3"}),label:"Population",value:A.toString()}),(0,a.jsx)(ep,{icon:(0,a.jsx)(el.A,{className:"h-3 w-3"}),label:"Serum",value:"".concat(x.toFixed(0),"%")})]})]}),(0,a.jsxs)("div",{className:"rounded-xl border-2 ".concat(P.borderColor," bg-gradient-to-r ").concat(T?"from-success/10 to-transparent":"from-danger/10 to-transparent"," p-4 sm:p-5 mb-6"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsx)("div",{className:"rounded-full bg-purple-500/20 p-3 border-2 border-purple-500/40",children:(0,a.jsx)(ec.A,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-500"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"text-xs uppercase tracking-wide font-bold text-muted-foreground",children:"Legacy Points Earned"}),C&&(0,a.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-success/20 text-success border border-success/40 uppercase font-bold",children:"Qualified"})]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,a.jsx)("span",{className:"text-3xl sm:text-4xl font-black text-purple-500 font-mono",children:C?r:0}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground font-mono",children:[i.length," ",1===i.length?"upgrade":"upgrades"," active"]})]})]})]}),(0,a.jsx)(m.A,{className:"h-12 w-12 sm:h-16 sm:w-16 text-purple-500/20"})]}),!C&&(0,a.jsx)("div",{className:"mt-3 p-2.5 rounded-lg bg-warning/10 border border-warning/30",children:(0,a.jsx)("p",{className:"text-xs text-warning font-mono text-center",children:"Reach Phase 3 and play for 5+ minutes to earn Legacy Points"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(E.$,{onClick:()=>b(C),className:"w-full gap-3 h-14 text-lg font-bold border-2 ".concat(C?"bg-purple-600 hover:bg-purple-700 border-purple-500/50 text-white shadow-lg shadow-purple-500/25":"".concat(T?"bg-success hover:bg-success/90 border-success/50":"bg-danger hover:bg-danger/90 border-danger/50"," text-white")," uppercase tracking-wide"),size:"lg",children:C?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ec.A,{className:"h-6 w-6"}),"Restart with Legacy Bonuses"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ed.A,{className:"h-6 w-6"}),T?"Start New Campaign":"Try Again"]})}),C&&(0,a.jsxs)("p",{className:"text-xs text-center text-muted-foreground font-mono",children:["Your ",r," Legacy ",1===r?"Point":"Points"," will be available in the Legacy menu"]})]})]})]})})})}function em(e){let{icon:s,label:t,value:r,colorClass:n}=e;return(0,a.jsxs)("div",{className:"rounded-lg border border-border/50 bg-surface/30 backdrop-blur-sm p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("div",{className:"".concat(n),children:s}),(0,a.jsx)("p",{className:"text-[10px] uppercase tracking-wide font-bold text-muted-foreground",children:t})]}),(0,a.jsx)("p",{className:"text-xl font-bold font-mono ".concat(n),children:r})]})}function ep(e){let{icon:s,label:t,value:r}=e;return(0,a.jsxs)("div",{className:"rounded-lg border border-border/30 bg-background/20 backdrop-blur-sm p-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-0.5",children:[(0,a.jsx)("div",{className:"text-muted-foreground",children:s}),(0,a.jsx)("p",{className:"text-[9px] uppercase tracking-wide font-bold text-muted-foreground",children:t})]}),(0,a.jsx)("p",{className:"text-base font-bold font-mono text-foreground",children:r})]})}var eg=t(8500),eh=t(5339);function ex(){let e=(0,n.T)(e=>e.warningState),s=(0,n.T)(e=>e.crisisCounters),[t,i]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{(e.criticalInfection||e.noSurvivors||e.collapsedStability)&&i(new Set)},[e.criticalInfection,e.noSurvivors,e.collapsedStability]);let o=[];e.criticalInfection&&o.push({id:"infection",icon:er.A,title:"Critical Infection",message:"Infection at 100% - Humanity faces extinction",countdown:60-s.infectionAt100Ticks,severity:"critical",action:"Build Containment Units immediately"}),e.noSurvivors&&o.push({id:"survivors",icon:p.A,title:"Population Collapse",message:"No survivors remaining - Society failing",countdown:30-s.zeroSurvivorsTicks,severity:"critical",action:"Increase survivor production from Shelters"}),e.collapsedStability&&o.push({id:"stability",icon:eg.A,title:"Stability Failure",message:"Global stability below critical threshold",countdown:45-s.lowStabilityTicks,severity:"critical",action:"Increase morale and secure provinces"}),e.multipleRedProvinces&&!e.criticalInfection&&o.push({id:"provinces",icon:eo.A,title:"Territory Crisis",message:"".concat(s.redProvinceCount," provinces in critical state"),countdown:null,severity:"warning",action:"Stabilize provinces immediately"}),e.resourceStarvation&&!e.noSurvivors&&o.push({id:"resources",icon:g.A,title:"Resource Starvation",message:"Cannot afford building maintenance costs",countdown:120-s.negativeResourceTicks,severity:"warning",action:"Increase supply production or reduce buildings"});let l=o.filter(e=>!t.has(e.id));return 0===l.length?null:(0,a.jsx)("div",{className:"fixed top-16 right-4 z-50 flex w-full max-w-md flex-col gap-2 pointer-events-none",children:l.map(e=>{let s=e.icon,t="critical"===e.severity;return(0,a.jsxs)("div",{className:"pointer-events-auto relative overflow-hidden rounded-lg border shadow-lg backdrop-blur-md transition-all duration-300 ".concat(t?"border-red-500/50 bg-red-950/90":"border-yellow-500/50 bg-yellow-950/85"),children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10 ".concat(t?"bg-gradient-to-br from-red-600/30 via-transparent to-red-600/30":"bg-gradient-to-br from-yellow-600/30 via-transparent to-yellow-600/30")}),(0,a.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 ".concat(t?"bg-red-500":"bg-yellow-500")}),(0,a.jsxs)("div",{className:"relative flex items-center gap-3 p-3 pl-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 rounded-full p-2 ".concat(t?"bg-red-500/20":"bg-yellow-500/20"),children:(0,a.jsx)(s,{className:"h-5 w-5 ".concat(t?"text-red-300":"text-yellow-300")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,a.jsx)("h3",{className:"text-sm font-bold ".concat(t?"text-red-100":"text-yellow-100"),children:e.title}),null!==e.countdown&&(0,a.jsxs)("span",{className:"flex-shrink-0 rounded px-2 py-0.5 font-mono text-xs font-bold ".concat(t?"bg-red-500/30 text-red-50":"bg-yellow-500/30 text-yellow-50"),children:[e.countdown,"s"]})]}),(0,a.jsx)("p",{className:"text-xs font-medium mb-1 ".concat(t?"text-red-200/90":"text-yellow-200/90"),children:e.message}),(0,a.jsxs)("p",{className:"text-xs flex items-center gap-1 ".concat(t?"text-red-300/70":"text-yellow-300/70"),children:[(0,a.jsx)(eh.A,{className:"h-3 w-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e.action})]})]}),!t&&(0,a.jsx)(E.$,{variant:"ghost",size:"sm",onClick:()=>i(s=>new Set(s).add(e.id)),className:"h-8 w-8 flex-shrink-0 p-0 text-yellow-300 hover:bg-yellow-500/20 hover:text-yellow-100","aria-label":"Dismiss warning",children:"\xd7"})]})]},e.id)})})}var eb=t(4416),ef=t(3453);function ev(){(0,n.T)(e=>e.isPaused);let e=(0,n.T)(e=>e.hasEverUnpaused),s=(0,n.T)(e=>e.hasSeenWelcome),t=(0,n.T)(e=>e.gameOver),i=(0,n.T)(e=>e.dismissWelcome),l=(0,Y.useRouter)(),[c,d]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{"true"===sessionStorage.getItem("welcome-dismissed")&&d(!0)},[]),(0,r.useEffect)(()=>{if(!s&&!e&&!t&&!c)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[s,e,t,c]),s||e||t||c)return null;let u=async()=>{sessionStorage.setItem("welcome-dismissed","true"),d(!0),i(),await new Promise(e=>setTimeout(e,50));let e=n.T.getState().currentSlot;n.T.getState().saveGame(e),await new Promise(e=>setTimeout(e,100)),"/"!==window.location.pathname&&l.push("/")};return(0,a.jsxs)("div",{className:"fixed inset-0 z-[9999] bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 flex items-center justify-center p-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 tactical-grid opacity-10 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-transparent via-danger to-transparent opacity-60 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-2 bg-gradient-to-r from-transparent via-danger to-transparent opacity-60 pointer-events-none"}),(0,a.jsx)("button",{onClick:u,className:"absolute top-6 right-6 p-2 rounded-lg bg-muted/20 hover:bg-muted/40 border border-muted/40 hover:border-muted transition-all group z-50",title:"Dismiss (game stays paused)",children:(0,a.jsx)(eb.A,{className:"h-5 w-5 text-muted-foreground group-hover:text-foreground transition-colors"})}),(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center px-6 py-8 max-w-7xl mx-auto relative z-10",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 mb-4 rounded-full bg-danger/20 border-2 border-danger/60",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-danger animate-pulse"}),(0,a.jsx)("div",{className:"absolute inset-0 h-2 w-2 rounded-full bg-danger/60 animate-ping"})]}),(0,a.jsx)("span",{className:"text-danger text-xs font-bold uppercase tracking-[0.3em]",children:"Emergency Protocol"})]}),(0,a.jsx)("h1",{className:"text-6xl md:text-7xl lg:text-8xl font-black mb-3 bg-gradient-to-r from-danger via-primary to-warning bg-clip-text text-transparent uppercase tracking-tight leading-none",children:"Outbreak Protocol"}),(0,a.jsx)("p",{className:"text-lg md:text-xl text-danger font-mono font-bold",children:"Global Pandemic — Immediate Response Required"})]}),(0,a.jsx)("div",{className:"mb-8 max-w-3xl",children:(0,a.jsx)("div",{className:"p-6 rounded-xl bg-danger/10 border-2 border-danger/40 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)(f.A,{className:"h-7 w-7 text-danger flex-shrink-0 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold text-danger mb-2 uppercase tracking-wide",children:"Commander's Brief"}),(0,a.jsxs)("p",{className:"text-sm text-foreground/90 leading-relaxed mb-3",children:["Lead humanity through ",(0,a.jsx)("span",{className:"text-primary font-bold",children:"25 phases"})," from initial outbreak to final cure. Balance resources, research, and territorial control to prevent total collapse."]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ef.A,{className:"h-4 w-4 text-success"}),(0,a.jsx)("span",{className:"text-success font-bold",children:"Win:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Cure all provinces"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(er.A,{className:"h-4 w-4 text-danger"}),(0,a.jsx)("span",{className:"text-danger font-bold",children:"Lose:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Total infection/collapse"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 text-warning"}),(0,a.jsx)("span",{className:"text-warning font-bold",children:"Prestige:"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Permanent upgrades each run"})]})]})]})]})})}),(0,a.jsx)("div",{className:"mb-8 w-full max-w-4xl",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,a.jsx)(ew,{icon:(0,a.jsx)(Z.A,{className:"h-5 w-5"}),title:"Build",desc:"Facilities & production",color:"blue"}),(0,a.jsx)(ew,{icon:(0,a.jsx)(h.A,{className:"h-5 w-5"}),title:"Research",desc:"Tech advantages",color:"purple"}),(0,a.jsx)(ew,{icon:(0,a.jsx)(o.A,{className:"h-5 w-5"}),title:"Missions",desc:"High-risk ops",color:"yellow"}),(0,a.jsx)(ew,{icon:(0,a.jsx)(K.A,{className:"h-5 w-5"}),title:"Provinces",desc:"Secure territory",color:"green"}),(0,a.jsx)(ew,{icon:(0,a.jsx)($.A,{className:"h-5 w-5"}),title:"Events",desc:"Crisis response",color:"red"}),(0,a.jsx)(ew,{icon:(0,a.jsx)(J.A,{className:"h-5 w-5"}),title:"Cure",desc:"Final victory",color:"cyan"})]})}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4 relative z-20",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-3 px-6 py-3 rounded-lg bg-primary/10 border border-primary/30",children:[(0,a.jsx)("div",{className:"h-10 w-16 rounded bg-muted/30 flex items-center justify-center border-2 border-muted/60",children:(0,a.jsx)("span",{className:"text-sm font-mono font-bold",children:"SPACE"})}),(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsx)("p",{className:"text-sm font-bold text-primary",children:"Pause/Resume Anytime"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Navigate freely while paused"})]})]}),(0,a.jsxs)(E.$,{onClick:u,size:"lg",className:"gap-3 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 shadow-xl shadow-primary/40 text-lg px-10 py-6 group relative z-30 cursor-pointer",children:[(0,a.jsx)(T.A,{className:"h-6 w-6 group-hover:scale-110 transition-transform"}),(0,a.jsx)("span",{className:"font-black uppercase tracking-wider",children:"Explore Command Center"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Game is paused. Press SPACE when ready to begin."})]})]})]})}function ew(e){let{icon:s,title:t,desc:r,color:n}=e,i={blue:{text:"text-blue-400",border:"border-blue-400/40",bg:"bg-blue-500/10",glow:"hover:shadow-blue-500/20"},purple:{text:"text-purple-400",border:"border-purple-400/40",bg:"bg-purple-500/10",glow:"hover:shadow-purple-500/20"},yellow:{text:"text-yellow-400",border:"border-yellow-400/40",bg:"bg-yellow-500/10",glow:"hover:shadow-yellow-500/20"},green:{text:"text-green-400",border:"border-green-400/40",bg:"bg-green-500/10",glow:"hover:shadow-green-500/20"},red:{text:"text-red-400",border:"border-red-400/40",bg:"bg-red-500/10",glow:"hover:shadow-red-500/20"},cyan:{text:"text-cyan-400",border:"border-cyan-400/40",bg:"bg-cyan-500/10",glow:"hover:shadow-cyan-500/20"}}[n]||i.blue;return(0,a.jsxs)("div",{className:"p-4 rounded-lg border-2 ".concat(i.border," ").concat(i.bg," transition-all hover:scale-105 hover:shadow-lg ").concat(i.glow," backdrop-blur-sm"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("div",{className:"".concat(i.text),children:s}),(0,a.jsx)("h4",{className:"text-sm font-bold ".concat(i.text," uppercase tracking-wide"),children:t})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:r})]})}function ey(){let e=(0,n.T)(e=>e.isPaused),s=(0,n.T)(e=>e.hasEverUnpaused),t=(0,n.T)(e=>e.gameOver);return e&&!t&&s?(0,a.jsx)("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-[60%] z-[9000] pointer-events-none",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3 select-none",children:[(0,a.jsx)("div",{className:"text-6xl md:text-7xl font-black text-primary/30 uppercase tracking-widest animate-pulse",children:"Paused"}),(0,a.jsx)("div",{className:"flex items-center gap-3 px-6 py-3 rounded-xl bg-black/40 backdrop-blur-sm border-2 border-primary/30",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"h-12 w-20 rounded-lg bg-muted/20 flex items-center justify-center border-2 border-muted/60 mb-1",children:(0,a.jsx)("span",{className:"text-lg font-mono font-bold text-foreground",children:"SPACE"})}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:"Press to resume"})]})})]})}):null}var ej=t(3580);function eN(e){let{children:s}=e;!function(){let e=(0,n.T)(e=>e.tick),s=(0,r.useRef)(null);(0,r.useEffect)(()=>(s.current=setInterval(()=>{e()},1e3),()=>{s.current&&clearInterval(s.current)}),[e]),(0,r.useEffect)(()=>{let e=setInterval(()=>{let e=n.T.getState();e.settings.autoSave&&e.saveGame(e.currentSlot)},3e4);return()=>clearInterval(e)},[])}();let t=(0,n.T)(e=>e.hasSeenWelcome),i=(0,n.T)(e=>e.hasEverUnpaused),o=(0,n.T)(e=>e.isPaused),l=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{t&&!i&&o&&!l.current&&(l.current=!0,(0,ej.oR)({title:"⏸️ Game Paused",description:"Press SPACE when you're ready to begin your mission.",duration:1e4,variant:"default"}))},[t,i,o]),(0,r.useEffect)(()=>{let e=()=>{let e=n.T.getState();e.currentSlot&&e.saveGame(e.currentSlot)},s=()=>{e()},t=()=>{document.hidden&&e()};return window.addEventListener("beforeunload",s),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("beforeunload",s),document.removeEventListener("visibilitychange",t)}},[]),(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsx)(V,{}),(0,a.jsx)("main",{className:"pt-[240px] sm:pt-[220px] md:pt-[200px] pb-32 md:pb-28",children:s}),(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 z-50",children:(0,a.jsx)(ea,{})}),(0,a.jsx)(eu,{}),(0,a.jsx)(ex,{}),(0,a.jsx)(ev,{}),(0,a.jsx)(ey,{})]})}},7168:(e,s,t)=>{t.d(s,{$:()=>l});var a=t(5155);t(2115);var r=t(9708),n=t(2085),i=t(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:s,variant:t,size:n,asChild:l=!1,...c}=e,d=l?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:t,size:n,className:s})),...c})}},7777:(e,s,t)=>{t.d(s,{Bc:()=>o,ZI:()=>u,k$:()=>d,m_:()=>c});var a=t(5155),r=t(2115),n=t(9613),i=t(3999);function o(e){let{delayDuration:s=0,...t}=e;return(0,a.jsx)(n.Kq,{"data-slot":"tooltip-provider",delayDuration:s,...t})}let l=r.createContext(!1);function c(e){let{...s}=e;return r.useContext(l)?(0,a.jsx)(n.bL,{"data-slot":"tooltip",...s}):(0,a.jsx)(o,{children:(0,a.jsx)(l.Provider,{value:!0,children:(0,a.jsx)(n.bL,{"data-slot":"tooltip",...s})})})}function d(e){let{...s}=e;return(0,a.jsx)(n.l9,{"data-slot":"tooltip-trigger",...s})}function u(e){let{className:s,sideOffset:t=0,children:r,...o}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{"data-slot":"tooltip-content",sideOffset:t,className:(0,i.cn)("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",s),...o,children:[r,(0,a.jsx)(n.i3,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}},9060:(e,s,t)=>{t.d(s,{z:()=>i});var a=t(5155),r=t(1960),n=t(2373);function i(e){let{icon:s,title:t,description:i,badge:o,stats:l}=e;return(0,a.jsxs)("div",{className:"mb-6 rounded-md border-2 border-primary/30 hud-glass p-6 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 tactical-grid opacity-20 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 w-8 h-8 border-t-2 border-l-2 border-primary/40 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute top-0 right-0 w-8 h-8 border-t-2 border-r-2 border-primary/40 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 w-8 h-8 border-b-2 border-l-2 border-primary/40 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute bottom-0 right-0 w-8 h-8 border-b-2 border-r-2 border-primary/40 pointer-events-none"}),(0,a.jsx)("div",{className:"absolute inset-0 hud-sweep pointer-events-none"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsxs)("div",{className:"rounded border-2 border-primary/40 bg-primary/10 p-3 glow-tactical relative",children:[(0,a.jsx)(s,{className:"h-7 w-7 text-primary"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 status-led-safe",style:{width:"6px",height:"6px"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight uppercase text-primary terminal-text",children:t}),o&&(0,a.jsx)(r.Wh,{variant:"info"===o.color?"primary":o.color,size:"md",withLED:!0,children:o.label})]}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground max-w-2xl",children:i})]})]})}),l&&l.length>0&&(0,a.jsx)("div",{className:"mt-6 grid grid-cols-2 gap-3 border-t border-primary/20 pt-4 md:grid-cols-4",children:l.map((e,s)=>{let t=e.icon;return(0,a.jsx)(n.Nu,{label:e.label,value:e.value,variant:e.color||"default",icon:t?(0,a.jsx)(t,{}):void 0,withBackground:!0,size:"sm"},s)})})]})]})}},9840:(e,s,t)=>{t.d(s,{Cf:()=>d,Es:()=>m,L3:()=>p,c7:()=>u,lG:()=>o,rr:()=>g});var a=t(5155);t(2115);var r=t(5452),n=t(4416),i=t(3999);function o(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"dialog",...s})}function l(e){let{...s}=e;return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...s})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function d(e){let{className:s,children:t,showCloseButton:o=!0,...d}=e;return(0,a.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...d,children:[t,o&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function m(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",s),...t})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}}}]);