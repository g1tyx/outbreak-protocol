"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{182:e=>{e.exports=JSON.parse('[{"id":"central_hub","name":"Central Hub","description":"Your starting location and command center","unlockCost":0,"bonuses":{"globalStability":5,"containmentCoefficient":0.01,"morale":5,"globalProduction":0.005,"influenceBonus":0.1,"productionBonus":{"shelter":1.2}},"initialStatus":"safe","stabilizationCost":{"supplies":800,"influence":80},"maintenanceCost":{"supplies":0.5,"influence":0.05},"decayRate":0.02,"defenseLevel":0,"population":5000},{"id":"northern_plains","name":"Northern Plains","description":"Fertile agricultural region with abundant farmland","unlockCost":1000,"bonuses":{"containmentCoefficient":0.01,"morale":5,"globalProduction":0.005,"influenceBonus":0.1,"productionBonus":{"farm":1.2}},"initialStatus":"unstable","stabilizationCost":{"supplies":3000,"influence":500},"maintenanceCost":{"supplies":1,"influence":0.1},"decayRate":0.04,"defenseLevel":0,"population":8000},{"id":"eastern_coast","name":"Eastern Coast","description":"Coastal region with strategic communication advantages","unlockCost":1200,"bonuses":{"containmentCoefficient":0.01,"morale":5,"globalProduction":0.005,"influenceBonus":0.1,"productionBonus":{"radio_tower":1.2}},"initialStatus":"unstable","stabilizationCost":{"supplies":3000,"influence":500},"maintenanceCost":{"supplies":1.5,"influence":0.15},"decayRate":0.05,"defenseLevel":0,"population":12000},{"id":"southern_valley","name":"Southern Valley","description":"Protected valley ideal for shelter and farming","unlockCost":1500,"bonuses":{"containmentCoefficient":0.01,"morale":5,"globalProduction":0.005,"influenceBonus":0.1,"productionBonus":{"farm":1.2,"shelter":1.2}},"initialStatus":"red","stabilizationCost":{"supplies":10000,"influence":2000},"maintenanceCost":{"supplies":2.5,"influence":0.25},"decayRate":0.06,"defenseLevel":0,"population":15000},{"id":"western_mountains","name":"Western Mountains","description":"Isolated mountain region with natural containment advantages","unlockCost":2000,"bonuses":{"containmentCoefficient":0.03,"morale":5,"globalProduction":0.005,"influenceBonus":0.1,"productionBonus":{"lab":1.2}},"initialStatus":"red","stabilizationCost":{"supplies":10000,"influence":2000},"maintenanceCost":{"supplies":3,"influence":0.3},"decayRate":0.03,"defenseLevel":0,"population":6000},{"id":"industrial_zone","name":"Industrial Zone","description":"Former industrial center with manufacturing capabilities","unlockCost":2500,"bonuses":{"containmentCoefficient":0.01,"morale":5,"globalProduction":0.005,"influenceBonus":0.1,"globalStability":4,"productionBonus":{"workshop":1.2}},"initialStatus":"red","stabilizationCost":{"supplies":10000,"influence":2000},"maintenanceCost":{"supplies":4,"influence":0.4},"decayRate":0.08,"defenseLevel":0,"population":20000}]')},677:(e,i,t)=>{t.d(i,{Qg:()=>g,Sb:()=>f,US:()=>u,aD:()=>v,eC:()=>m,tE:()=>c,y8:()=>p});var n=t(5155),s=t(2115),o=t(6621),r=t(2085),a=t(4416),l=t(3999);let c=o.Kq,u=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(o.LM,{ref:i,className:(0,l.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...s})});u.displayName=o.LM.displayName;let d=(0,r.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border-2 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full tactical-grid hud-glass",{variants:{variant:{default:"border-primary/40 bg-surface-elevated/90 text-foreground glow-tactical",destructive:"destructive group border-danger/50 bg-danger/10 text-danger-foreground biohazard-alert glow-biohazard"}},defaultVariants:{variant:"default"}}),p=s.forwardRef((e,i)=>{let{className:t,variant:s,...r}=e;return(0,n.jsx)(o.bL,{ref:i,className:(0,l.cn)(d({variant:s}),t),...r})});p.displayName=o.bL.displayName;let g=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(o.rc,{ref:i,className:(0,l.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...s})});g.displayName=o.rc.displayName;let m=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(o.bm,{ref:i,className:(0,l.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...s,children:(0,n.jsx)(a.A,{className:"h-4 w-4"})})});m.displayName=o.bm.displayName;let f=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(o.hE,{ref:i,className:(0,l.cn)("text-sm font-bold uppercase tracking-wide terminal-text",t),...s})});f.displayName=o.hE.displayName;let v=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(o.VY,{ref:i,className:(0,l.cn)("text-sm opacity-90 font-mono",t),...s})});v.displayName=o.VY.displayName},1333:e=>{e.exports=JSON.parse('[{"id":"rescue_survivors","category":"rescue","name":"Rescue Mission","description":"Deploy a team to rescue survivors from infected zones","duration":200,"baseRisk":22,"baseCost":{"survivors":42},"baseRewards":{"survivors":64,"supplies":648},"specialRewards":[{"type":"veteranXP","amount":50}],"unlockPhase":1,"maxConcurrent":2,"repeatability":"unlimited","tags":["humanitarian","combat","population"]},{"id":"supply_convoy","category":"logistics","name":"Supply Convoy","description":"Organize a supply convoy to gather resources from abandoned settlements","duration":250,"baseRisk":20,"baseCost":{"survivors":63,"influence":42},"baseRewards":{"supplies":1890,"influence":81},"specialRewards":[{"type":"veteranXP","amount":40}],"unlockPhase":1,"maxConcurrent":3,"repeatability":"unlimited","tags":["logistics","supplies","trade"]},{"id":"sample_collection","category":"research","name":"Sample Collection","description":"Send a research team to collect infection samples for analysis","duration":300,"baseRisk":30,"baseCost":{"survivors":90,"supplies":900},"baseRewards":{"knowledge":792,"influence":99},"specialRewards":[{"type":"veteranXP","amount":70},{"type":"researchProgress","amount":0.05}],"unlockPhase":4,"maxConcurrent":2,"repeatability":"unlimited","tags":["research","science","dangerous"]},{"id":"territory_recon","category":"reconnaissance","name":"Territory Reconnaissance","description":"Scout nearby territories to assess threats and identify resources","duration":180,"baseRisk":18,"baseCost":{"survivors":39,"influence":32},"baseRewards":{"influence":177,"supplies":740,"knowledge":222},"specialRewards":[{"type":"veteranXP","amount":30},{"type":"territoryInfo","amount":1}],"unlockPhase":6,"maxConcurrent":4,"repeatability":"unlimited","tags":["reconnaissance","intelligence","low-risk"]},{"id":"establish_trade_route","category":"logistics","name":"Establish Trade Route","description":"Create a secure trade route between territories for ongoing resource exchange","duration":480,"baseRisk":28,"baseCost":{"survivors":120,"supplies":1200,"influence":120},"baseRewards":{"supplies":4620,"influence":264},"specialRewards":[{"type":"veteranXP","amount":100},{"type":"permanentProductionBonus","resource":"supplies","amount":0.02}],"unlockPhase":4,"maxConcurrent":1,"repeatability":"limited","maxCompletions":3,"tags":["logistics","trade","long-term"]},{"id":"vip_extraction","category":"special","name":"VIP Extraction","description":"Extract a high-value scientist or leader from a dangerous zone","duration":420,"baseRisk":42,"baseCost":{"survivors":198,"supplies":1980,"influence":247},"baseRewards":{"knowledge":3060,"influence":510,"survivors":20},"specialRewards":[{"type":"veteranXP","amount":150},{"type":"specialist","specialistType":"scientist"},{"type":"technologyFragment","amount":1}],"unlockPhase":13,"maxConcurrent":1,"repeatability":"limited","maxCompletions":5,"tags":["special","high-value","research"]},{"id":"defensive_fortification","category":"defense","name":"Defensive Fortification","description":"Fortify a territory against infected hordes and hostile forces","duration":360,"baseRisk":32,"baseCost":{"survivors":117,"supplies":1950,"influence":104},"baseRewards":{"influence":444,"supplies":1184},"specialRewards":[{"type":"veteranXP","amount":80},{"type":"territoryStability","amount":5}],"unlockPhase":6,"maxConcurrent":2,"repeatability":"unlimited","tags":["defense","combat","stability"]},{"id":"deep_expedition","category":"research","name":"Deep Research Expedition","description":"Venture deep into infected territory to discover rare samples and research data","duration":540,"baseRisk":40,"baseCost":{"survivors":202,"supplies":2700,"influence":270},"baseRewards":{"knowledge":3900,"influence":624},"specialRewards":[{"type":"veteranXP","amount":200},{"type":"technologyFragment","amount":2},{"type":"researchProgress","amount":0.1}],"unlockPhase":7,"maxConcurrent":1,"repeatability":"unlimited","tags":["research","expedition","high-reward"]},{"id":"black_ops","category":"special","name":"Black Operations","description":"Covert operations to infiltrate hostile zones and gather critical intelligence","duration":300,"baseRisk":50,"baseCost":{"survivors":112,"supplies":1400,"influence":420},"baseRewards":{"influence":1312,"knowledge":820},"specialRewards":[{"type":"veteranXP","amount":150},{"type":"intelPoints","amount":5}],"unlockPhase":8,"unlockRequirement":{"building":"intelligence_agency","minLevel":5},"maxConcurrent":2,"repeatability":"unlimited","tags":["covert","intelligence","high-risk"]},{"id":"serum_distribution","category":"medical","name":"Serum Distribution Mission","description":"Deploy teams to distribute the cure serum to remote populations","duration":240,"baseRisk":20,"baseCost":{"survivors":150,"supplies":3750},"baseRewards":{"influence":900,"supplies":1800},"specialRewards":[{"type":"veteranXP","amount":100},{"type":"globalAttribute","attribute":"infectionRate","amount":-0.5}],"unlockPhase":10,"unlockRequirement":{"serumProgress":50},"maxConcurrent":3,"repeatability":"unlimited","tags":["medical","humanitarian","endgame"]},{"id":"horde_elimination","category":"combat","name":"Infected Horde Elimination","description":"Large-scale combat operation to clear infected hordes from strategic locations","duration":420,"baseRisk":55,"baseCost":{"survivors":280,"supplies":4200,"influence":210},"baseRewards":{"supplies":3280,"influence":984,"knowledge":1312},"specialRewards":[{"type":"veteranXP","amount":250},{"type":"globalAttribute","attribute":"infectionRate","amount":-1}],"unlockPhase":8,"unlockRequirement":{"building":"security_outpost","minLevel":10},"maxConcurrent":1,"repeatability":"unlimited","tags":["combat","large-scale","high-risk"]},{"id":"allied_rescue","category":"diplomatic","name":"Allied Territory Assistance","description":"Provide military and humanitarian aid to allied territories under siege","duration":360,"baseRisk":35,"baseCost":{"survivors":156,"supplies":2600,"influence":130},"baseRewards":{"influence":1184,"survivors":59},"specialRewards":[{"type":"veteranXP","amount":120},{"type":"diplomaticFavor","amount":1}],"unlockPhase":6,"maxConcurrent":2,"repeatability":"unlimited","tags":["diplomatic","humanitarian","alliance"]},{"id":"tech_salvage","category":"scavenging","name":"Technology Salvage","description":"Search abandoned military and research facilities for advanced technology","duration":480,"baseRisk":38,"baseCost":{"survivors":135,"supplies":2025,"knowledge":675},"baseRewards":{"knowledge":3120,"supplies":1560},"specialRewards":[{"type":"veteranXP","amount":130},{"type":"technologyFragment","amount":3},{"type":"equipmentBlueprint","tier":"advanced"}],"unlockPhase":7,"maxConcurrent":1,"repeatability":"unlimited","tags":["scavenging","technology","treasure-hunt"]},{"id":"quarantine_breach","category":"crisis","name":"Quarantine Breach Response","description":"URGENT: Contain a quarantine breach before infection spreads rapidly","duration":120,"baseRisk":60,"baseCost":{"survivors":187,"supplies":3125},"baseRewards":{"influence":1400,"knowledge":700},"specialRewards":[{"type":"veteranXP","amount":200},{"type":"globalAttribute","attribute":"infectionRate","amount":-2},{"type":"morale","amount":5}],"unlockPhase":5,"maxConcurrent":1,"repeatability":"limited","maxCompletions":10,"tags":["crisis","urgent","high-stakes"]},{"id":"underground_network","category":"special","name":"Underground Network","description":"Establish contact with underground resistance movements for mutual benefit","duration":540,"baseRisk":30,"baseCost":{"survivors":116,"influence":725},"baseRewards":{"influence":2064,"survivors":86},"specialRewards":[{"type":"veteranXP","amount":150},{"type":"blackMarketAccess","amount":1},{"type":"intelPoints","amount":3}],"unlockPhase":9,"maxConcurrent":1,"repeatability":"limited","maxCompletions":3,"tags":["special","covert","network"]}]')},1981:(e,i,t)=>{t.d(i,{$v:()=>d,L1:()=>f,O$:()=>p,TR:()=>u,Xk:()=>c,_y:()=>m,yC:()=>l,zh:()=>g});var n=t(9987),s=t(9815),o=t(4428),r=t(6106),a=t(182);function l(e){return e.reduce((e,i)=>(e[i.id]=i,e),{})}function c(e,i,t){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!i||e.level<=0||!1===e.active)return{};let c=1,u=0;e.upgrades.forEach(e=>{let i=s.find(i=>i.id===e);i&&i.effects&&(i.effects.productionMultiplier&&(c*=i.effects.productionMultiplier),i.effects.workerEfficiency&&(u+=i.effects.workerEfficiency))});let d=1;l.forEach(i=>{var t;if(!i.researched)return;let n=o.find(e=>e.id===i.id);if(n&&n.effects.productionBonus){let i=n.effects.productionBonus[e.id];i&&(d*=i)}null===(t=i.subUpgrades)||void 0===t||t.forEach(i=>{let t=r.find(e=>e.id===i);if(t&&t.effects.productionBonus){let i=t.effects.productionBonus[e.id];i&&(d*=i)}})});let p=0;l.forEach(e=>{var i,t;if(!e.researched)return;let n=o.find(i=>i.id===e.id);(null==n?void 0:null===(t=n.effects)||void 0===t?void 0:null===(i=t.globalEffects)||void 0===i?void 0:i.workerEfficiency)&&(p+=n.effects.globalEffects.workerEfficiency)});let g={},m=t.productionMultiplier,f=1+a,v=i.productionExponent||1,b=i.workerEfficiency+u+p,h=c*d,y=(i,t)=>{if(!t)return;let s=(0,n.KY)(t,e.level,e.workers||0,b,[h],v)*m*f;s>0&&(g[i]=s)};return y("survivors",i.baseProduction.survivors),y("supplies",i.baseProduction.supplies),y("knowledge",i.baseProduction.knowledge),y("influence",i.baseProduction.influence),g}function u(e){let i=0;return e.upgrades.forEach(e=>{let t=s.find(i=>i.id===e);t&&t.effects&&t.effects.costReduction&&(i+=t.effects.costReduction)}),i}function d(e,i,t){var s,o;let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!i||e.level<=0||!1===e.active)return{active:!1,baseUpkeep:0,workerUpkeep:0,totalUpkeep:0};let a=u(e),l=null!==(o=null===(s=i.maintenance)||void 0===s?void 0:s.supplies)&&void 0!==o?o:i.baseCost.supplies?.006*(0,n.yN)(i.baseCost.supplies,Math.max(0,e.level-1),i.costMultiplier):0,c=1+.08*Math.max(0,e.level-1),d=(1-t.maintenanceReduction)*(1-a)*(1-r),p=l*c*d,g=.005*(e.workers||0)*d;return{active:!0,baseUpkeep:p,workerUpkeep:g,totalUpkeep:p+g}}function p(e,i,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Date.now(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u={survivors:0,supplies:0,knowledge:0,influence:0},p=n.filter(e=>e.expiresAt>s),m=0,f=e.map(e=>{var n,r;let a=i[e.id],f=g(p,e.id,s),v=c(e,a,t,f,o),b=d(e,a,t,l),h=null!==(r=null!==(n=null==a?void 0:a.name)&&void 0!==n?n:null==a?void 0:a.nameKey)&&void 0!==r?r:e.id;return Object.entries(v).forEach(e=>{let[i,t]=e;u[i]+=t||0}),m+=b.totalUpkeep,{id:e.id,name:h,level:e.level,active:b.active,production:v,maintenance:b,workers:e.workers}}),v=0,b=0;return r.forEach(e=>{if(e.unlocked){let i=a.find(i=>i.id===e.id);if(i&&i.maintenanceCost){let e=i.maintenanceCost;v+=e.supplies||0,b+=e.influence||0}}}),{productionTotals:u,maintenanceTotal:m,provinceMaintenanceSupplies:v,provinceMaintenanceInfluence:b,breakdown:f}}function g(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now();return e.reduce((e,n)=>n.expiresAt<=t?e:"all"===n.target||n.target===i?e+n.value:e,0)}function m(e){let i=1,t=0,n=0;return e.upgrades.forEach(e=>{let o=s.find(i=>i.id===e);o&&o.effects&&(o.effects.productionMultiplier&&(i*=o.effects.productionMultiplier),o.effects.workerEfficiency&&(t+=o.effects.workerEfficiency),o.effects.costReduction&&(n+=o.effects.costReduction))}),{productionMultiplier:i,workerEfficiency:t,costReduction:n,hasUpgrades:e.upgrades.length>0,upgradeCount:e.upgrades.length}}function f(e,i){let t=1,n=[],s=[];return i.forEach(i=>{var a;if(!i.researched)return;let l=o.find(e=>e.id===i.id);if(l&&l.effects.productionBonus){let i=l.effects.productionBonus[e];i&&(t*=i,n.push(l.name))}null===(a=i.subUpgrades)||void 0===a||a.forEach(i=>{let n=r.find(e=>e.id===i);if(n&&n.effects.productionBonus){let i=n.effects.productionBonus[e];i&&(t*=i,s.push(n.name))}})}),{productionMultiplier:t,hasResearch:t>1,technologies:n,subUpgrades:s}}},3105:e=>{e.exports=JSON.parse('[{"id":1,"name":"Emergency Response","description":"The outbreak begins. Establish basic survival infrastructure.","objectives":[{"type":"building_level","buildingId":"shelter","level":3,"description":"Build Refugee Shelter to level 3"},{"type":"building_level","buildingId":"farm","level":2,"description":"Build Supply Farm to level 2"},{"type":"currency","currency":"survivors","value":150,"description":"Reach 150 survivors"}],"rewards":{"globalStability":3,"supplies":500}},{"id":2,"name":"Communication Network","description":"Establish communication channels for coordination.","objectives":[{"type":"building_exists","buildingId":"radio_tower","description":"Build a Radio Tower"},{"type":"building_level","buildingId":"shelter","level":5,"description":"Upgrade Shelter to level 5"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":55,"description":"Reduce infection rate below 55%"}],"rewards":{"globalStability":3,"influence":100,"morale":2}},{"id":3,"name":"Knowledge Foundation","description":"Begin studying the pathogen systematically.","objectives":[{"type":"building_exists","buildingId":"lab","description":"Build a Research Lab"},{"type":"building_level","buildingId":"farm","level":4,"description":"Upgrade Farm to level 4"},{"type":"technologies_researched","tier":1,"count":1,"description":"Research first Tier-1 technology"}],"rewards":{"globalStability":3,"knowledge":300,"supplies":800}},{"id":4,"name":"Operational Readiness","description":"Train survivors for field operations.","objectives":[{"type":"missions_completed","count":2,"description":"Complete 2 successful missions"},{"type":"building_level","buildingId":"lab","level":3,"description":"Upgrade Lab to level 3"},{"type":"building_level","buildingId":"radio_tower","level":3,"description":"Upgrade Radio Tower to level 3"}],"rewards":{"globalStability":4,"influence":200,"morale":3}},{"id":5,"name":"First Containment","description":"Establish active containment protocols.","objectives":[{"type":"building_exists","buildingId":"containment_unit","description":"Build a Containment Unit"},{"type":"building_level","buildingId":"shelter","level":8,"description":"Upgrade Shelter to level 8"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":50,"description":"Reduce infection rate below 50%"},{"type":"technologies_researched","tier":1,"count":2,"description":"Research 2 Tier-1 technologies"}],"rewards":{"globalStability":4,"containmentCoefficient":0.01,"supplies":1500}},{"id":6,"name":"Territorial Expansion","description":"Expand influence to a nearby province.","objectives":[{"type":"provinces_secure","count":1,"description":"Secure your first province"},{"type":"building_level","buildingId":"containment_unit","level":3,"description":"Upgrade Containment Unit to level 3"},{"type":"missions_completed","count":4,"description":"Complete 4 successful missions"}],"rewards":{"globalStability":5,"influence":400,"supplies":2000}},{"id":7,"name":"Industrial Base","description":"Develop manufacturing capabilities.","objectives":[{"type":"building_exists","buildingId":"workshop","description":"Build a Workshop"},{"type":"building_level","buildingId":"farm","level":6,"description":"Upgrade Farm to level 6"},{"type":"building_level","buildingId":"lab","level":6,"description":"Upgrade Lab to level 6"}],"rewards":{"globalStability":4,"supplies":2500,"knowledge":800}},{"id":8,"name":"Medical Infrastructure","description":"Build medical facilities for population health.","objectives":[{"type":"building_exists","buildingId":"clinic","description":"Build a Medical Clinic"},{"type":"technologies_researched","tier":1,"count":3,"description":"Research 3 Tier-1 technologies"},{"type":"attribute","attribute":"morale","operator":">=","value":15,"description":"Achieve morale of 15+"}],"rewards":{"globalStability":5,"morale":4,"infectionRate":-2}},{"id":9,"name":"Advanced Research","description":"Unlock higher-tier research capabilities.","objectives":[{"type":"building_exists","buildingId":"university","description":"Build a University"},{"type":"building_level","buildingId":"lab","level":10,"description":"Upgrade Lab to level 10"},{"type":"technologies_researched","tier":2,"count":1,"description":"Research first Tier-2 technology"}],"rewards":{"globalStability":5,"knowledge":1500,"influence":300}},{"id":10,"name":"Strategic Command","description":"Establish central command for coordinated operations.","objectives":[{"type":"building_exists","buildingId":"command_center","description":"Build a Command Center"},{"type":"missions_completed","count":6,"description":"Complete 6 successful missions"},{"type":"events_handled","count":5,"description":"Successfully handle 5 events"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":45,"description":"Reduce infection rate below 45%"}],"rewards":{"globalStability":6,"morale":5,"influence":600}},{"id":11,"name":"Multi-Provincial Control","description":"Stabilize a second territory.","objectives":[{"type":"provinces_secure","count":2,"description":"Secure 2 provinces"},{"type":"building_level","buildingId":"containment_unit","level":8,"description":"Upgrade Containment Unit to level 8"},{"type":"attribute","attribute":"globalStability","operator":">=","value":50,"description":"Achieve 50% global stability"}],"rewards":{"globalStability":6,"supplies":4000,"influence":800}},{"id":12,"name":"Power Infrastructure","description":"Develop energy generation systems.","objectives":[{"type":"building_exists","buildingId":"power_plant","description":"Build a Power Plant"},{"type":"building_level","buildingId":"workshop","level":8,"description":"Upgrade Workshop to level 8"},{"type":"technologies_researched","tier":2,"count":2,"description":"Research 2 Tier-2 technologies"}],"rewards":{"globalStability":5,"knowledge":2000,"supplies":3000}},{"id":13,"name":"Global Communications","description":"Establish satellite uplink capabilities.","objectives":[{"type":"building_exists","buildingId":"satellite","description":"Build a Satellite Uplink"},{"type":"building_level","buildingId":"radio_tower","level":8,"description":"Upgrade Radio Tower to level 8"},{"type":"missions_completed","count":9,"description":"Complete 9 successful missions"}],"rewards":{"globalStability":6,"influence":1200,"morale":6}},{"id":14,"name":"Security Operations","description":"Deploy advanced security measures.","objectives":[{"type":"building_exists","buildingId":"security_outpost","description":"Build a Security Outpost"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":40,"description":"Reduce infection rate below 40%"},{"type":"events_handled","count":10,"description":"Successfully handle 10 events"}],"rewards":{"globalStability":6,"containmentCoefficient":0.02,"morale":4}},{"id":15,"name":"Three Territories","description":"Expand control to a third province.","objectives":[{"type":"provinces_secure","count":3,"description":"Secure 3 provinces"},{"type":"building_level","buildingId":"university","level":8,"description":"Upgrade University to level 8"},{"type":"technologies_researched","tier":2,"count":3,"description":"Research 3 Tier-2 technologies"},{"type":"attribute","attribute":"morale","operator":">=","value":25,"description":"Achieve 25+ morale"}],"rewards":{"globalStability":7,"influence":1500,"supplies":5000}},{"id":16,"name":"Automation Initiative","description":"Implement automated production systems.","objectives":[{"type":"building_exists","buildingId":"automated_factory","description":"Build an Automated Factory"},{"type":"building_level","buildingId":"workshop","level":12,"description":"Upgrade Workshop to level 12"},{"type":"technologies_researched","tier":3,"count":1,"description":"Research first Tier-3 technology"},{"type":"missions_completed","count":12,"description":"Complete 12 successful missions"}],"rewards":{"globalStability":7,"knowledge":3000,"supplies":6000}},{"id":17,"name":"Intelligence Network","description":"Establish intelligence gathering operations.","objectives":[{"type":"building_exists","buildingId":"intelligence_agency","description":"Build an Intelligence Agency"},{"type":"attribute","attribute":"globalStability","operator":">=","value":65,"description":"Achieve 65% global stability"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":35,"description":"Reduce infection rate below 35%"}],"rewards":{"globalStability":7,"influence":2000,"morale":6}},{"id":18,"name":"Four Territories","description":"Secure a fourth strategic province.","objectives":[{"type":"provinces_secure","count":4,"description":"Secure 4 provinces"},{"type":"building_level","buildingId":"containment_unit","level":15,"description":"Upgrade Containment Unit to level 15"},{"type":"events_handled","count":15,"description":"Successfully handle 15 events"},{"type":"technologies_researched","tier":3,"count":2,"description":"Research 2 Tier-3 technologies"}],"rewards":{"globalStability":8,"containmentCoefficient":0.02,"supplies":8000}},{"id":19,"name":"Serum Research Begins","description":"Initiate cure research protocols.","objectives":[{"type":"building_exists","buildingId":"synthesis_station","description":"Build Serum Synthesis Station"},{"type":"technology","technologyId":"provisional_vaccine","description":"Research Provisional Vaccine"},{"type":"building_level","buildingId":"lab","level":18,"description":"Upgrade Lab to level 18"},{"type":"building_level","buildingId":"university","level":12,"description":"Upgrade University to level 12"}],"rewards":{"globalStability":8,"knowledge":5000,"serumBonus":0.05}},{"id":20,"name":"Alpha Synthesis","description":"Develop advanced serum synthesis capabilities.","objectives":[{"type":"technology","technologyId":"alpha_synthesis","description":"Research Alpha Synthesis"},{"type":"serum_progress","value":30,"description":"Reach 30% serum progress"},{"type":"building_level","buildingId":"synthesis_station","level":3,"description":"Upgrade Synthesis Station to level 3"},{"type":"attribute","attribute":"morale","operator":">=","value":35,"description":"Achieve 35+ morale"}],"rewards":{"globalStability":8,"serumBonus":0.1,"knowledge":6000}},{"id":21,"name":"Five Territories","description":"Near-total provincial control achieved.","objectives":[{"type":"provinces_secure","count":5,"description":"Secure 5 provinces"},{"type":"serum_progress","value":60,"description":"Reach 60% serum progress"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":30,"description":"Reduce infection rate below 30%"},{"type":"attribute","attribute":"globalStability","operator":">=","value":75,"description":"Achieve 75% global stability"}],"rewards":{"globalStability":9,"serumBonus":0.15,"morale":8}},{"id":22,"name":"Total Control","description":"Secure all territories globally.","objectives":[{"type":"provinces_secure","count":6,"description":"Secure all 6 provinces"},{"type":"serum_progress","value":85,"description":"Reach 85% serum progress"},{"type":"building_level","buildingId":"synthesis_station","level":5,"description":"Upgrade Synthesis Station to level 5"},{"type":"technologies_researched","tier":4,"count":2,"description":"Research 2 Tier-4 technologies"}],"rewards":{"globalStability":10,"serumBonus":0.2,"knowledge":10000}},{"id":23,"name":"Cure Complete","description":"Finalize serum synthesis.","objectives":[{"type":"serum_progress","value":100,"description":"Complete serum synthesis (100%)"},{"type":"building_exists","buildingId":"distribution_hub","description":"Build a Distribution Hub"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":25,"description":"Reduce infection rate below 25%"},{"type":"attribute","attribute":"globalStability","operator":">=","value":85,"description":"Achieve 85% global stability"}],"rewards":{"globalStability":10,"morale":10,"distributionBonus":0.3}},{"id":24,"name":"Mass Distribution","description":"Deploy serum across multiple provinces.","objectives":[{"type":"provinces_distributed","count":4,"description":"Distribute serum to 4 provinces"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":15,"description":"Reduce infection rate below 15%"},{"type":"attribute","attribute":"globalStability","operator":">=","value":92,"description":"Achieve 92% global stability"},{"type":"attribute","attribute":"morale","operator":">=","value":60,"description":"Achieve 60+ morale"}],"rewards":{"globalStability":12,"distributionBonus":0.5,"morale":15}},{"id":25,"name":"Humanity Reborn","description":"Eradicate the infection. Restore humanity. Achieve victory.","objectives":[{"type":"provinces_distributed","count":6,"description":"Distribute serum to all 6 provinces"},{"type":"attribute","attribute":"infectionRate","operator":"<","value":5,"description":"Reduce infection rate below 5%"},{"type":"attribute","attribute":"globalStability","operator":">=","value":95,"description":"Achieve 95% global stability"},{"type":"attribute","attribute":"morale","operator":">=","value":75,"description":"Achieve 75% morale"}],"rewards":{"victory":true,"ancestralData":100}}]')},3405:(e,i,t)=>{t.d(i,{T:()=>U});var n=t(5453),s=t(6786),o=t(9987),r=t(9041),a=t(9815),l=t(4428),c=t(6106),u=t(182);let d=JSON.parse('[{"id":"outbreak_local","type":"outbreak","severity":"high","name":"Local Outbreak Detected","description":"Satellite surveillance has detected a surge of infected activity in a nearby settlement. Thermal imaging shows hundreds of signatures. The settlement is requesting immediate assistance. Time is critical.","triggerConditions":{"minInfectionRate":15,"randomChance":0.4,"cooldown":600},"scalingFactor":1.5,"tags":["crisis","infection","time_sensitive"],"choices":[{"id":"quarantine_strict","label":"Enforce Strict Quarantine","description":"Deploy containment teams to seal off the settlement. Harsh but effective.","cost":{"supplies":6000,"influence":750,"survivors":50},"requirements":{"building":"containment_unit","minLevel":1},"effects":[{"type":"attribute","target":"infectionRate","value":-18,"duration":1800},{"type":"attribute","target":"morale","value":-24,"duration":1200},{"type":"attribute","target":"globalStability","value":15,"duration":1500}],"reputationChange":-2,"followUpEvents":["quarantine_aftermath","survivor_protest"],"narrativeFlag":"harsh_quarantine_used"},{"id":"medical_response","label":"Dispatch Medical Strike Team","description":"Send your best medical personnel with full protective gear and treatment supplies.","cost":{"supplies":10000,"knowledge":1000,"survivors":100},"requirements":{"building":"clinic","technology":"containment_protocols"},"effects":[{"type":"attribute","target":"infectionRate","value":-12,"duration":1500},{"type":"attribute","target":"morale","value":24,"duration":1200},{"type":"currency","target":"influence","value":2000,"duration":0},{"type":"currency","target":"knowledge","value":500,"duration":0}],"reputationChange":3,"followUpEvents":["medical_hero_return","sample_discovery"],"narrativeFlag":"medical_intervention_success","successChance":0.85},{"id":"evacuation","label":"Coordinate Emergency Evacuation","description":"Extract as many survivors as possible before the infection spreads uncontrollably.","cost":{"supplies":7500,"influence":1000},"effects":[{"type":"currency","target":"survivors","value":250,"duration":0},{"type":"attribute","target":"infectionRate","value":6,"duration":900},{"type":"attribute","target":"morale","value":9,"duration":1500}],"reputationChange":1,"followUpEvents":["refugee_integration","infection_spread_warning"],"narrativeFlag":"evacuation_attempted"},{"id":"ignore","label":"Prioritize Central Hub Resources","description":"Conserve resources for your primary base. The settlement is on its own.","cost":{},"effects":[{"type":"attribute","target":"infectionRate","value":30,"duration":3000},{"type":"attribute","target":"globalStability","value":-24,"duration":2000},{"type":"attribute","target":"morale","value":-36,"duration":1800},{"type":"currency","target":"influence","value":-2500,"duration":0}],"reputationChange":-4,"followUpEvents":["settlement_lost","trust_broken","refugees_hostile"],"narrativeFlag":"abandoned_settlement"}],"expiryTime":180,"expiryConsequence":"ignore"},{"id":"supply_convoy_ambush","type":"crisis","severity":"critical","name":"Supply Convoy Under Attack","description":"Your supply convoy carrying critical medical equipment is under attack by desperate raiders. The convoy leader is requesting immediate support. Radio chatter suggests heavy casualties.","triggerConditions":{"minPhase":2,"randomChance":0.3,"requiresProvince":true},"scalingFactor":1.8,"tags":["combat","supplies","urgent"],"choices":[{"id":"military_response","label":"Deploy Armed Response Team","description":"Send your trained security forces to engage the raiders and secure the convoy.","cost":{"survivors":75,"supplies":4000,"influence":500},"requirements":{"technology":"tactical_training"},"effects":[{"type":"currency","target":"supplies","value":15000,"duration":0},{"type":"currency","target":"knowledge","value":750,"duration":0},{"type":"attribute","target":"morale","value":15,"duration":1500}],"reputationChange":2,"casualtyChance":0.3,"followUpEvents":["raider_intelligence","security_upgrade"],"narrativeFlag":"defeated_raiders"},{"id":"negotiate","label":"Attempt Negotiation","description":"Offer the raiders some supplies in exchange for safe passage of critical equipment.","cost":{"supplies":12500,"influence":1000},"effects":[{"type":"currency","target":"supplies","value":7500,"duration":0},{"type":"currency","target":"knowledge","value":500,"duration":0},{"type":"attribute","target":"morale","value":-9,"duration":900}],"reputationChange":-1,"followUpEvents":["raider_truce","convoy_vulnerability"],"narrativeFlag":"negotiated_with_raiders"},{"id":"sacrifice_convoy","label":"Order Convoy to Scatter","description":"Tell the convoy to abandon supplies and save themselves. Most will escape.","cost":{},"effects":[{"type":"currency","target":"supplies","value":-10000,"duration":0},{"type":"attribute","target":"morale","value":-24,"duration":1500},{"type":"currency","target":"knowledge","value":-500,"duration":0}],"reputationChange":-2,"followUpEvents":["supply_crisis","morale_breakdown"],"narrativeFlag":"abandoned_convoy"}],"expiryTime":120,"expiryConsequence":"sacrifice_convoy"},{"id":"scientific_breakthrough","type":"discovery","severity":"low","name":"Breakthrough in Viral Analysis","description":"Your research team has discovered a novel approach to understanding the pathogen\'s mutation patterns. This could revolutionize your containment strategy, but sharing it might help all survivors.","triggerConditions":{"requiredBuilding":"lab","minPhase":3,"randomChance":0.2,"minKnowledge":500},"scalingFactor":2,"tags":["research","ethical","strategic"],"choices":[{"id":"share_openly","label":"Share Research Openly","description":"Broadcast findings to all settlements. Advance humanity\'s collective knowledge.","cost":{"knowledge":2000},"effects":[{"type":"currency","target":"influence","value":6000,"duration":0},{"type":"currency","target":"knowledge","value":4000,"duration":0},{"type":"attribute","target":"morale","value":36,"duration":3000},{"type":"attribute","target":"containmentCoefficient","value":0.1,"duration":0},{"type":"production","target":"knowledge","value":0.45,"duration":3000}],"reputationChange":4,"followUpEvents":["collaborative_research","recognition_award"],"narrativeFlag":"scientific_altruism","unlocksUpgrade":"collaborative_research_network"},{"id":"selective_sharing","label":"Trade for Resources","description":"Share findings with allied settlements in exchange for resources and support.","cost":{"knowledge":1500},"effects":[{"type":"currency","target":"influence","value":3000,"duration":0},{"type":"currency","target":"supplies","value":10000,"duration":0},{"type":"currency","target":"knowledge","value":3000,"duration":0},{"type":"attribute","target":"morale","value":15,"duration":1500}],"reputationChange":1,"followUpEvents":["trade_network_expansion"],"narrativeFlag":"pragmatic_sharing"},{"id":"monopolize","label":"Maintain Exclusive Control","description":"Keep this breakthrough secret. Use it to secure your settlement\'s dominance.","cost":{},"effects":[{"type":"currency","target":"knowledge","value":7500,"duration":0},{"type":"attribute","target":"infectionRate","value":-24,"duration":4000},{"type":"production","target":"knowledge","value":0.75,"duration":3000},{"type":"attribute","target":"containmentCoefficient","value":0.1,"duration":0}],"reputationChange":-3,"followUpEvents":["isolation_warning","espionage_attempt"],"narrativeFlag":"scientific_monopoly","unlocksUpgrade":"classified_research_division"}],"expiryTime":300,"expiryConsequence":"share_openly"},{"id":"refugee_wave","type":"humanitarian","severity":"medium","name":"Massive Refugee Influx","description":"A neighboring settlement has fallen. Hundreds of refugees are approaching your gates, begging for sanctuary. Your resources are already stretched thin, but turning them away might doom them.","triggerConditions":{"maxGlobalStability":50,"minPhase":2,"randomChance":0.35},"scalingFactor":1.6,"tags":["humanitarian","ethical","resource_strain"],"choices":[{"id":"accept_all","label":"Accept All Refugees","description":"Open your gates. Humanity must stand together, no matter the cost.","cost":{"supplies":15000,"influence":500},"effects":[{"type":"currency","target":"survivors","value":600,"duration":0},{"type":"attribute","target":"morale","value":45,"duration":2400},{"type":"attribute","target":"infectionRate","value":15,"duration":1500},{"type":"production","target":"all","value":-0.45,"duration":1800},{"type":"currency","target":"influence","value":4000,"duration":0}],"reputationChange":5,"followUpEvents":["refugee_integration_success","resource_strain_event"],"narrativeFlag":"humanitarian_hero"},{"id":"screening_process","label":"Implement Strict Screening","description":"Accept refugees but only after thorough medical and security screening.","cost":{"supplies":10000,"knowledge":750,"influence":750},"requirements":{"building":"clinic","minLevel":2},"effects":[{"type":"currency","target":"survivors","value":400,"duration":0},{"type":"attribute","target":"morale","value":24,"duration":1800},{"type":"attribute","target":"infectionRate","value":3,"duration":900},{"type":"attribute","target":"globalStability","value":9,"duration":1500}],"reputationChange":2,"followUpEvents":["screening_delays","false_positive_tragedy"],"narrativeFlag":"careful_acceptance"},{"id":"limited_acceptance","label":"Accept Only Skilled Workers","description":"Select refugees with valuable skills. Send the rest to other settlements.","cost":{"supplies":5000,"influence":1250},"effects":[{"type":"currency","target":"survivors","value":150,"duration":0},{"type":"production","target":"all","value":0.3,"duration":2400},{"type":"attribute","target":"morale","value":-15,"duration":1500}],"reputationChange":-1,"followUpEvents":["skilled_refugee_contribution","guilt_haunts"],"narrativeFlag":"selective_mercy"},{"id":"turn_away","label":"Close the Gates","description":"Harsh but necessary. Your settlement\'s survival comes first.","cost":{},"effects":[{"type":"attribute","target":"morale","value":-54,"duration":2400},{"type":"attribute","target":"globalStability","value":-24,"duration":2000},{"type":"currency","target":"influence","value":-5000,"duration":0}],"reputationChange":-5,"followUpEvents":["refugee_camp_collapse","morale_crisis","isolation_consequence"],"narrativeFlag":"gates_closed"}],"expiryTime":240,"expiryConsequence":"turn_away"},{"id":"sabotage_suspected","type":"intrigue","severity":"high","name":"Suspected Sabotage","description":"Critical equipment has been damaged, and the timing is too suspicious to be accidental. Someone in your settlement might be working against you. Trust is eroding among your people.","triggerConditions":{"minPhase":4,"maxMorale":40,"randomChance":0.25},"scalingFactor":1.4,"tags":["intrigue","security","morale"],"choices":[{"id":"investigation","label":"Launch Full Investigation","description":"Deploy resources to uncover the truth. Justice must be served.","cost":{"influence":1500,"survivors":50,"supplies":4000},"effects":[{"type":"attribute","target":"morale","value":-15,"duration":1200},{"type":"attribute","target":"globalStability","value":24,"duration":2000}],"reputationChange":1,"followUpEvents":["saboteur_found","false_accusations","internal_conspiracy"],"narrativeFlag":"investigation_launched","successChance":0.7},{"id":"security_lockdown","label":"Implement Security Lockdown","description":"Restrict movement and implement surveillance. Prevent further damage.","cost":{"influence":1000,"supplies":6000},"effects":[{"type":"attribute","target":"morale","value":-36,"duration":1800},{"type":"production","target":"all","value":-0.6,"duration":1500},{"type":"attribute","target":"globalStability","value":36,"duration":2000}],"reputationChange":-2,"followUpEvents":["lockdown_strain","underground_resistance"],"narrativeFlag":"lockdown_imposed"},{"id":"address_grievances","label":"Address Underlying Grievances","description":"Perhaps sabotage is a symptom. Hold town halls and address complaints.","cost":{"influence":2000,"supplies":10000},"effects":[{"type":"attribute","target":"morale","value":36,"duration":2400},{"type":"attribute","target":"globalStability","value":15,"duration":1800},{"type":"currency","target":"survivors","value":75,"duration":0}],"reputationChange":3,"followUpEvents":["community_healing","saboteur_escapes"],"narrativeFlag":"grievances_addressed"},{"id":"ignore_threat","label":"Dismiss as Accident","description":"Maintain calm. Paranoia helps no one. Repair and move forward.","cost":{"supplies":5000},"effects":[{"type":"attribute","target":"globalStability","value":-30,"duration":2400}],"reputationChange":-1,"followUpEvents":["escalating_sabotage","systems_failure"],"narrativeFlag":"threat_ignored"}],"expiryTime":240,"expiryConsequence":"ignore_threat"},{"id":"mutation_detected","type":"outbreak","severity":"critical","name":"Pathogen Mutation Detected","description":"Your research teams have detected a new strain of the pathogen. It\'s more aggressive, spreads faster, and your current containment protocols are less effective. This changes everything.","triggerConditions":{"minPhase":5,"minInfectionRate":30,"requiredBuilding":"lab","randomChance":0.15},"scalingFactor":2.5,"tags":["crisis","research","infection","urgent"],"choices":[{"id":"emergency_research","label":"Emergency Research Protocol","description":"All hands on deck. Divert all resources to understanding this new strain.","cost":{"knowledge":4000,"supplies":15000,"influence":2000},"requirements":{"building":"lab","minLevel":3},"effects":[{"type":"production","target":"knowledge","value":1.5,"duration":2400},{"type":"attribute","target":"infectionRate","value":9,"duration":1500},{"type":"currency","target":"knowledge","value":5000,"duration":0},{"type":"attribute","target":"containmentCoefficient","value":0.1,"duration":0}],"reputationChange":2,"followUpEvents":["breakthrough_adaptation","research_exhaustion"],"narrativeFlag":"emergency_research_initiated","unlocksUpgrade":"mutation_tracker"},{"id":"extreme_containment","label":"Extreme Containment Measures","description":"Implement draconian quarantine protocols to buy time for research.","cost":{"supplies":12500,"influence":2500,"survivors":100},"requirements":{"building":"containment_unit","minLevel":2},"effects":[{"type":"attribute","target":"infectionRate","value":-36,"duration":2400},{"type":"attribute","target":"morale","value":-60,"duration":2400},{"type":"attribute","target":"globalStability","value":-30,"duration":1800}],"reputationChange":-3,"followUpEvents":["containment_success","civil_unrest"],"narrativeFlag":"extreme_measures_taken"},{"id":"request_aid","label":"Request Global Assistance","description":"This is bigger than one settlement. Call for international cooperation.","cost":{"influence":4000,"knowledge":2000},"requirements":{"technology":"sat_uplink"},"effects":[{"type":"currency","target":"supplies","value":20000,"duration":0},{"type":"currency","target":"knowledge","value":4000,"duration":0},{"type":"attribute","target":"morale","value":30,"duration":2000},{"type":"attribute","target":"infectionRate","value":-15,"duration":1800}],"reputationChange":4,"followUpEvents":["global_cooperation","shared_resources"],"narrativeFlag":"requested_global_aid","unlocksUpgrade":"international_collaboration"}],"expiryTime":180,"expiryConsequence":"extreme_containment"},{"id":"ethical_vaccine_test","type":"ethical","severity":"medium","name":"Vaccine Trials: Ethical Dilemma","description":"Your provisional vaccine is ready for human trials. Volunteers are scarce. Some scientists suggest mandatory testing on specific populations. The ethical implications are profound, but lives hang in the balance.","triggerConditions":{"minPhase":6,"technology":"provisional_vaccine","randomChance":0.3},"scalingFactor":1.8,"tags":["ethical","research","policy"],"choices":[{"id":"volunteer_only","label":"Strict Volunteer Protocol","description":"Only test on informed volunteers. Slow but ethical progress.","cost":{"knowledge":5000,"supplies":4000,"influence":1500},"effects":[{"type":"attribute","target":"morale","value":30,"duration":3000},{"type":"currency","target":"knowledge","value":3000,"duration":0},{"type":"production","target":"knowledge","value":0.3,"duration":2400},{"type":"attribute","target":"infectionRate","value":-9,"duration":2400}],"reputationChange":4,"followUpEvents":["ethical_recognition","slow_progress_frustration"],"narrativeFlag":"ethical_testing"},{"id":"incentivized_testing","label":"Offer Generous Incentives","description":"Provide substantial rewards to encourage volunteers. Ethical but expensive.","cost":{"knowledge":4000,"supplies":12500,"influence":1000},"effects":[{"type":"attribute","target":"morale","value":15,"duration":1800},{"type":"currency","target":"knowledge","value":4500,"duration":0},{"type":"attribute","target":"infectionRate","value":-15,"duration":2400}],"reputationChange":2,"followUpEvents":["successful_trials","resource_depletion"],"narrativeFlag":"incentivized_testing"},{"id":"mandatory_test","label":"Mandatory Testing Program","description":"Survival of humanity justifies forcing trials. The needs of the many outweigh individual rights.","cost":{"knowledge":3000,"influence":2000},"effects":[{"type":"attribute","target":"infectionRate","value":-30,"duration":3000},{"type":"attribute","target":"morale","value":-75,"duration":3000},{"type":"currency","target":"knowledge","value":7500,"duration":0},{"type":"attribute","target":"globalStability","value":-45,"duration":2400}],"reputationChange":-6,"followUpEvents":["resistance_movement","moral_decay","scientific_breakthrough"],"narrativeFlag":"forced_testing"},{"id":"delay_testing","label":"Delay Until More Data","description":"Postpone human trials. Conduct more animal studies first.","cost":{"knowledge":2000},"effects":[{"type":"attribute","target":"globalStability","value":-15,"duration":1500},{"type":"currency","target":"knowledge","value":2000,"duration":0},{"type":"attribute","target":"infectionRate","value":15,"duration":1800}],"reputationChange":-1,"followUpEvents":["delay_consequences","improved_methodology"],"narrativeFlag":"testing_delayed"}],"expiryTime":300,"expiryConsequence":"delay_testing"},{"id":"power_struggle","type":"political","severity":"high","name":"Leadership Challenge","description":"A charismatic survivor has gained significant following, questioning your leadership decisions. They\'re calling for a vote of confidence. Your authority is being directly challenged at a critical time.","triggerConditions":{"minPhase":5,"maxMorale":35,"randomChance":0.2},"scalingFactor":1.5,"tags":["political","crisis","leadership"],"choices":[{"id":"call_election","label":"Call Democratic Election","description":"Embrace democracy. Let the people choose their leader.","cost":{"influence":2500},"effects":[{"type":"attribute","target":"morale","value":45,"duration":2400},{"type":"production","target":"all","value":-0.3,"duration":1200},{"type":"attribute","target":"globalStability","value":30,"duration":2400}],"reputationChange":5,"followUpEvents":["election_victory","election_defeat","democratic_renewal"],"narrativeFlag":"democratic_election","successChance":0.6},{"id":"compromise_coalition","label":"Form Coalition Government","description":"Share power with the challenger. Collaboration over conflict.","cost":{"influence":1500,"supplies":7500},"effects":[{"type":"attribute","target":"morale","value":24,"duration":1800},{"type":"production","target":"all","value":0.15,"duration":2400},{"type":"currency","target":"influence","value":2000,"duration":0}],"reputationChange":3,"followUpEvents":["coalition_success","power_sharing_conflict"],"narrativeFlag":"coalition_formed"},{"id":"consolidate_power","label":"Consolidate Authority","description":"Demonstrate strength. Remove the challenger from positions of influence.","cost":{"influence":2000,"survivors":25},"effects":[{"type":"attribute","target":"morale","value":-45,"duration":2400},{"type":"attribute","target":"globalStability","value":45,"duration":1800},{"type":"production","target":"all","value":0.3,"duration":1800}],"reputationChange":-4,"followUpEvents":["authoritarian_efficiency","underground_opposition"],"narrativeFlag":"authoritarian_response"},{"id":"public_debate","label":"Engage in Public Debate","description":"Face the challenger directly. Let ideas compete in the marketplace of thought.","cost":{"influence":1000},"effects":[{"type":"attribute","target":"morale","value":15,"duration":1500},{"type":"currency","target":"influence","value":1500,"duration":0}],"reputationChange":2,"followUpEvents":["debate_victory","debate_loss","respected_leadership"],"narrativeFlag":"public_debate_held","successChance":0.65}],"expiryTime":240,"expiryConsequence":"consolidate_power"},{"id":"resource_shortage","type":"crisis","severity":"medium","name":"Critical Supply Shortage","description":"Supply lines have collapsed. Your stockpiles are critically low. Rationing is inevitable, but how you implement it will define your community\'s character. People are scared and hungry.","triggerConditions":{"maxGlobalStability":40,"randomChance":0.4},"scalingFactor":1.4,"tags":["resource","crisis","policy"],"choices":[{"id":"ration_equally","label":"Equal Rationing for All","description":"Everyone gets the same share, regardless of position. Unity in sacrifice.","cost":{"supplies":7500},"effects":[{"type":"attribute","target":"morale","value":24,"duration":1800},{"type":"currency","target":"influence","value":2500,"duration":0},{"type":"production","target":"all","value":-0.45,"duration":1800},{"type":"attribute","target":"globalStability","value":15,"duration":1500}],"reputationChange":3,"followUpEvents":["shared_sacrifice","productivity_drop"],"narrativeFlag":"equal_rationing"},{"id":"prioritize_essential","label":"Prioritize Essential Workers","description":"Give more rations to those keeping critical infrastructure running.","cost":{"influence":1000},"effects":[{"type":"attribute","target":"morale","value":-24,"duration":1800},{"type":"attribute","target":"globalStability","value":24,"duration":1800},{"type":"currency","target":"supplies","value":10000,"duration":0},{"type":"production","target":"all","value":0.3,"duration":1800}],"reputationChange":-2,"followUpEvents":["class_divide","efficient_recovery"],"narrativeFlag":"prioritized_rationing"},{"id":"market_system","label":"Implement Market-Based System","description":"Let people trade for supplies. Those who contribute more, receive more.","cost":{"influence":1500},"effects":[{"type":"attribute","target":"morale","value":-36,"duration":2400},{"type":"production","target":"all","value":0.6,"duration":2400},{"type":"currency","target":"supplies","value":12500,"duration":0},{"type":"attribute","target":"globalStability","value":-15,"duration":1500}],"reputationChange":-3,"followUpEvents":["economic_inequality","production_surge"],"narrativeFlag":"market_rationing"},{"id":"emergency_scavenging","label":"Organize Emergency Scavenging","description":"Send teams to search abandoned areas for supplies.","cost":{"survivors":125,"influence":750},"effects":[{"type":"currency","target":"supplies","value":17500,"duration":0},{"type":"attribute","target":"morale","value":15,"duration":1200}],"reputationChange":1,"casualtyChance":0.25,"followUpEvents":["scavenging_success","scavenging_casualties"],"narrativeFlag":"emergency_scavenging"}],"expiryTime":180,"expiryConsequence":"prioritize_essential"},{"id":"mysterious_benefactor","type":"opportunity","severity":"low","name":"Mysterious Benefactor","description":"An unmarked convoy has arrived offering substantial resources with no strings attached. The leader refuses to identify themselves. This could be a generous gift, or a trap. Your security team is divided on how to proceed.","triggerConditions":{"minPhase":4,"randomChance":0.15},"scalingFactor":2.2,"tags":["mystery","opportunity","risk"],"choices":[{"id":"accept_resources","label":"Accept the Resources","description":"Don\'t look a gift horse in the mouth. Take what you need to survive.","cost":{},"effects":[{"type":"currency","target":"supplies","value":25000,"duration":0},{"type":"currency","target":"knowledge","value":2500,"duration":0},{"type":"attribute","target":"morale","value":30,"duration":1800}],"reputationChange":0,"followUpEvents":["benefactor_revealed","strings_attached","trojan_horse"],"narrativeFlag":"accepted_mysterious_aid","successChance":0.6},{"id":"investigate_first","label":"Investigate Before Accepting","description":"Take time to verify the source and scan for threats.","cost":{"knowledge":1000,"influence":500},"requirements":{"technology":"sat_uplink"},"effects":[{"type":"currency","target":"supplies","value":20000,"duration":0},{"type":"currency","target":"knowledge","value":2000,"duration":0},{"type":"attribute","target":"globalStability","value":15,"duration":1500}],"reputationChange":1,"followUpEvents":["benefactor_identity","safe_acceptance"],"narrativeFlag":"investigated_aid"},{"id":"negotiate_terms","label":"Negotiate for Transparency","description":"Refuse resources unless they reveal their identity and motives.","cost":{"influence":1000},"effects":[{"type":"currency","target":"supplies","value":15000,"duration":0},{"type":"currency","target":"influence","value":3000,"duration":0},{"type":"attribute","target":"morale","value":15,"duration":1500}],"reputationChange":2,"followUpEvents":["alliance_formed","negotiations_failed"],"narrativeFlag":"negotiated_terms","successChance":0.7},{"id":"refuse_outright","label":"Refuse All Contact","description":"Send them away. Trust only what you\'ve built yourself.","cost":{},"effects":[{"type":"attribute","target":"morale","value":-15,"duration":1200},{"type":"attribute","target":"globalStability","value":9,"duration":1500}],"reputationChange":-1,"followUpEvents":["missed_opportunity","self_reliance_pride"],"narrativeFlag":"refused_aid"}],"expiryTime":180,"expiryConsequence":"refuse_outright"}]');var p=t(3105),g=t(9629),m=t(2115),f=t(3453),v=t(1284),b=t(1243),h=t(5778),y=t(3580),_=t(677);function w(e,i){if(!i)return;let{title:t,description:n,type:s,duration:o=5e3,navigateTo:r,actionLabel:a}=e,{component:l,iconClass:c,railClass:u}={success:{component:f.A,iconClass:"text-success",railClass:"before:bg-success/70"},info:{component:v.A,iconClass:"text-info",railClass:"before:bg-info/70"},warning:{component:b.A,iconClass:"text-warning",railClass:"before:bg-warning/70"},error:{component:h.A,iconClass:"text-danger",railClass:"before:bg-danger/70"}}[s],d=()=>{r&&window.location.assign(r)},p=r?(0,m.createElement)(_.Qg,{altText:null!=a?a:"Open",onClick:e=>{e.preventDefault(),e.stopPropagation(),d()}},null!=a?a:"Open"):void 0;if((0,y.oR)({variant:{success:"default",info:"default",warning:"destructive",error:"destructive"}[s],duration:o,onClick:r?d:void 0,action:p,className:"relative overflow-hidden border border-border/60 bg-surface-elevated/95 px-4 py-3 text-foreground shadow-xl backdrop-blur transition-colors before:absolute before:left-0 before:top-0 before:h-full before:w-1 ".concat(u," ").concat(r?"cursor-pointer hover:border-primary/40":""),title:(0,m.createElement)("div",{className:"flex items-start gap-3"},(0,m.createElement)(l,{className:"".concat(c," h-5 w-5 flex-shrink-0")}),(0,m.createElement)("div",{className:"space-y-1"},(0,m.createElement)("p",{className:"text-sm font-semibold"},t),n?(0,m.createElement)("p",{className:"text-xs text-muted-foreground"},n):null)),description:void 0}),"Notification"in window){if("granted"===Notification.permission)try{new Notification(t,{body:n,icon:"/favicon.ico",badge:"/favicon.ico"})}catch(e){console.log("[v0] Browser notification failed:",e)}else"denied"!==Notification.permission&&Notification.requestPermission()}}let k={missionCompleted:(e,i)=>({title:"Mission Completed",description:"".concat(e," mission successful! Gained ").concat(i),type:"success"}),missionFailed:(e,i)=>({title:"Mission Failed",description:"".concat(e," mission failed. Lost ").concat(i),type:"error"}),researchCompleted:e=>({title:"Research Complete",description:"".concat(e," research finished! New capabilities unlocked"),type:"success"}),buildingCompleted:(e,i)=>({title:"Construction Complete",description:"".concat(e," upgraded to level ").concat(i),type:"success"}),provinceUnlocked:e=>({title:"Territory Expanded",description:"".concat(e," is now under your control"),type:"success"}),provinceStabilized:e=>({title:"Province Secured",description:"".concat(e," has been stabilized and is now safe"),type:"success"}),phaseCompleted:(e,i)=>({title:"Phase Complete",description:"".concat(e," (Phase ").concat(i,") objectives achieved!"),type:"success",duration:8e3}),criticalInfection:e=>({title:"CRITICAL: Infection at 100%",description:"Game Over in ".concat(e," seconds if infection remains at 100%"),type:"error",duration:1e4}),noSurvivors:e=>({title:"CRITICAL: Population Collapse",description:"Game Over in ".concat(e," seconds with zero survivors"),type:"error",duration:1e4}),lowStability:e=>({title:"CRITICAL: Stability Failure",description:"Game Over in ".concat(e," seconds if stability remains critical"),type:"error",duration:1e4}),multipleRedProvinces:()=>({title:"CRITICAL: Territory Loss",description:"5+ provinces in critical status - immediate action required!",type:"error",duration:1e4}),resourceStarvation:e=>({title:"CRITICAL: Resource Crisis",description:"Game Over in ".concat(e," seconds - cannot afford maintenance"),type:"error",duration:1e4})};var C=t(1981),S=t(9387);let R={version:"2.0.0",lastSaved:Date.now(),totalPlayTime:0,currentRunPlayTime:0,lastTick:Date.now(),currentSlot:1,currencies:{survivors:50,supplies:500,knowledge:250,influence:50,ancestralData:0},resourceRates:{survivors:0,supplies:0,knowledge:0,influence:0},globalAttributes:{globalStability:50,infectionRate:10,containmentCoefficient:.1,morale:60},buildings:[],technologies:[],researchQueue:[],currentPhase:1,phaseProgress:{},campaignPhase:1,missionsCompleted:0,eventsHandled:0,provinces:[{id:"central_hub",unlocked:!0,status:"safe",stabilityLevel:100,stability:100,defenseLevel:0,outposts:{}}],activeEvents:[],eventHistory:[],eventStats:{lastSpawnAt:Date.now(),averageInterval:12e4},nextEventSpawnAt:Date.now()+12e4,narrativeFlags:[],eventCooldowns:{},pendingFollowUpEvents:[],activeMissions:[],completedMissions:[],missionEquipment:[],veteranSurvivors:[],specialists:[],missionCompletions:{},technologyFragments:0,intelPoints:0,diplomaticFavor:0,lastMissionReport:null,equipmentBlueprints:[],missionLoadouts:[],missionChains:[],dailyMissions:[],missionAchievements:[],missionIntel:{},emergencyRecallCooldown:0,unlockedFeatures:[],territoryIntel:{},missionStatistics:{totalSuccesses:0,totalFailures:0,consecutiveSuccesses:0,longestWinStreak:0,fastestCompletionTimes:{},totalMissionsUnder5Min:0},isPaused:!0,pausedAt:null,totalPausedTime:0,hasEverUnpaused:!1,temporaryEffects:{attributes:[],production:[]},serumProgress:0,serumRecipes:[],synthesisAttempts:0,synthesisSuccesses:0,serumQuality:0,serumQualityHistory:[],provincesDistributed:[],breakthroughsUnlocked:[],contaminationEvents:0,serumStages:[],currentSerumStage:0,activeSynthesis:null,serumDoses:{},ancestralData:0,prestigePoints:0,prestigeUpgrades:[],settings:{animationSpeed:1,numberFormat:"short",autoSave:!0,notifications:!0},reputation:0,ethicalChoices:{},tutorialDismissed:!1,patchNotesVersionViewed:null,hasSeenWelcome:!1,gameOver:!1,gameOverReason:null,warningState:{criticalInfection:!1,noSurvivors:!1,collapsedStability:!1,multipleRedProvinces:!1,resourceStarvation:!1,lowMorale:!1},crisisCounters:{infectionAt100Ticks:0,zeroSurvivorsTicks:0,lowStabilityTicks:0,redProvinceCount:0,negativeResourceTicks:0,lowMoraleTicks:0}},E=(0,C.yC)(r),M=e=>JSON.parse(JSON.stringify(e)),P=(e,i)=>Math.min(18e4,Math.max(6e4,12e4+5e3*Math.max(-5,Math.min(5,e))+2e4*i)),A=(e,i)=>{var t;let n=.2;"outbreak"===e.type?n=.3:"aid"===e.type?n=.2:"crisis"===e.type?n=.25:"discovery"===e.type&&(n=.25),(null===(t=e.triggerConditions)||void 0===t?void 0:t.randomChance)&&(n*=e.triggerConditions.randomChance);let s=1;return"aid"===e.type||"discovery"===e.type?s+=Math.max(-.3,Math.min(.3,.03*i)):("outbreak"===e.type||"crisis"===e.type)&&(s-=Math.max(-.3,Math.min(.3,.03*i))),n*(s=Math.max(.1,s))},I=e=>Math.max(0,Math.min(100,e)),T=e=>Math.max(0,Math.min(1,e)),q=(e,i)=>{let t=Math.max(0,Math.floor(e)),n=!1,s=i.map(e=>{if(!1===e.active)return 0!==e.workers?(n=!0,{...e,workers:0}):e;let i=Math.min(e.workers,t);return(t-=i,i===e.workers)?e:(n=!0,{...e,workers:i})});return n?s:i},x=e=>M({version:e.version,lastSaved:Date.now(),totalPlayTime:e.totalPlayTime,currentRunPlayTime:e.currentRunPlayTime,lastTick:Date.now(),currentSlot:e.currentSlot,currencies:e.currencies,resourceRates:e.resourceRates,globalAttributes:e.globalAttributes,buildings:e.buildings,technologies:e.technologies,researchQueue:e.researchQueue,currentPhase:e.currentPhase,phaseProgress:e.phaseProgress,campaignPhase:e.campaignPhase,missionsCompleted:e.missionsCompleted,eventsHandled:e.eventsHandled,provinces:e.provinces,activeEvents:e.activeEvents,eventHistory:e.eventHistory,eventStats:e.eventStats,nextEventSpawnAt:e.nextEventSpawnAt,narrativeFlags:e.narrativeFlags,eventCooldowns:e.eventCooldowns,pendingFollowUpEvents:e.pendingFollowUpEvents,activeMissions:e.activeMissions,completedMissions:e.completedMissions,missionEquipment:e.missionEquipment,veteranSurvivors:e.veteranSurvivors,specialists:e.specialists,missionCompletions:e.missionCompletions,technologyFragments:e.technologyFragments,intelPoints:e.intelPoints,diplomaticFavor:e.diplomaticFavor,lastMissionReport:e.lastMissionReport,equipmentBlueprints:e.equipmentBlueprints,missionLoadouts:e.missionLoadouts,missionChains:e.missionChains,dailyMissions:e.dailyMissions,missionAchievements:e.missionAchievements,missionIntel:e.missionIntel,emergencyRecallCooldown:e.emergencyRecallCooldown,unlockedFeatures:e.unlockedFeatures,territoryIntel:e.territoryIntel,missionStatistics:e.missionStatistics,temporaryEffects:e.temporaryEffects,serumProgress:e.serumProgress,serumRecipes:e.serumRecipes,synthesisAttempts:e.synthesisAttempts,synthesisSuccesses:e.synthesisSuccesses,serumQuality:e.serumQuality,serumQualityHistory:e.serumQualityHistory,provincesDistributed:e.provincesDistributed,breakthroughsUnlocked:e.breakthroughsUnlocked,contaminationEvents:e.contaminationEvents,ancestralData:e.ancestralData,prestigePoints:e.prestigePoints,prestigeUpgrades:e.prestigeUpgrades,settings:e.settings,reputation:e.reputation,ethicalChoices:e.ethicalChoices,tutorialDismissed:e.tutorialDismissed,patchNotesVersionViewed:e.patchNotesVersionViewed,hasSeenWelcome:e.hasSeenWelcome,gameOver:e.gameOver,gameOverReason:e.gameOverReason,warningState:e.warningState,crisisCounters:e.crisisCounters,isPaused:e.isPaused,pausedAt:e.pausedAt,totalPausedTime:e.totalPausedTime,hasEverUnpaused:e.hasEverUnpaused}),B=e=>{var i,t,n,s,o,r,a,l,c,u,d,p,g,m,f,v;let b={...R,...e,currencies:{...R.currencies,...null!==(o=null==e?void 0:e.currencies)&&void 0!==o?o:{}},resourceRates:{...R.resourceRates,...null!==(r=null==e?void 0:e.resourceRates)&&void 0!==r?r:{}},globalAttributes:{...R.globalAttributes,...null!==(a=null==e?void 0:e.globalAttributes)&&void 0!==a?a:{}},buildings:(null==e?void 0:e.buildings)?[...e.buildings]:[...R.buildings],technologies:(null==e?void 0:e.technologies)?[...e.technologies]:[...R.technologies],researchQueue:(null==e?void 0:e.researchQueue)?[...e.researchQueue]:[...R.researchQueue],phaseProgress:{...R.phaseProgress,...null!==(l=null==e?void 0:e.phaseProgress)&&void 0!==l?l:{}},provinces:(null==e?void 0:e.provinces)?e.provinces.map(e=>{var i,t,n;return{...e,stability:null!==(t=null!==(i=e.stability)&&void 0!==i?i:e.stabilityLevel)&&void 0!==t?t:100,defenseLevel:null!==(n=e.defenseLevel)&&void 0!==n?n:0}}):[...R.provinces],activeEvents:(null==e?void 0:e.activeEvents)?[...e.activeEvents]:[],eventHistory:(null==e?void 0:e.eventHistory)?[...e.eventHistory]:[],narrativeFlags:Array.isArray(null==e?void 0:e.narrativeFlags)?[...e.narrativeFlags]:[],eventCooldowns:"object"==typeof(null==e?void 0:e.eventCooldowns)?{...e.eventCooldowns}:{},pendingFollowUpEvents:Array.isArray(null==e?void 0:e.pendingFollowUpEvents)?[...e.pendingFollowUpEvents]:[],activeMissions:(null==e?void 0:e.activeMissions)?[...e.activeMissions]:[],temporaryEffects:{attributes:(null!==(c=null==e?void 0:null===(i=e.temporaryEffects)||void 0===i?void 0:i.attributes)&&void 0!==c?c:[]).map((e,i)=>{var t;if(!(null==e?void 0:e.target))return null;let n=e.target;return n in R.globalAttributes?{id:null!==(t=e.id)&&void 0!==t?t:"attr-".concat(i,"-").concat(e.target),target:n,value:"number"==typeof e.value?e.value:0,expiresAt:"number"==typeof e.expiresAt?e.expiresAt:Date.now()}:null}).filter(e=>null!==e),production:(null!==(u=null==e?void 0:null===(t=e.temporaryEffects)||void 0===t?void 0:t.production)&&void 0!==u?u:[]).map((e,i)=>{var t;let n=(null==e?void 0:e.target)?String(e.target):"all";return{id:null!==(t=null==e?void 0:e.id)&&void 0!==t?t:"prod-".concat(i,"-").concat(n),target:n,value:"number"==typeof(null==e?void 0:e.value)?e.value:0,expiresAt:"number"==typeof(null==e?void 0:e.expiresAt)?e.expiresAt:Date.now()}}).filter(e=>Number.isFinite(e.expiresAt))},serumRecipes:(null==e?void 0:e.serumRecipes)?[...e.serumRecipes]:[],prestigeUpgrades:(null==e?void 0:e.prestigeUpgrades)?[...e.prestigeUpgrades]:[],settings:{...R.settings,...null!==(d=null==e?void 0:e.settings)&&void 0!==d?d:{}},warningState:{...R.warningState,...null!==(p=null==e?void 0:e.warningState)&&void 0!==p?p:{}},crisisCounters:{...R.crisisCounters,...null!==(g=null==e?void 0:e.crisisCounters)&&void 0!==g?g:{}},ethicalChoices:{...R.ethicalChoices,...null!==(m=null==e?void 0:e.ethicalChoices)&&void 0!==m?m:{}},patchNotesVersionViewed:"string"==typeof(null==e?void 0:e.patchNotesVersionViewed)?e.patchNotesVersionViewed:null,hasSeenWelcome:null!==(f=null==e?void 0:e.hasSeenWelcome)&&void 0!==f&&f,eventStats:{lastSpawnAt:"number"==typeof(null==e?void 0:null===(n=e.eventStats)||void 0===n?void 0:n.lastSpawnAt)?e.eventStats.lastSpawnAt:Date.now(),averageInterval:"number"==typeof(null==e?void 0:null===(s=e.eventStats)||void 0===s?void 0:s.averageInterval)?Math.min(18e4,Math.max(6e4,e.eventStats.averageInterval)):12e4},nextEventSpawnAt:"number"==typeof(null==e?void 0:e.nextEventSpawnAt)?e.nextEventSpawnAt:Date.now()+12e4};return b.version="string"==typeof(null==e?void 0:e.version)?e.version:R.version,b.totalPlayTime="number"==typeof(null==e?void 0:e.totalPlayTime)?e.totalPlayTime:R.totalPlayTime,b.currentRunPlayTime="number"==typeof(null==e?void 0:e.currentRunPlayTime)?e.currentRunPlayTime:R.currentRunPlayTime,b.lastSaved="number"==typeof(null==e?void 0:e.lastSaved)?e.lastSaved:Date.now(),b.lastTick=Date.now(),b.gameOver="boolean"==typeof(null==e?void 0:e.gameOver)?e.gameOver:R.gameOver,b.gameOverReason=null!==(v=null==e?void 0:e.gameOverReason)&&void 0!==v?v:null,b.ancestralData="number"==typeof(null==e?void 0:e.ancestralData)?e.ancestralData:R.ancestralData,b.prestigePoints="number"==typeof(null==e?void 0:e.prestigePoints)?e.prestigePoints:R.prestigePoints,b.serumProgress="number"==typeof(null==e?void 0:e.serumProgress)?e.serumProgress:R.serumProgress,b.synthesisAttempts="number"==typeof(null==e?void 0:e.synthesisAttempts)?e.synthesisAttempts:R.synthesisAttempts,b.synthesisSuccesses="number"==typeof(null==e?void 0:e.synthesisSuccesses)?e.synthesisSuccesses:R.synthesisSuccesses,b.serumQuality="number"==typeof(null==e?void 0:e.serumQuality)?e.serumQuality:R.serumQuality,b.serumQualityHistory=Array.isArray(null==e?void 0:e.serumQualityHistory)?e.serumQualityHistory:R.serumQualityHistory,b.provincesDistributed=Array.isArray(null==e?void 0:e.provincesDistributed)?e.provincesDistributed:R.provincesDistributed,b.breakthroughsUnlocked=Array.isArray(null==e?void 0:e.breakthroughsUnlocked)?e.breakthroughsUnlocked:R.breakthroughsUnlocked,b.contaminationEvents="number"==typeof(null==e?void 0:e.contaminationEvents)?e.contaminationEvents:R.contaminationEvents,b.isPaused="boolean"==typeof(null==e?void 0:e.isPaused)?e.isPaused:R.isPaused,b.pausedAt="number"==typeof(null==e?void 0:e.pausedAt)?e.pausedAt:null,b.totalPausedTime="number"==typeof(null==e?void 0:e.totalPausedTime)?e.totalPausedTime:R.totalPausedTime,b.hasEverUnpaused="boolean"==typeof(null==e?void 0:e.hasEverUnpaused)?e.hasEverUnpaused:R.hasEverUnpaused,b.currentPhase="number"==typeof(null==e?void 0:e.currentPhase)?0===e.currentPhase?1:e.currentPhase<10?e.currentPhase+1:e.currentPhase:R.currentPhase,b.reputation="number"==typeof(null==e?void 0:e.reputation)?e.reputation:R.reputation,b.nextEventSpawnAt=Math.max(Date.now(),b.nextEventSpawnAt),M(b)},U=(0,n.v)()((0,s.Zr)((e,i)=>({...R,tick:()=>{let n=i();if(n.isPaused||n.gameOver)return;let s=Date.now(),o=(s-n.lastTick)/1e3,a=n.temporaryEffects.attributes.filter(e=>e.expiresAt<=s);a.length>0&&(a.forEach(e=>{let t=i().globalAttributes[e.target];i().updateGlobalAttribute(e.target,t-e.value)}),e(e=>({temporaryEffects:{...e.temporaryEffects,attributes:e.temporaryEffects.attributes.filter(e=>e.expiresAt>s)}})),n=i()),n.temporaryEffects.production.some(e=>e.expiresAt<=s)&&(e(e=>({temporaryEffects:{...e.temporaryEffects,production:e.temporaryEffects.production.filter(e=>e.expiresAt>s)}})),n=i());let c=n.temporaryEffects.production.filter(e=>e.expiresAt>s),p=(0,g.calculatePrestigeBonuses)(n.prestigeUpgrades),m=n.globalAttributes.morale,f=m<30?.5:m<50?.75:m>90?1.25:m>70?1.1:1,v=0,b=0,h=0,y=0,_=i().calculateMaintenanceCosts(),S=0,R=0;n.provinces.forEach(e=>{if(e.unlocked){let i=u.find(i=>i.id===e.id);if(i&&i.maintenanceCost){let e=i.maintenanceCost;S+=(e.supplies||0)*o,R+=(e.influence||0)*o}}}),n.buildings.forEach(e=>{if(!1===e.active)return;let i=r.find(i=>i.id===e.id);if(!i)return;let t=(0,C.zh)(c,e.id,s),o=(0,C.Xk)(e,i,p,t,n.technologies);o.survivors&&(v+=o.survivors),o.supplies&&(b+=o.supplies),o.knowledge&&(h+=o.knowledge),o.influence&&(y+=o.influence)});let E=0,M=0,P=0,A=0,x=0;if(n.buildings.forEach(e=>{if(!1===e.active||0===e.level)return;let i=r.find(i=>i.id===e.id);if(!i||!i.effects)return;let t=i.effects;t.productionBonus&&(E+=t.productionBonus*e.level),t.serumProduction&&(M+=t.serumProduction*e.level*(1+.01*e.workers)),t.distributionEfficiency,t.distributionSpeed&&(M*=1+t.distributionSpeed*e.level),t.morale&&(P+=t.morale*e.level),t.containmentCoefficient&&(A+=t.containmentCoefficient*e.level),t.infectionRate&&(x+=t.infectionRate*e.level)}),E>0){let e=1+E;v*=e,b*=e,h*=e,y*=e}v*=f,b*=f,h*=f,y*=f;let B=0;n.technologies.forEach(e=>{var i,t;if(!e.researched)return;let n=l.find(i=>i.id===e.id);(null==n?void 0:null===(t=n.effects)||void 0===t?void 0:null===(i=t.globalEffects)||void 0===i?void 0:i.populationGrowth)&&(B+=n.effects.globalEffects.populationGrowth)}),B>0&&(v*=1+B);let U=0,D=0;if(n.provinces.forEach(e=>{if(e.unlocked&&"safe"===e.status){let i=u.find(i=>i.id===e.id);if(i&&i.bonuses){let e=i.bonuses;e.globalProduction&&(U+=e.globalProduction),e.influenceBonus&&(D+=e.influenceBonus)}}}),U>0){let e=1+U;v*=e,b*=e,h*=e,y*=e}D>0&&(y*=1+D);let F=0;if(n.technologies.forEach(e=>{var i,t;if(!e.researched)return;let n=l.find(i=>i.id===e.id);(null==n?void 0:null===(t=n.effects)||void 0===t?void 0:null===(i=t.globalEffects)||void 0===i?void 0:i.infectionRecovery)&&(F+=n.effects.globalEffects.infectionRecovery)}),0!==P||0!==A||0!==x||0!==F){let i=x+-1*F;e(e=>({globalAttributes:{...e.globalAttributes,morale:I(e.globalAttributes.morale+P*o*.1),containmentCoefficient:T(e.globalAttributes.containmentCoefficient+A*o*.001),infectionRate:I(e.globalAttributes.infectionRate+i*o*.1)}}))}let L=n.currencies.supplies>=(_.supplies||0);if(!L&&n.currencies.supplies<0?e(e=>({globalAttributes:{...e.globalAttributes,morale:Math.max(0,e.globalAttributes.morale-2*o),globalStability:Math.max(0,e.globalAttributes.globalStability-+o)},crisisCounters:{...e.crisisCounters,negativeResourceTicks:e.crisisCounters.negativeResourceTicks+1}})):L&&(_.supplies&&(b-=_.supplies),n.crisisCounters.negativeResourceTicks>0&&e(e=>({crisisCounters:{...e.crisisCounters,negativeResourceTicks:Math.max(0,e.crisisCounters.negativeResourceTicks-2)}}))),n.researchQueue.length>0){let t=n.researchQueue[0],s=n.technologies.find(e=>e.id===t),r=l.find(e=>e.id===t);if(s&&r&&!s.researched){let a=s.researchProgress+o*p.researchSpeedMultiplier;if(a>=r.researchTime){if(w(k.researchCompleted(r.name),n.settings.notifications),e(e=>({technologies:e.technologies.map(e=>e.id===t?{...e,researched:!0,researchProgress:r.researchTime}:e),researchQueue:e.researchQueue.filter(e=>e!==t)})),r.effects.globalEffects){let t=r.effects.globalEffects;t.globalStability&&i().updateGlobalAttribute("globalStability",n.globalAttributes.globalStability+t.globalStability),t.infectionRate&&e(e=>({globalAttributes:{...e.globalAttributes,infectionRate:Math.max(0,e.globalAttributes.infectionRate+t.infectionRate)}})),t.containmentCoefficient&&e(e=>({globalAttributes:{...e.globalAttributes,containmentCoefficient:T(e.globalAttributes.containmentCoefficient+t.containmentCoefficient)}}))}console.log("[v0] Research completed:",t)}else e(e=>({technologies:e.technologies.map(e=>e.id===t?{...e,researchProgress:a}:e)}))}}n.activeMissions.forEach(e=>{s-e.startTime>=e.duration&&i().completeMission(e.id)});let O=n.activeEvents.filter(e=>e.expiresAt<=s);O.length>0&&O.forEach(e=>{let t=d.find(i=>i.id===e.id),n=null;if((null==t?void 0:t.expiryConsequence)&&(n=e.choices.find(e=>e.id===t.expiryConsequence)),!n){var s;n=null!==(s=e.choices.find(e=>"decline"===e.id))&&void 0!==s?s:e.choices[0]}n&&(console.log("[Events] Event expired, auto-selecting:",e.id,"->",n.id),i().handleEventChoice(e.id,n.id))}),s>=n.nextEventSpawnAt&&i().checkAndSpawnEvents(),e(e=>({activeEvents:e.activeEvents.filter(e=>e.expiresAt>s)})),e(e=>{let t=Math.max(0,e.currencies.survivors+v*o),n=Math.max(0,e.currencies.supplies+b*o-S),r=Math.max(0,e.currencies.knowledge+h*o),a=Math.max(0,e.currencies.influence+y*o-R),l=Math.min(100,e.serumProgress+M*o);if(e.activeSynthesis&&s>=e.activeSynthesis.endTime){let t=Math.random()<e.activeSynthesis.successChance;i().completeSynthesis(t)}let c=q(t,e.buildings);return{currencies:{...e.currencies,survivors:t,supplies:n,knowledge:r,influence:a},buildings:c,resourceRates:{survivors:v,supplies:b-S/o,knowledge:h,influence:y-R/o},serumProgress:l,lastTick:s,totalPlayTime:e.totalPlayTime+o,currentRunPlayTime:e.currentRunPlayTime+o}});let N=0,z=0;n.buildings.forEach(e=>{if(!1===e.active||0===e.level)return;let i=r.find(i=>i.id===e.id);if(!i||!i.effects)return;let t=i.effects;t.territoryStability&&(N+=t.territoryStability*e.level),t.territoryDefense&&(z+=t.territoryDefense*e.level)});let G=n.provinces.map(e=>{var i,t;if(!e.unlocked)return e;let s=u.find(i=>i.id===e.id);if(!s)return e;let r=null!==(i=e.stability)&&void 0!==i?i:100,a=null!==(t=e.defenseLevel)&&void 0!==t?t:0,l=(s.decayRate||.05)*o,c=n.globalAttributes.infectionRate/100*.1*o,d=r-(l+c)*(1-Math.min(.01*a+z,.75));n.globalAttributes.morale>70&&(d+=.02*o),d+=.05*n.globalAttributes.containmentCoefficient*o,d+=N*o,d=Math.max(0,Math.min(100,d));let p=e.status;return p=d>=70?"safe":d>=35?"unstable":"red",{...e,stability:d,status:p,defenseLevel:a}});e({provinces:G});let j=.0167*o;j-=.0333*n.globalAttributes.containmentCoefficient*o,n.globalAttributes.containmentCoefficient<.5&&(j*=1+(.5-n.globalAttributes.containmentCoefficient)*2);let H=G.filter(e=>e.unlocked&&"red"===e.status).length;if(j+=.00833*H*o+.00333*G.filter(e=>e.unlocked&&"unstable"===e.status).length*o,n.globalAttributes.containmentCoefficient>1&&(j-=(n.globalAttributes.containmentCoefficient-1)*.00833*o),n.globalAttributes.infectionRate>60){let i=(n.globalAttributes.infectionRate-60)/40*.0833*o;e(e=>({globalAttributes:{...e.globalAttributes,morale:Math.max(0,e.globalAttributes.morale-i)}}))}let V=Math.max(0,Math.min(100,n.globalAttributes.infectionRate+j)),Q=-.0333*o;Q-=.0333*H*o;let W=Math.max(0,Math.min(100,n.globalAttributes.morale+Q));e(e=>({globalAttributes:{...e.globalAttributes,morale:W}}));let X=Math.max(0,Math.min(100,n.globalAttributes.globalStability+(W/100-V/100)*o*.5));e(e=>({globalAttributes:{...e.globalAttributes,infectionRate:V,globalStability:X}})),i().checkPhaseObjectives(),i().checkGameOverConditions(),i().generateDailyMissions(),i().checkMissionAchievements(),t(4377).forEach(e=>{e.unlockPhase&&e.unlockPhase<=n.campaignPhase&&!n.missionChains.find(i=>i.id===e.id)&&i().unlockMissionChain(e.id)})},addCurrency:(i,t)=>{e(e=>{let n=e.currencies[i]+t,s={...e.currencies,[i]:n};return"survivors"===i?{currencies:s,buildings:q(n,e.buildings)}:{currencies:s}})},spendCurrency:(t,n)=>i().currencies[t]>=n&&(e(e=>{let i=e.currencies[t]-n,s={...e.currencies,[t]:i};return"survivors"===t?{currencies:s,buildings:q(i,e.buildings)}:{currencies:s}}),!0),canAfford:e=>{let t=i();return Object.entries(e).every(e=>{let[i,n]=e;return t.currencies[i]>=(n||0)})},updateGlobalAttribute:(i,t)=>{e(e=>({globalAttributes:{...e.globalAttributes,[i]:Math.max(0,Math.min(100,t))}}))},buyBuilding:t=>{let n=i(),s=r.find(e=>e.id===t);if(!s)return console.log("[v0] Building not found:",t),!1;let a=n.buildings.find(e=>e.id===t),c=a?a.level:0,u=(0,g.calculatePrestigeBonuses)(n.prestigeUpgrades),d=0;a&&(d=(0,C.TR)(a));let p=0;n.technologies.forEach(e=>{var i,t;if(!e.researched)return;let n=l.find(i=>i.id===e.id);(null==n?void 0:null===(t=n.effects)||void 0===t?void 0:null===(i=t.globalEffects)||void 0===i?void 0:i.buildingCostReduction)&&(p+=n.effects.globalEffects.buildingCostReduction)});let m=(1-u.costReduction)*(1-d)*(1-p),f={};return(s.baseCost.survivors&&(f.survivors=Math.floor((0,o.yN)(s.baseCost.survivors,c,s.costMultiplier)*m)),s.baseCost.supplies&&(f.supplies=Math.floor((0,o.yN)(s.baseCost.supplies,c,s.costMultiplier)*m)),s.baseCost.knowledge&&(f.knowledge=Math.floor((0,o.yN)(s.baseCost.knowledge,c,s.costMultiplier)*m)),s.baseCost.influence&&(f.influence=Math.floor((0,o.yN)(s.baseCost.influence,c,s.costMultiplier)*m)),n.canAfford(f))?(Object.entries(f).forEach(e=>{let[i,t]=e;n.spendCurrency(i,t||0)}),a?(e(e=>({buildings:e.buildings.map(e=>e.id===t?{...e,level:e.level+1}:e)})),w(k.buildingCompleted(s.name,c+1),n.settings.notifications)):(e(e=>({buildings:[...e.buildings,{id:t,level:1,workers:0,upgrades:[],active:!0}]})),w(k.buildingCompleted(s.name,1),n.settings.notifications)),console.log("[v0] Building purchased:",t,"Level:",c+1),!0):(console.log("[v0] Cannot afford building:",t,f),!1)},upgradeBuilding:(t,n)=>{let s=i(),o=a.find(e=>e.id===n);if(!o)return console.log("[v0] Upgrade not found:",n),!1;let r=s.buildings.find(e=>e.id===t);if(!r)return console.log("[v0] Building not found:",t),!1;if(r.upgrades.includes(n))return console.log("[v0] Upgrade already purchased:",n),!1;if(o.unlockCondition){if(o.unlockCondition.buildingLevel&&r.level<o.unlockCondition.buildingLevel)return console.log("[v0] Building level too low for upgrade"),!1;if(o.unlockCondition.technology){let e=s.technologies.find(e=>{var i;return e.id===(null===(i=o.unlockCondition)||void 0===i?void 0:i.technology)});if(!e||!e.researched)return console.log("[v0] Required technology not researched"),!1}}let l={supplies:o.cost.supplies||0,knowledge:o.cost.knowledge||0,influence:o.cost.influence||0};if(!s.canAfford(l))return console.log("[v0] Cannot afford upgrade:",n,l),!1;if(Object.entries(l).forEach(e=>{let[i,t]=e;t&&s.spendCurrency(i,t)}),e(e=>({buildings:e.buildings.map(e=>e.id===t?{...e,upgrades:[...e.upgrades,n]}:e)})),o.effects.globalStability){let e=s.globalAttributes.globalStability+o.effects.globalStability;s.updateGlobalAttribute("globalStability",e)}if(o.effects.infectionRate){let i=s.globalAttributes.infectionRate+o.effects.infectionRate;e(e=>({globalAttributes:{...e.globalAttributes,infectionRate:Math.max(0,i)}}))}if(o.effects.morale){let e=s.globalAttributes.morale+o.effects.morale;s.updateGlobalAttribute("morale",e)}return console.log("[v0] Upgrade purchased:",n),!0},assignWorkers:(t,n)=>{let s=i(),o=s.buildings.find(e=>e.id===t);if(!o)return;let a=r.find(e=>e.id===t);if(!a)return;let l=a.workerCapacity*o.level,c=s.buildings.reduce((e,i)=>i.id===t?e:e+i.workers,0),u=Math.min(n,l,Math.max(0,Math.floor(s.currencies.survivors)-c));e(e=>({buildings:e.buildings.map(e=>e.id===t?{...e,workers:u,active:u>0||e.active}:e)}))},setBuildingActive:(i,t)=>{e(e=>({buildings:e.buildings.map(e=>e.id===i?{...e,active:t,workers:t?e.workers:0}:e)}))},startResearch:t=>{let n=i(),s=l.find(e=>e.id===t);if(!s)return console.log("[v0] Technology not found:",t),!1;let o=n.technologies.find(e=>e.id===t);if(null==o?void 0:o.researched)return console.log("[v0] Technology already researched:",t),!1;if(n.researchQueue.includes(t))return console.log("[v0] Technology already in queue:",t),!1;if(n.researchQueue.length>=3)return console.log("[v0] Research queue is full"),!1;if(!s.prerequisites.every(e=>{let i=n.technologies.find(i=>i.id===e);return null==i?void 0:i.researched}))return console.log("[v0] Prerequisites not met for:",t),!1;let r={knowledge:s.cost.knowledge,supplies:s.cost.supplies||0};return n.canAfford(r)?(Object.entries(r).forEach(e=>{let[i,t]=e;t&&n.spendCurrency(i,t)}),o?e(e=>({researchQueue:[...e.researchQueue,t]})):e(e=>({technologies:[...e.technologies,{id:t,researched:!1,researchProgress:0,subUpgrades:[]}],researchQueue:[...e.researchQueue,t]})),console.log("[v0] Research started:",t),!0):(console.log("[v0] Cannot afford research:",t,r),!1)},cancelResearch:i=>{e(e=>({researchQueue:e.researchQueue.filter(e=>e!==i)})),console.log("[v0] Research cancelled:",i)},purchaseSubUpgrade:(t,n)=>{var s;let o=i(),r=c.find(e=>e.id===n);if(!r)return console.log("[v0] Sub-upgrade not found:",n),!1;let a=o.technologies.find(e=>e.id===t);if(!a||!a.researched)return console.log("[v0] Parent technology not researched:",t),!1;if(null===(s=a.subUpgrades)||void 0===s?void 0:s.includes(n))return console.log("[v0] Sub-upgrade already purchased:",n),!1;let l={knowledge:r.cost.knowledge,supplies:r.cost.supplies||0};if(!o.canAfford(l))return console.log("[v0] Cannot afford sub-upgrade:",n,l),!1;if(Object.entries(l).forEach(e=>{let[i,t]=e;t&&o.spendCurrency(i,t)}),e(e=>({technologies:e.technologies.map(e=>e.id===t?{...e,subUpgrades:[...e.subUpgrades||[],n]}:e)})),r.effects.globalEffects){let t=r.effects.globalEffects;t.globalStability&&i().updateGlobalAttribute("globalStability",o.globalAttributes.globalStability+t.globalStability),t.infectionRate&&e(e=>({globalAttributes:{...e.globalAttributes,infectionRate:Math.max(0,e.globalAttributes.infectionRate+t.infectionRate)}})),t.containmentCoefficient&&e(e=>({globalAttributes:{...e.globalAttributes,containmentCoefficient:T(e.globalAttributes.containmentCoefficient+t.containmentCoefficient)}})),t.morale&&i().updateGlobalAttribute("morale",o.globalAttributes.morale+t.morale)}return console.log("[v0] Sub-upgrade purchased:",n),!0},unlockProvince:t=>{let n=i(),s=u.find(e=>e.id===t);if(!s)return console.log("[v0] Province not found:",t),!1;let o=n.provinces.find(e=>e.id===t);if(null==o?void 0:o.unlocked)return console.log("[v0] Province already unlocked:",t),!1;if(s.unlockCost>0&&n.currencies.influence<s.unlockCost)return console.log("[v0] Cannot afford province unlock:",t),!1;if(s.unlockCost>0&&n.spendCurrency("influence",s.unlockCost),o)e(e=>({provinces:e.provinces.map(e=>e.id===t?{...e,unlocked:!0}:e)}));else{let i="safe"===s.initialStatus?100:50*("unstable"===s.initialStatus);e(e=>({provinces:[...e.provinces,{id:t,unlocked:!0,status:s.initialStatus,stability:i,stabilityLevel:i,defenseLevel:0,outposts:{}}]}))}if(w(k.provinceUnlocked(s.name),n.settings.notifications),"safe"===s.initialStatus&&s.bonuses.globalStability){let e=n.globalAttributes.globalStability+s.bonuses.globalStability;i().updateGlobalAttribute("globalStability",e)}return console.log("[v0] Province unlocked:",t),!0},stabilizeProvince:t=>{let n=i(),s=u.find(e=>e.id===t);if(!s)return console.log("[v0] Province not found:",t),!1;let o=n.provinces.find(e=>e.id===t);if(!o||!o.unlocked)return console.log("[v0] Province not unlocked:",t),!1;if("safe"===o.status)return console.log("[v0] Province already safe:",t),!1;let r=s.stabilizationCost;if(n.currencies.supplies<r.supplies||n.currencies.influence<r.influence)return console.log("[v0] Cannot afford stabilization:",t),!1;n.spendCurrency("supplies",r.supplies),n.spendCurrency("influence",r.influence);let a="red"===o.status?"unstable":"safe",l="safe"===a?100:50;if(e(e=>({provinces:e.provinces.map(e=>e.id===t?{...e,status:a,stability:l,stabilityLevel:l}:e)})),"safe"===a&&w(k.provinceStabilized(s.name),n.settings.notifications),"safe"===a){if(s.bonuses.globalStability){let e=n.globalAttributes.globalStability+s.bonuses.globalStability;i().updateGlobalAttribute("globalStability",e)}if(s.bonuses.containmentCoefficient&&e(e=>({globalAttributes:{...e.globalAttributes,containmentCoefficient:T(e.globalAttributes.containmentCoefficient+s.bonuses.containmentCoefficient)}})),s.bonuses.morale){let e=n.globalAttributes.morale+s.bonuses.morale;i().updateGlobalAttribute("morale",e)}}return console.log("[v0] Province stabilized:",t,"New status:",a),!0},reinforceProvince:t=>{var n;let s=i(),o=u.find(e=>e.id===t);if(!o)return console.log("[v0] Province not found:",t),!1;let r=s.provinces.find(e=>e.id===t);if(!r||!r.unlocked)return console.log("[v0] Province not unlocked:",t),!1;let a=null!==(n=r.defenseLevel)&&void 0!==n?n:0,l={supplies:500,influence:50},c={supplies:Math.floor(l.supplies*Math.pow(1.2,a)),influence:Math.floor(l.influence*Math.pow(1.2,a))};return s.currencies.supplies<c.supplies||s.currencies.influence<c.influence?(console.log("[v0] Cannot afford reinforcement:",t),!1):(s.spendCurrency("supplies",c.supplies),s.spendCurrency("influence",c.influence),e(e=>({provinces:e.provinces.map(e=>e.id===t?{...e,defenseLevel:a+1}:e)})),w({title:"Territory Reinforced",message:"".concat(o.name," defense increased to level ").concat(a+1),type:"success"},s.settings.notifications),console.log("[v0] Province reinforced:",t,"Defense level:",a+1),!0)},saveGame:e=>{try{let t=x(i());localStorage.setItem("outbreak-protocol-save-".concat(e),JSON.stringify(t)),console.log("[v0] Game saved to slot:",e)}catch(e){console.error("[v0] Failed to save game:",e)}},loadGame:i=>{try{let t=localStorage.getItem("outbreak-protocol-save-".concat(i));if(!t){console.warn("[v0] No save found for slot:",i);return}let n=JSON.parse(t),s=B(n);e(e=>({...e,...s,currentSlot:i})),console.log("[v0] Game loaded from slot:",i)}catch(e){console.error("[v0] Failed to load game:",e)}},exportGame:e=>{try{if("number"==typeof e){let i=localStorage.getItem("outbreak-protocol-save-".concat(e));if(i)return i}let t=x(i());return JSON.stringify(t,null,2)}catch(e){return console.error("[v0] Failed to export game:",e),null}},importGame:(i,t)=>{try{let n=JSON.parse(i),s=B(n);return e(e=>({...e,...s,currentSlot:t||1})),"number"==typeof t&&localStorage.setItem("outbreak-protocol-save-".concat(t),JSON.stringify(s)),console.log("[v0] Game imported successfully"),!0}catch(e){return console.error("[v0] Failed to import game:",e),!1}},resetGame:t=>{let n=i();e({...R,patchNotesVersionViewed:n.patchNotesVersionViewed,currentSlot:t||1}),console.log("[v0] Game reset to slot:",t||1)},spawnEvent:t=>{let n=i(),s=d.find(e=>e.id===t);if(!s){console.log("[Events] Event not found:",t);return}if(n.activeEvents.some(e=>e.id===t)){console.log("[Events] Event already active:",t);return}let o=1e3*(s.expiryTime||300),r={id:s.id,type:s.type,severity:s.severity||"medium",title:s.name,description:s.description,choices:s.choices.map(e=>({id:e.id,label:e.label,description:e.description,cost:e.cost,requirements:e.requirements,effects:e.effects,reputationChange:e.reputationChange,successChance:e.successChance,casualtyChance:e.casualtyChance,followUpEvents:e.followUpEvents,narrativeFlag:e.narrativeFlag,unlocksUpgrade:e.unlocksUpgrade})),expiresAt:Date.now()+o,tags:s.tags||[]};e(e=>({activeEvents:[...e.activeEvents,r]})),w({title:("critical"===s.severity?"\uD83D\uDEA8 CRITICAL: ":"high"===s.severity?" URGENT: ":"medium"===s.severity?"\uD83D\uDCE2 ":" ")+s.name,message:s.description.substring(0,100)+"...",type:"critical"===s.severity||"high"===s.severity?"warning":"info"},n.settings.notifications),console.log("[Events] Event spawned:",t,"Severity:",s.severity)},handleEventChoice:(t,n)=>{var s;let o=i(),a=o.activeEvents.find(e=>e.id===t);if(!a){console.log("[Events] Event not found:",t);return}let l=a.choices.find(e=>e.id===n);if(!l){console.log("[Events] Choice not found:",n);return}if(l.requirements){if(l.requirements.building){let e=o.buildings.find(e=>{var i;return e.id===(null===(i=l.requirements)||void 0===i?void 0:i.building)});if(!e||0===e.level){console.log("[Events] Building requirement not met:",l.requirements.building),w({title:"Requirements Not Met",message:"This choice requires ".concat(l.requirements.building),type:"warning"},o.settings.notifications);return}if(l.requirements.minLevel&&e.level<l.requirements.minLevel){console.log("[Events] Building level requirement not met"),w({title:"Requirements Not Met",message:"This choice requires ".concat(l.requirements.building," level ").concat(l.requirements.minLevel),type:"warning"},o.settings.notifications);return}}if(l.requirements.technology){let e=o.technologies.find(e=>{var i;return e.id===(null===(i=l.requirements)||void 0===i?void 0:i.technology)});if(!(null==e?void 0:e.researched)){console.log("[Events] Technology requirement not met:",l.requirements.technology),w({title:"Requirements Not Met",message:"This choice requires ".concat(l.requirements.technology," technology"),type:"warning"},o.settings.notifications);return}}}if(l.cost){if(!((!l.cost.survivors||o.currencies.survivors>=l.cost.survivors)&&(!l.cost.supplies||o.currencies.supplies>=l.cost.supplies)&&(!l.cost.knowledge||o.currencies.knowledge>=l.cost.knowledge)&&(!l.cost.influence||o.currencies.influence>=l.cost.influence))){console.log("[Events] Cannot afford choice:",n);return}l.cost.survivors&&i().spendCurrency("survivors",l.cost.survivors),l.cost.supplies&&i().spendCurrency("supplies",l.cost.supplies),l.cost.knowledge&&i().spendCurrency("knowledge",l.cost.knowledge),l.cost.influence&&i().spendCurrency("influence",l.cost.influence)}let c=!0;if("number"==typeof l.successChance&&console.log("[Events] Success roll:",(c=Math.random()<l.successChance)?"SUCCESS":"FAILURE","(".concat((100*l.successChance).toFixed(0),"% chance)")),c&&l.effects.forEach((s,o)=>{if("currency"===s.type)i().addCurrency(s.target,s.value);else if("attribute"===s.type){let r=s.target,a=i().globalAttributes[r];if(i().updateGlobalAttribute(r,a+s.value),s.duration&&s.duration>0){let i="".concat(t,"-").concat(n,"-").concat(o),a=Date.now()+1e3*s.duration;e(e=>({temporaryEffects:{...e.temporaryEffects,attributes:[...e.temporaryEffects.attributes.filter(e=>e.id!==i),{id:i,target:r,value:s.value,expiresAt:a}]}}))}}else if("production"===s.type){let i=s.duration&&s.duration>0?Date.now()+1e3*s.duration:Number.MAX_SAFE_INTEGER,r="".concat(t,"-").concat(n,"-").concat(o);e(e=>({temporaryEffects:{...e.temporaryEffects,production:[...e.temporaryEffects.production.filter(e=>e.id!==r),{id:r,target:s.target||"all",value:s.value,expiresAt:i}]}}))}}),"number"==typeof l.casualtyChance&&Math.random()<l.casualtyChance){let e=Math.floor(5+10*Math.random());i().spendCurrency("survivors",e),console.log("[Events] Casualties sustained:",e),w({title:"Casualties Sustained",message:"The operation resulted in ".concat(e," casualties"),type:"warning"},o.settings.notifications)}if(l.reputationChange&&e(e=>({reputation:e.reputation+l.reputationChange})),l.narrativeFlag&&(e(e=>({narrativeFlags:[...e.narrativeFlags,l.narrativeFlag]})),console.log("[Events] Narrative flag set:",l.narrativeFlag)),l.followUpEvents&&l.followUpEvents.length>0){let i=Date.now(),t=l.followUpEvents.map(e=>({eventId:e,spawnAt:i+18e4+12e4*Math.random()}));e(e=>({pendingFollowUpEvents:[...e.pendingFollowUpEvents,...t]})),console.log("[Events] Scheduled follow-up events:",l.followUpEvents)}if(l.unlocksUpgrade){let i=r.find(e=>{var i;return null===(i=e.upgrades)||void 0===i?void 0:i.some(e=>e.id===l.unlocksUpgrade)});if(i){let t=o.buildings.find(e=>e.id===i.id);t&&!t.upgrades.includes(l.unlocksUpgrade)&&(e(e=>({buildings:e.buildings.map(e=>e.id===i.id?{...e,upgrades:[...e.upgrades,l.unlocksUpgrade]}:e)})),console.log("[Events] Unlocked upgrade:",l.unlocksUpgrade,"for building:",i.id),w({title:"Upgrade Unlocked!",message:"New upgrade available for ".concat(i.name),type:"success"},o.settings.notifications))}else console.warn("[Events] Could not find building for upgrade:",l.unlocksUpgrade)}let u=d.find(e=>e.id===t);if(null==u?void 0:null===(s=u.triggerConditions)||void 0===s?void 0:s.cooldown){let i=Date.now()+1e3*u.triggerConditions.cooldown;e(e=>({eventCooldowns:{...e.eventCooldowns,[t]:i}}))}e(e=>({ethicalChoices:{...e.ethicalChoices,[t]:n}})),e(e=>({activeEvents:e.activeEvents.filter(e=>e.id!==t),eventHistory:[...e.eventHistory,t],eventsHandled:e.eventsHandled+1})),console.log("[Events] Choice handled:",t,n,c?"(success)":"(failed)")},checkAndSpawnEvents:()=>{let t=i(),n=Date.now(),s=()=>{let t=i();e({nextEventSpawnAt:n+P(t.reputation,t.activeEvents.length)})},o=t.pendingFollowUpEvents.filter(e=>e.spawnAt<=n);if(o.length>0&&(o.forEach(e=>{!t.activeEvents.some(i=>i.id===e.eventId)&&t.activeEvents.length<3&&(i().spawnEvent(e.eventId),console.log("[Events] Spawned follow-up event:",e.eventId))}),e(e=>({pendingFollowUpEvents:e.pendingFollowUpEvents.filter(e=>!o.includes(e))}))),t.activeEvents.length>=3){s();return}let r=d.filter(e=>{if(t.activeEvents.some(i=>i.id===e.id)||t.eventCooldowns[e.id]&&t.eventCooldowns[e.id]>n)return!1;let i=e.triggerConditions||{};return!(i.minPhase&&t.currentPhase<i.minPhase||i.minInfectionRate&&t.globalAttributes.infectionRate<i.minInfectionRate||i.maxInfectionRate&&t.globalAttributes.infectionRate>i.maxInfectionRate||i.minGlobalStability&&t.globalAttributes.globalStability<i.minGlobalStability||i.maxGlobalStability&&t.globalAttributes.globalStability>i.maxGlobalStability||i.minMorale&&t.globalAttributes.morale<i.minMorale||i.maxMorale&&t.globalAttributes.morale>i.maxMorale||i.minKnowledge&&t.currencies.knowledge<i.minKnowledge||i.requiredBuilding&&!t.buildings.some(e=>e.id===i.requiredBuilding&&e.level>0)||i.requiredTech&&!t.technologies.some(e=>e.id===i.requiredTech&&e.researched)||i.requiresProvince&&!t.provinces.some(e=>e.unlocked)||i.requiredFlags&&i.requiredFlags.length>0&&!i.requiredFlags.every(e=>t.narrativeFlags.includes(e))||i.excludedFlags&&i.excludedFlags.length>0&&i.excludedFlags.some(e=>t.narrativeFlags.includes(e))||i.randomChance&&Math.random()>i.randomChance)});if(0===r.length){s();return}let a=r.map(e=>{let i=A(e,t.reputation);return"critical"===e.severity?i*=1.5:"high"===e.severity&&(i*=1.2),t.eventHistory.includes(e.id)&&(t.eventHistory.slice(-5).includes(e.id)?i*=.5:i*=.75),i}),l=a.reduce((e,i)=>e+i,0);if(l<=0){s();return}let c=Math.random()*l,u=null;for(let e=0;e<r.length;e+=1)if((c-=a[e])<=0){u=r[e];break}if(!u){s();return}let p=t.eventStats,g=Math.max(0,n-p.lastSpawnAt),m=g>0?Math.round(.7*p.averageInterval+.3*g):p.averageInterval;e(e=>({eventStats:{lastSpawnAt:n,averageInterval:Math.min(18e4,Math.max(6e4,m))}})),i().spawnEvent(u.id),console.log("[Events] Spawned random event:",u.id,"Severity:",u.severity),s()},selectMissionModifiers:(e,n)=>{let s=i(),o=t(9681).filter(i=>{if(!i.applicableCategories.includes("all")&&!i.applicableCategories.includes(e))return!1;if(i.requiresBuilding){let e=s.buildings.find(e=>e.id===i.requiresBuilding.id);if(!e||e.level<(i.requiresBuilding.minLevel||1))return!1}if(i.requiresTechnology){let e=s.technologies.find(e=>e.id===i.requiresTechnology);if(!e||!e.researched)return!1}return!i.requiresVeterans||0!==s.veteranSurvivors.length}),r=[],a=Math.random()>.5?2:1;for(let e=0;e<a&&o.length>0;e++){let e=o[Math.floor(Math.random()*o.length)];Math.random()<e.chance&&r.push(e.id)}return r},startMission:t=>{let n=i(),{missionId:s,name:o,duration:r,assignedSurvivors:a,risk:c,cost:u,rewards:d}=t,p=3;if(n.technologies.forEach(e=>{var i,t;if(!e.researched)return;let n=l.find(i=>i.id===e.id);(null==n?void 0:null===(t=n.effects)||void 0===t?void 0:null===(i=t.globalEffects)||void 0===i?void 0:i.missionCapacity)&&(p+=n.effects.globalEffects.missionCapacity)}),n.activeMissions.length>=p)return console.log("[v0] Maximum missions active:",p),!1;if(n.currencies.survivors<a)return console.log("[v0] Not enough survivors"),!1;if(u){if(u.supplies&&n.currencies.supplies<u.supplies)return console.log("[v0] Not enough supplies for mission"),!1;if(u.influence&&n.currencies.influence<u.influence)return console.log("[v0] Not enough influence for mission"),!1;if(u.knowledge&&n.currencies.knowledge<u.knowledge)return console.log("[v0] Not enough knowledge for mission"),!1}i().spendCurrency("survivors",a),u&&(u.supplies&&i().spendCurrency("supplies",u.supplies),u.influence&&i().spendCurrency("influence",u.influence),u.knowledge&&i().spendCurrency("knowledge",u.knowledge));let g=(t.equipment||[]).map(e=>{let i=n.missionEquipment.find(i=>i.id===e);return i?{equipmentId:i.id,name:i.id,durability:i.durability,maxDurability:i.maxDurability}:null}).filter(Boolean),m=t.veterans||[],f={id:"".concat(s,"-").concat(Date.now()),templateId:s,name:o,assignedSurvivors:a,risk:c,startTime:Date.now(),duration:1e3*r,cost:u,rewards:d,completed:!1,category:t.category,specialRewards:t.specialRewards,modifiers:t.modifiers||[],equipment:t.equipment||[],veteransAssigned:m.length,veteranIds:m,equipmentUsed:g};return e(e=>({activeMissions:[...e.activeMissions,f]})),console.log("[v0] Mission started:",s),!0},cancelMission:t=>{let n=i().activeMissions.find(e=>e.id===t);if(!n){console.log("[v0] Mission not found:",t);return}i().addCurrency("survivors",n.assignedSurvivors),n.cost&&(n.cost.supplies&&i().addCurrency("supplies",n.cost.supplies),n.cost.influence&&i().addCurrency("influence",n.cost.influence),n.cost.knowledge&&i().addCurrency("knowledge",n.cost.knowledge)),e(e=>({activeMissions:e.activeMissions.filter(e=>e.id!==t)})),console.log("[v0] Mission cancelled:",t)},completeMission:t=>{let n=i(),s=n.activeMissions.find(e=>e.id===t);if(!s){console.log("[Missions] Mission not found:",t);return}console.log("[Missions] Completing mission:",s.name);let a=(0,S.Co)(s,n.buildings,n.technologies,r,l,n.veteranSurvivors,n.currentPhase,n.specialists),c=100*Math.random()<a;console.log("[Missions] Success rate:",a.toFixed(1)+"%","- Result:",c?"SUCCESS":"FAILURE");let u=(0,S.Nw)(s,c,n.specialists),d=s.assignedSurvivors-u,p=0,g=s.veteranIds||[];if(s.veteransAssigned&&s.veteransAssigned>0&&g.length>0){let i=(p=(0,S.uT)(s,c))/s.veteransAssigned;e(e=>({veteranSurvivors:e.veteranSurvivors.map(e=>{if(g.includes(e.id)){let t=e.experience+i,n=Math.floor(t/100)+1;return{...e,experience:t,level:n,missionsCompleted:e.missionsCompleted+1}}return e})})),console.log("[Missions] Awarded",i.toFixed(1),"XP to",s.veteransAssigned,"assigned veterans")}let m=0;s.equipmentUsed&&s.equipmentUsed.length>0&&e(e=>({missionEquipment:e.missionEquipment.map(i=>{var t;let n=null===(t=s.equipmentUsed)||void 0===t?void 0:t.find(e=>e.equipmentId===i.id);if(n){let t=(0,S.Ok)(n,s,c,e.specialists);m+=t;let o=Math.max(0,i.durability-t);return console.log("[Missions] Equipment",i.id,"damaged:",t,"- Remaining durability:",o),{...i,durability:o}}return i}).filter(e=>e.durability>0)}));let f="";if(c){i().addCurrency("survivors",d);let t=Object.entries(s.rewards||{}),a=0;n.buildings.forEach(e=>{if(!1===e.active||0===e.level)return;let i=r.find(i=>i.id===e.id);if(!(null==i?void 0:i.effects))return;let t=i.effects;t.missionIntelBonus&&(a+=t.missionIntelBonus*e.level)}),t.forEach(e=>{let[t,n]=e,s=(n||0)*(1+a);i().addCurrency(t,s)}),f=t.length>0?t.map(e=>{let[i,t]=e,n=(t||0)*(1+a);return"+".concat((0,o.ZV)(n)," ").concat(i)}).join(", "):"mission bonuses applied",s.specialRewards&&s.specialRewards.length>0&&s.specialRewards.forEach(t=>{switch(t.type){case"technologyFragment":e(e=>({technologyFragments:e.technologyFragments+(t.amount||0)}));break;case"researchProgress":if(n.researchQueue.length>0){let i=n.researchQueue[0],s=t.amount||0;e(e=>({technologies:e.technologies.map(e=>e.id===i?{...e,researchProgress:Math.min(1,e.researchProgress+s)}:e)}))}break;case"territoryStability":e(e=>({provinces:e.provinces.map(e=>e.unlocked?{...e,stability:Math.min(100,(e.stability||0)+(t.amount||0))}:e)}));break;case"globalAttribute":if(t.attribute&&t.amount){let e=t.attribute,s=n.globalAttributes[e];i().updateGlobalAttribute(e,s+t.amount)}break;case"intelPoints":e(e=>({intelPoints:e.intelPoints+(t.amount||0)}));break;case"diplomaticFavor":e(e=>({diplomaticFavor:e.diplomaticFavor+(t.amount||0)}));break;case"morale":i().updateGlobalAttribute("morale",n.globalAttributes.morale+(t.amount||0));break;case"veteranXP":t.amount&&e(e=>({veteranSurvivors:e.veteranSurvivors.map(e=>{let i=e.experience+(t.amount||0),n=Math.floor(i/100)+1;return{...e,experience:i,level:Math.max(e.level,n)}})}));break;case"specialist":t.specialistType&&(i().recruitSpecialist(t.specialistType),w({title:"Specialist Recruited!",message:"A ".concat(t.specialistType," specialist has joined your team!"),type:"success"},n.settings.notifications));break;case"equipmentBlueprint":t.equipmentId&&(e(e=>({equipmentBlueprints:[...e.equipmentBlueprints,t.equipmentId||""]})),w({title:"Blueprint Acquired!",message:"You can now craft ".concat(t.equipmentId," equipment!"),type:"success"},n.settings.notifications));break;case"permanentProductionBonus":if(t.resource&&t.amount){let i="mission-production-".concat(t.resource,"-").concat(Date.now());e(e=>({temporaryEffects:{...e.temporaryEffects,production:[...e.temporaryEffects.production,{id:i,resource:t.resource,multiplier:1+(t.amount||0),expiresAt:void 0,source:"mission"}]}})),w({title:"Permanent Bonus Unlocked!",message:"".concat(t.resource," production increased by ").concat((100*(t.amount||0)).toFixed(0),"% permanently!"),type:"success"},n.settings.notifications)}break;case"blackMarketAccess":e(e=>({unlockedFeatures:[...e.unlockedFeatures||[],"blackMarket"]})),w({title:"Black Market Unlocked!",message:"You now have access to underground trading networks!",type:"success"},n.settings.notifications);break;case"territoryInfo":t.territoryId&&(e(e=>({territoryIntel:{...e.territoryIntel,[t.territoryId||""]:{revealed:!0,resources:t.resources||[],threats:t.threats||[],discoveredAt:Date.now()}}})),w({title:"Territory Intel Acquired!",message:"Detailed information about ".concat(t.territoryId," has been gathered!"),type:"info"},n.settings.notifications))}})}else i().addCurrency("survivors",d);let v=n.completedMissions.filter(e=>e.success).length;if(c&&(v+=1),(0,S.zo)(v,n.veteranSurvivors.length)&&c){let{name:i,specialization:t}=(0,S.Df)(n.veteranSurvivors.length),s={id:"veteran-".concat(Date.now()),name:i,experience:0,level:1,missionsCompleted:0,specialization:t};e(e=>({veteranSurvivors:[...e.veteranSurvivors,s]})),w({title:"Veteran Recruited!",message:"".concat(i," has joined as a veteran ").concat(t," specialist."),type:"success"},n.settings.notifications),console.log("[Missions] New veteran recruited:",i,"-",t)}let b={id:s.id,templateId:s.templateId,name:s.name,category:s.category||"unknown",assignedSurvivors:s.assignedSurvivors,veteransAssigned:s.veteransAssigned||0,risk:s.risk,success:c,completedAt:Date.now(),survivorsReturned:d,survivorsLost:u,casualties:u,rewards:c?s.rewards:void 0,specialRewards:c?s.specialRewards:void 0,veteranXPGained:p,equipmentDamaged:m},h=(Date.now()-s.startTime)/1e3,y=c?n.missionStatistics.consecutiveSuccesses+1:0,_=Math.max(n.missionStatistics.longestWinStreak,y),C=n.missionStatistics.fastestCompletionTimes[s.templateId]||1/0,R=c?Math.min(C,h):C;e(e=>({activeMissions:e.activeMissions.filter(e=>e.id!==t),completedMissions:[...e.completedMissions,b],missionsCompleted:e.missionsCompleted+1,missionCompletions:{...e.missionCompletions,[s.templateId]:(e.missionCompletions[s.templateId]||0)+1},lastMissionReport:b,missionStatistics:{totalSuccesses:e.missionStatistics.totalSuccesses+ +!!c,totalFailures:e.missionStatistics.totalFailures+ +!c,consecutiveSuccesses:y,longestWinStreak:_,fastestCompletionTimes:{...e.missionStatistics.fastestCompletionTimes,[s.templateId]:R},totalMissionsUnder5Min:e.missionStatistics.totalMissionsUnder5Min+(c&&h<=300?1:0)}})),c?w(k.missionCompleted(s.name,f),n.settings.notifications):w(k.missionFailed(s.name,"".concat(u," casualties")),n.settings.notifications),console.log("[Missions] Mission complete. Success:",c,"- Casualties:",u,"- XP:",p),n.missionChains.forEach(e=>{!e.completed&&e.unlocked&&e.missions[e.currentStep]===s.templateId&&c&&(i().advanceMissionChain(e.id),console.log("[Mission Chain] Advanced:",e.name,"to step",e.currentStep+1))});let E=n.dailyMissions.find(e=>e.missionId===s.templateId&&!e.completed);E&&c&&i().completeDailyMission(E.id),i().checkMissionAchievements()},distributeSerumToProvince:n=>{let s=i();if(s.serumProgress<100)return console.log("[v0] Serum not complete, cannot distribute"),!1;if(s.provincesDistributed.includes(n))return console.log("[v0] Province already has serum distribution"),!1;let o=s.provinces.find(e=>e.id===n);if(!o||!o.unlocked)return console.log("[v0] Province not unlocked:",n),!1;let a=t(4774),l=null,c="";for(let e of["pure_serum","advanced_serum","stabilized_serum","basic_serum"]){let i=a.find(i=>i.id===e);if(i&&(s.serumDoses[e]||0)>=i.dosesPerTerritory){l=i,c=e;break}}if(!l)return console.log("[v0] Not enough serum doses for distribution. Need doses from any recipe."),!1;console.log("[v0] Using ".concat(l.name," for distribution (").concat(l.dosesPerTerritory," doses required)"));let d=0;s.buildings.forEach(e=>{if(!1===e.active||0===e.level)return;let i=r.find(i=>i.id===e.id);if(!i||!i.effects)return;let t=i.effects;t.distributionEfficiency&&(d+=t.distributionEfficiency*e.level)});let p={supplies:3e4,influence:3e3},g=Math.max(.25,1-d),m={supplies:Math.floor(p.supplies*g),influence:Math.floor(p.influence*g)};if(!s.canAfford(m))return console.log("[v0] Cannot afford distribution:",n,m),!1;Object.entries(m).forEach(e=>{let[t,n]=e;i().spendCurrency(t,n||0)});let f=s.serumDoses[c]||0;e(e=>({serumDoses:{...e.serumDoses,[c]:f-l.dosesPerTerritory}})),e(e=>({provincesDistributed:[...e.provincesDistributed,n]}));let v=u.find(e=>e.id===n);return e(e=>({provinces:e.provinces.map(e=>e.id===n?{...e,status:"safe",stability:100}:e)})),e(e=>({globalAttributes:{...e.globalAttributes,infectionRate:Math.max(0,e.globalAttributes.infectionRate-5)}})),w({title:"Serum Distributed!",message:"".concat((null==v?void 0:v.name)||n," has received the cure. Infection rate reduced by ").concat(5,"%."),type:"success"},s.settings.notifications),console.log("[v0] Serum distributed to province:",n),!0},checkForBreakthroughs:()=>{let t=i();[{id:"experimental",name:"Experimental Protocol",condition:()=>t.synthesisSuccesses>=5&&!t.breakthroughsUnlocked.includes("experimental"),description:"High-risk, high-reward synthesis method unlocked after 5 successful attempts"},{id:"refined",name:"Refined Method",condition:()=>t.serumQuality>=80&&!t.breakthroughsUnlocked.includes("refined"),description:"Low-cost, efficient method unlocked through consistent quality"}].forEach(i=>{i.condition()&&(e(e=>({breakthroughsUnlocked:[...e.breakthroughsUnlocked,i.id]})),w({title:"Breakthrough Discovery!",message:"".concat(i.name,": ").concat(i.description),type:"success"},t.settings.notifications),console.log("[v0] Breakthrough unlocked:",i.id))})},canCompleteStage:e=>{let n=i(),s=t(8758).find(i=>i.id===e);if(!s)return!1;if(s.requirements.buildings)for(let[e,i]of Object.entries(s.requirements.buildings)){let t=n.buildings.find(i=>i.id===e);if(!t||t.level<i)return!1}if(s.requirements.resources){let e=s.requirements.resources;if(e.supplies&&n.currencies.supplies<e.supplies||e.knowledge&&n.currencies.knowledge<e.knowledge||e.influence&&n.currencies.influence<e.influence)return!1}return!0},completeSerumStage:n=>{let s=i(),o=t(8758).find(e=>e.id===n);if(!o||!i().canCompleteStage(n)||s.serumStages.includes(n))return!1;let r=o.requirements.resources;return e(e=>({currencies:{...e.currencies,supplies:e.currencies.supplies-(r.supplies||0),knowledge:e.currencies.knowledge-(r.knowledge||0),influence:e.currencies.influence-(r.influence||0)},serumStages:[...e.serumStages,n],currentSerumStage:o.progress})),w({title:"".concat(o.name," Complete!"),message:o.description,type:"success"},s.settings.notifications),console.log("[v0] Serum stage completed:",n),!0},startSynthesis:n=>{let s=i(),o=t(4774).find(e=>e.id===n);if(!o||s.activeSynthesis)return!1;let r=o.unlockedByStage;return!!s.serumStages.includes(r)&&!(s.currencies.supplies<o.cost.supplies)&&!(s.currencies.knowledge<o.cost.knowledge)&&!(s.currencies.influence<o.cost.influence)&&(e(e=>({currencies:{...e.currencies,supplies:e.currencies.supplies-o.cost.supplies,knowledge:e.currencies.knowledge-o.cost.knowledge,influence:e.currencies.influence-o.cost.influence},activeSynthesis:{recipeId:o.id,startTime:Date.now(),endTime:Date.now()+1e3*o.synthesisTime,successChance:o.successChance}})),w({title:"Synthesis Started",message:"".concat(o.name," synthesis in progress. Time required: ").concat(Math.floor(o.synthesisTime/60)," minutes."),type:"info"},s.settings.notifications),console.log("[v0] Synthesis started:",n),!0)},completeSynthesis:n=>{let s=i();if(!s.activeSynthesis)return;let o=t(4774).find(e=>{var i;return e.id===(null===(i=s.activeSynthesis)||void 0===i?void 0:i.recipeId)});if(o){if(e(e=>({synthesisAttempts:e.synthesisAttempts+1,synthesisSuccesses:n?e.synthesisSuccesses+1:e.synthesisSuccesses,activeSynthesis:null})),n){let i=s.serumDoses[o.id]||0;e(e=>({serumDoses:{...e.serumDoses,[o.id]:i+1},serumProgress:Math.min(100,e.serumProgress+o.progressOnSuccess)})),w({title:"Synthesis Successful!",message:"".concat(o.name," produced successfully. +").concat(o.progressOnSuccess,"% serum progress."),type:"success"},s.settings.notifications)}else e(e=>({serumProgress:Math.min(100,e.serumProgress+o.progressOnFailure)})),w({title:"Synthesis Failed",message:"".concat(o.name," synthesis failed. Resources consumed. +").concat(o.progressOnFailure,"% serum progress from research data."),type:"warning"},s.settings.notifications);console.log("[v0] Synthesis completed:",o.id,"Success:",n)}},checkPhaseObjectives:()=>{let e=i(),t=p.find(i=>i.id===e.currentPhase);t&&t.objectives.every(e=>i().isObjectiveComplete(e))&&!e.phaseProgress[e.currentPhase]&&i().advancePhase()},isObjectiveComplete:e=>{let t=i();switch(e.type){case"building_level":{let i=t.buildings.find(i=>i.id===e.buildingId);return!!i&&i.level>=e.level}case"building_exists":return t.buildings.some(i=>i.id===e.buildingId);case"buildings_level":return t.buildings.filter(i=>i.level>=e.level).length>=e.count;case"provinces_secure":return t.provinces.filter(e=>"safe"===e.status).length>=e.count;case"attribute":{let i=t.globalAttributes[e.attribute];if("<"===e.operator)return i<e.value;if(">="===e.operator)return i>=e.value;if("<="===e.operator)return i<=e.value;else if(">"===e.operator)return i>e.value;return!1}case"technology":{let i=t.technologies.find(i=>i.id===e.technologyId);return!!i&&i.researched}case"technology_tier":return t.technologies.filter(i=>{let t=l.find(e=>e.id===i.id);return t&&t.tier===e.tier&&i.researched}).length>=e.count;case"serum_progress":return t.serumProgress>=e.value;case"serum_quality":return t.serumQuality>=e.value;case"provinces_distributed":return t.provincesDistributed.length>=e.count;case"missions_completed":return t.missionsCompleted>=e.count;case"events_handled":return t.eventsHandled>=e.count;case"technologies_researched":return t.technologies.filter(i=>{let t=l.find(e=>e.id===i.id);return t&&t.tier===e.tier&&i.researched}).length>=e.count;case"currency":{let i=t.currencies[e.currency];if(">="===e.operator);else if("<="===e.operator)return i<=e.value;else if(">"===e.operator)return i>e.value;else if("<"===e.operator)return i<e.value;return i>=e.value}default:return!1}},advancePhase:()=>{let t=i(),n=p.find(e=>e.id===t.currentPhase);if(n){if(console.log("[v0] Phase completed:",t.currentPhase),w(k.phaseCompleted(n.name,t.currentPhase),t.settings.notifications),n.rewards){let s=n.rewards;if(s.globalStability&&i().updateGlobalAttribute("globalStability",t.globalAttributes.globalStability+s.globalStability),s.morale&&i().updateGlobalAttribute("morale",t.globalAttributes.morale+s.morale),s.containmentCoefficient&&e(e=>({globalAttributes:{...e.globalAttributes,containmentCoefficient:T(e.globalAttributes.containmentCoefficient+s.containmentCoefficient)}})),s.knowledge&&i().addCurrency("knowledge",s.knowledge),s.supplies&&i().addCurrency("supplies",s.supplies),s.productionBonus&&console.log("[v0] Production bonus applied:",s.productionBonus),s.eventReduction&&console.log("[v0] Event reduction applied:",s.eventReduction),s.serumBonus&&console.log("[v0] Serum bonus applied:",s.serumBonus),s.victory){let i;console.log("[v0] VICTORY! Game completed!"),i=0+5*Math.pow(t.currentPhase,2)+Math.floor(2*Math.sqrt(t.buildings.reduce((e,i)=>e+i.level,0)))+8*t.technologies.filter(e=>e.researched).length+10*t.provinces.filter(e=>"safe"===e.status).length+50;let n=t.totalPlayTime/60;n<60&&(i+=Math.floor((60-n)*2)),w({title:"\uD83C\uDF89 VICTORY! HUMANITY SAVED! \uD83C\uDF89",message:"You have synthesized the cure and saved humanity! Earned ".concat(i," Ancestral Data."),type:"success"},t.settings.notifications),e({gameOver:!0,gameOverReason:"Victory! You have completed the serum and saved humanity from extinction.",ancestralData:t.ancestralData+i,prestigePoints:t.prestigePoints+i,phaseProgress:{...t.phaseProgress,[t.currentPhase]:!0}});return}}e(e=>({phaseProgress:{...e.phaseProgress,[e.currentPhase]:!0},currentPhase:e.currentPhase+1,campaignPhase:e.currentPhase+1})),console.log("[v0] Advanced to phase:",t.currentPhase+1)}},calculateMaintenanceCosts:()=>{let e=i(),t=(0,g.calculatePrestigeBonuses)(e.prestigeUpgrades),n=0;return e.buildings.forEach(e=>{if(!1===e.active||0===e.level)return;let i=E[e.id];if(!i||!i.effects)return;let t=i.effects;t.maintenanceReduction&&(n+=t.maintenanceReduction*e.level)}),{supplies:e.buildings.reduce((e,i)=>e+(0,C.$v)(i,E[i.id],t,n).totalUpkeep,0)}},checkGameOverConditions:()=>{let t=i(),n={...t.warningState},s={...t.crisisCounters},o=t.provinces.filter(e=>e.unlocked&&"red"===e.status).length;if(s.redProvinceCount=o,t.globalAttributes.infectionRate>=80){if(s.infectionAt100Ticks+=1,!n.criticalInfection){let e=300-s.infectionAt100Ticks;w(k.criticalInfection(e),t.settings.notifications)}if(n.criticalInfection=!0,s.infectionAt100Ticks>=300){i().triggerGameOver("The infection has completely overwhelmed humanity. The outbreak is unstoppable.");return}}else s.infectionAt100Ticks=0,n.criticalInfection=!1;if(t.currencies.survivors<=0){if(s.zeroSurvivorsTicks+=1,!n.noSurvivors){let e=30-s.zeroSurvivorsTicks;w(k.noSurvivors(e),t.settings.notifications)}if(n.noSurvivors=!0,s.zeroSurvivorsTicks>=30){i().triggerGameOver("All survivors have perished. There is no one left to continue the fight.");return}}else s.zeroSurvivorsTicks=0,n.noSurvivors=!1;if(t.globalAttributes.globalStability<=5){if(s.lowStabilityTicks+=1,!n.collapsedStability){let e=45-s.lowStabilityTicks;w(k.lowStability(e),t.settings.notifications)}if(n.collapsedStability=!0,s.lowStabilityTicks>=45){i().triggerGameOver("Global stability has collapsed. Society has descended into chaos.");return}}else s.lowStabilityTicks=0,n.collapsedStability=!1;if(t.globalAttributes.morale<10){if(s.lowMoraleTicks=(s.lowMoraleTicks||0)+1,!n.lowMorale){let e=180-s.lowMoraleTicks;w({id:"low-morale-".concat(Date.now()),title:"CRITICAL: Morale Collapse",message:"Survivors are losing hope! Time remaining: ".concat(Math.floor(e/60),"m ").concat(e%60,"s"),type:"warning"},t.settings.notifications)}if(n.lowMorale=!0,s.lowMoraleTicks>=180){i().triggerGameOver("Morale has completely collapsed. The survivors have given up all hope.");return}}else s.lowMoraleTicks=0,n.lowMorale=!1;if(o>=4){if(n.multipleRedProvinces||w(k.multipleRedProvinces(),t.settings.notifications),n.multipleRedProvinces=!0,o>=5){i().triggerGameOver("Too many territories have fallen into chaos. The outbreak cannot be contained.");return}}else n.multipleRedProvinces=!1;if(s.negativeResourceTicks>=120){n.resourceStarvation=!0,i().triggerGameOver("Unable to maintain infrastructure. The operation has collapsed due to resource starvation.");return}if(s.negativeResourceTicks>60){if(!n.resourceStarvation){let e=120-s.negativeResourceTicks;w(k.resourceStarvation(e),t.settings.notifications)}n.resourceStarvation=!0}else n.resourceStarvation=!1,s.negativeResourceTicks=0;e({warningState:n,crisisCounters:s})},triggerGameOver:t=>{console.log("[v0] GAME OVER:",t);let n=i(),s=(null==t?void 0:t.toLowerCase().includes("victory"))||(null==t?void 0:t.toLowerCase().includes("saved humanity")),o=(0,g.calculatePrestigePoints)({currentPhase:n.currentPhase,totalPlayTime:n.totalPlayTime,buildings:n.buildings,technologies:n.technologies,provinces:n.provinces,serumProgress:n.serumProgress,isVictory:s});console.log("[v0] Prestige points earned:",o),e({gameOver:!0,gameOverReason:t,ancestralData:n.ancestralData+o,prestigePoints:n.prestigePoints+o})},restartGame:t=>{let n=i(),s=t?(0,g.calculatePrestigeBonuses)(n.prestigeUpgrades):(0,g.calculatePrestigeBonuses)([]);e({...R,currencies:{survivors:R.currencies.survivors+s.startingResources.survivors,supplies:R.currencies.supplies+s.startingResources.supplies,knowledge:R.currencies.knowledge+s.startingResources.knowledge,influence:R.currencies.influence+s.startingResources.influence,ancestralData:0},globalAttributes:{...R.globalAttributes,morale:I(R.globalAttributes.morale+s.startingMorale),globalStability:I(R.globalAttributes.globalStability+s.startingStability),containmentCoefficient:T(R.globalAttributes.containmentCoefficient+s.startingContainment)},ancestralData:t?n.ancestralData:0,prestigePoints:t?n.prestigePoints:0,prestigeUpgrades:t?n.prestigeUpgrades:[],patchNotesVersionViewed:n.patchNotesVersionViewed,lastTick:Date.now()}),console.log("[v0] Game restarted with prestige:",t),console.log("[v0] Prestige bonuses applied:",s),console.log("[v0] Available prestige points:",t?n.prestigePoints:0)},purchasePrestigeUpgrade:n=>{let s=i(),{canPurchaseUpgrade:o,getUpgrade:r}=t(9629),a=o(n,s.prestigeUpgrades,s.prestigePoints);if(!a.canPurchase)return console.log("[v0] Cannot purchase prestige upgrade:",n,a.reason),!1;let l=r(n);return l?(e(e=>({prestigePoints:e.prestigePoints-l.cost,prestigeUpgrades:[...e.prestigeUpgrades,n]})),console.log("[v0] Prestige upgrade purchased:",n,"Remaining points:",s.prestigePoints-l.cost),w({title:"Prestige Upgrade Purchased",message:"".concat(l.name," - ").concat(l.description),type:"success"},s.settings.notifications),!0):(console.log("[v0] Prestige upgrade not found:",n),!1)},refundPrestigeUpgrade:n=>{let s=i();if(!s.prestigeUpgrades.includes(n))return console.log("[v0] Prestige upgrade not purchased:",n),!1;let{getUpgrade:o}=t(9629),r=o(n);return r?(e(e=>({prestigePoints:e.prestigePoints+r.cost,prestigeUpgrades:e.prestigeUpgrades.filter(e=>e!==n)})),console.log("[v0] Prestige upgrade refunded:",n,"New points:",s.prestigePoints+r.cost),w({title:"Prestige Upgrade Refunded",message:"".concat(r.name," refunded. +").concat(r.cost," points returned."),type:"info"},s.settings.notifications),!0):(console.log("[v0] Prestige upgrade not found:",n),!1)},dismissTutorial:()=>{e({tutorialDismissed:!0}),console.log("[v0] Tutorial dismissed")},markPatchNotesViewed:i=>{e({patchNotesVersionViewed:i})},dismissWelcome:()=>{e({hasSeenWelcome:!0}),console.log("[Welcome] Welcome screen dismissed")},togglePause:()=>{let t=i();if(t.gameOver)return;let n=Date.now();if(t.isPaused){let i=t.pausedAt?n-t.pausedAt:0,s=t.activeMissions;i>0&&null!==t.pausedAt&&(s=t.activeMissions.map(e=>e.startTime<t.pausedAt?{...e,startTime:e.startTime+i}:e)),e({isPaused:!1,pausedAt:null,totalPausedTime:t.totalPausedTime+i,hasEverUnpaused:!0,lastTick:n,activeMissions:s}),console.log("[Pause] Game unpaused - duration:",(i/1e3).toFixed(1),"s, missions adjusted:",s.length)}else e({isPaused:!0,pausedAt:n}),console.log("[Pause] Game paused")},setPaused:e=>{i().isPaused!==e&&i().togglePause()},restartCurrentRun:()=>{let t=i(),n=t.ancestralData,s=t.prestigePoints,o=[...t.prestigeUpgrades],r=t.currentSlot,a=t.version,l=t.totalPlayTime;e({...M(R),ancestralData:n,prestigePoints:s,prestigeUpgrades:o,currentSlot:r,version:a,lastSaved:Date.now(),totalPlayTime:l,currentRunPlayTime:0,isPaused:!0,hasEverUnpaused:!1}),setTimeout(()=>{i().saveGame(r)},100),console.log("[Restart] Current run restarted - Prestige preserved"),w({title:"Run Restarted",message:"Starting fresh! Your prestige points are safe.",type:"info"},t.settings.notifications)},deleteSaveSlot:t=>{localStorage.removeItem("outbreak-protocol-save-".concat(t)),console.log("[Delete] Save slot deleted:",t),w({title:"Save Deleted",message:"Save slot ".concat(t," has been permanently deleted."),type:"info"},i().settings.notifications),t===i().currentSlot&&e(M(R))},purchaseEquipment:n=>{let s=i(),o=t(9715).find(e=>e.id===n);if(!o)return console.log("[Equipment] Equipment not found:",n),!1;if(s.missionEquipment.find(e=>e.id===n))return console.log("[Equipment] Equipment already owned:",n),!1;if(!i().canAfford(o.cost))return console.log("[Equipment] Cannot afford equipment:",n),!1;if(o.unlockPhase>s.campaignPhase)return console.log("[Equipment] Equipment not unlocked yet:",n),!1;if(o.unlockRequirement){if(o.unlockRequirement.building){let e=s.buildings.find(e=>e.id===o.unlockRequirement.building);if(!e||e.level<(o.unlockRequirement.minLevel||1))return console.log("[Equipment] Building requirement not met:",n),!1}if(o.unlockRequirement.technology){let e=s.technologies.find(e=>e.id===o.unlockRequirement.technology);if(!e||!e.researched)return console.log("[Equipment] Technology requirement not met:",n),!1}}return Object.entries(o.cost).forEach(e=>{let[t,n]=e;i().spendCurrency(t,n)}),e(e=>({missionEquipment:[...e.missionEquipment,{id:o.id,durability:o.durability,maxDurability:o.durability}]})),console.log("[Equipment] Purchased:",o.name),!0},repairEquipment:n=>{let s=i(),o=t(9715).find(e=>e.id===n),r=s.missionEquipment.find(e=>e.id===n);if(!r||!o)return console.log("[Equipment] Equipment not found:",n),!1;if(r.durability>=r.maxDurability)return console.log("[Equipment] Equipment already at full durability"),!1;let a=Math.ceil((r.maxDurability-r.durability)*50);return s.currencies.supplies<a?(console.log("[Equipment] Cannot afford repair"),!1):(i().spendCurrency("supplies",a),e(e=>({missionEquipment:e.missionEquipment.map(e=>e.id===n?{...e,durability:e.maxDurability}:e)})),console.log("[Equipment] Repaired:",o.name,"for",a,"supplies"),!0)},craftEquipment:n=>{if(!i().equipmentBlueprints.includes(n))return console.log("[Equipment] Blueprint not unlocked:",n),!1;let s=t(9715).find(e=>e.id===n);if(!s)return console.log("[Equipment] Equipment data not found for blueprint:",n),!1;let o={};return(Object.entries(s.cost).forEach(e=>{let[i,t]=e;o[i]=Math.floor(.75*t)}),i().canAfford(o))?(Object.entries(o).forEach(e=>{let[t,n]=e;i().spendCurrency(t,n)}),e(e=>({missionEquipment:[...e.missionEquipment,{id:s.id,durability:s.durability,maxDurability:s.durability}]})),console.log("[Equipment] Crafted:",s.name),!0):(console.log("[Equipment] Cannot afford crafting cost"),!1)},saveLoadout:(i,t,n,s)=>{let o={id:"loadout-".concat(Date.now()),name:i,equipmentIds:t,veteranIds:n,missionCategory:s,createdAt:Date.now()};return e(e=>({missionLoadouts:[...e.missionLoadouts,o]})),console.log("[Loadout] Saved:",i),!0},deleteLoadout:i=>{e(e=>({missionLoadouts:e.missionLoadouts.filter(e=>e.id!==i)})),console.log("[Loadout] Deleted:",i)},applyLoadout:e=>{let t=i(),n=t.missionLoadouts.find(i=>i.id===e);if(!n)return console.log("[Loadout] Loadout not found:",e),{equipmentIds:[],veteranIds:[]};let s=n.equipmentIds.filter(e=>{let i=t.missionEquipment.find(i=>i.id===e);return i&&i.durability>0}),o=n.veteranIds.filter(e=>t.veteranSurvivors.some(i=>i.id===e));return(s.length!==n.equipmentIds.length||o.length!==n.veteranIds.length)&&console.warn("[Loadout] Loadout modified - some equipment/veterans no longer available:",n.name),console.log("[Loadout] Applied:",n.name),{equipmentIds:s,veteranIds:o}},unlockMissionChain:n=>{let s=t(4377).find(e=>e.id===n);if(!s){console.log("[Mission Chain] Chain not found:",n);return}if(i().missionChains.find(e=>e.id===n)){console.log("[Mission Chain] Chain already unlocked:",n);return}let o={id:s.id,name:s.name,description:s.description,currentStep:0,missions:s.missions,rewards:s.rewards,specialReward:s.specialReward,unlocked:!0,completed:!1};e(e=>({missionChains:[...e.missionChains,o]})),console.log("[Mission Chain] Unlocked:",s.name)},advanceMissionChain:t=>{e(e=>({missionChains:e.missionChains.map(e=>e.id===t?{...e,currentStep:e.currentStep+1}:e)}));let n=i().missionChains.find(e=>e.id===t);n&&n.currentStep>=n.missions.length&&i().completeMissionChain(t)},completeMissionChain:n=>{let s=i(),o=s.missionChains.find(e=>e.id===n);if(o){if(e(e=>({missionChains:e.missionChains.map(e=>e.id===n?{...e,completed:!0,currentStep:0}:e)})),Object.entries(o.rewards).forEach(e=>{let[t,n]=e;i().addCurrency(t,n)}),o.specialReward){if(o.specialReward.includes("blueprint"))e(e=>({equipmentBlueprints:[...e.equipmentBlueprints,o.specialReward]}));else if("veteran_recruit"===o.specialReward){let{name:i,specialization:n}=t(9387).Df(s.veteranSurvivors.length);e(e=>({veteranSurvivors:[...e.veteranSurvivors,{id:"veteran-".concat(Date.now()),name:i,experience:0,level:1,missionsCompleted:0,specialization:n}]}))}}console.log("[Mission Chain] Completed:",o.name),i().checkMissionAchievements()}},replayMissionChain:i=>{e(e=>({missionChains:e.missionChains.map(e=>e.id===i?{...e,currentStep:0,completed:!1}:e)})),console.log("[Mission Chain] Replaying chain:",i)},generateDailyMissions:()=>{let n=i(),s=Date.now(),o=n.dailyMissions.filter(e=>e.expiresAt>s&&!e.completed);if(o.length<3){let i=t(1333).filter(e=>e.unlockPhase<=n.campaignPhase);for(;o.length<3&&i.length>0;){let e=i[Math.floor(Math.random()*i.length)],t={id:"daily-".concat(Date.now(),"-").concat(Math.random()),missionId:e.id,name:"DAILY: ".concat(e.name),description:e.description,bonusRewardMultiplier:1.5+.5*Math.random(),expiresAt:s+864e5,completed:!1};o.push(t),i.splice(i.indexOf(e),1)}e({dailyMissions:o}),console.log("[Daily Missions] Generated:",o.length,"dailies")}},completeDailyMission:t=>{let n=i(),s=n.dailyMissions.find(e=>e.id===t);e(e=>({dailyMissions:e.dailyMissions.map(e=>e.id===t?{...e,completed:!0}:e)})),s&&w({title:"Daily Mission Complete!",message:"".concat(s.name," - Earned ").concat((100*s.bonusRewardMultiplier).toFixed(0),"% bonus rewards!"),type:"success"},n.settings.notifications),console.log("[Daily Mission] Completed:",t),i().checkMissionAchievements()},purchaseMissionIntel:(t,n)=>{let s=i(),o={modifiers:50,success:30,enemies:40}[n];return s.intelPoints<o?(console.log("[Intel] Not enough intel points"),!1):(e(e=>{var i,s,r;return{intelPoints:e.intelPoints-o,missionIntel:{...e.missionIntel,[t]:{...e.missionIntel[t],missionId:t,revealedModifiers:(null===(i=e.missionIntel[t])||void 0===i?void 0:i.revealedModifiers)||"modifiers"===n,revealedExactSuccess:(null===(s=e.missionIntel[t])||void 0===s?void 0:s.revealedExactSuccess)||"success"===n,revealedEnemies:(null===(r=e.missionIntel[t])||void 0===r?void 0:r.revealedEnemies)||"enemies"===n,purchasedAt:Date.now()}}}}),console.log("[Intel] Purchased",n,"intel for mission:",t),i().checkMissionAchievements(),!0)},emergencyRecall:t=>{let n=i(),s=Date.now();if(n.emergencyRecallCooldown>s)return console.log("[Emergency Recall] On cooldown"),!1;let o=n.activeMissions.find(e=>e.id===t);if(!o)return console.log("[Emergency Recall] Mission not found"),!1;if(n.currencies.influence<500)return console.log("[Emergency Recall] Not enough influence"),!1;i().spendCurrency("influence",500);let r=Math.floor(.75*o.assignedSurvivors);return i().addCurrency("survivors",r),e(e=>({activeMissions:e.activeMissions.filter(e=>e.id!==t),emergencyRecallCooldown:s+3e5})),console.log("[Emergency Recall] Mission recalled, returned",r,"survivors"),!0},recruitSpecialist:t=>{i();let n={influence:2e3,knowledge:1500};if(!i().canAfford(n))return console.log("[Specialist] Cannot afford recruitment"),!1;i().spendCurrency("influence",n.influence),i().spendCurrency("knowledge",n.knowledge);let s={scientist:["Dr. Sarah Chen","Dr. Marcus Reid","Dr. Emily Watson"],engineer:["Chief Engineer Torres","Master Engineer Patel","Lead Engineer Kim"],medic:["Chief Medical Officer Gray","Dr. Rachel Adams","Surgeon Commander Lee"],tactician:["Commander Hayes","Tactical Officer Cruz","Strategic Advisor Morgan"],diplomat:["Ambassador Stone","Envoy Martinez","Negotiator Chang"]}[t]||["Specialist"],o=s[Math.floor(Math.random()*s.length)],r={id:"specialist-".concat(Date.now()),name:o,type:t,level:1,experience:0,bonuses:{scientist:{researchSpeedBonus:10,serumQualityBonus:15},engineer:{buildingEfficiencyBonus:10,equipmentDurabilityBonus:15,craftingDiscount:20},medic:{missionSuccessBonus:15,casualtyReduction:30,survivorRecoveryBonus:10},tactician:{missionSuccessBonus:20,missionRewardBonus:10},diplomat:{influenceBonus:25,provinceRelationsBonus:15}}[t]||{}};return e(e=>({specialists:[...e.specialists,r]})),console.log("[Specialist] Recruited:",o),!0},assignSpecialist:(i,t)=>{e(e=>({specialists:e.specialists.map(e=>e.id===i?{...e,assignedTo:t}:e)})),console.log("[Specialist] Assigned:",i,"to",t)},unassignSpecialist:i=>{e(e=>({specialists:e.specialists.map(e=>e.id===i?{...e,assignedTo:void 0}:e)})),console.log("[Specialist] Unassigned:",i)},checkMissionAchievements:()=>{let e=i(),n=t(5335),s=[];n.forEach(i=>{if(e.missionAchievements.includes(i.id))return;let n=!1;switch(i.requirement.type){case"missions_completed":n=(i.requirement.successOnly?e.completedMissions.filter(e=>e.success).length:e.completedMissions.length)>=i.requirement.count;break;case"perfect_mission":n=e.completedMissions.some(e=>e.success&&e.successRate>=95&&0===e.casualties);break;case"high_risk_success":n=e.completedMissions.some(e=>e.success&&e.risk>=i.requirement.minRisk);break;case"equipment_collection":let o=i.requirement.tiers;n=t(9715).filter(e=>o.includes(e.tier)).every(i=>e.missionEquipment.some(e=>e.id===i.id));break;case"veteran_levels":n=e.veteranSurvivors.filter(e=>e.level>=i.requirement.minLevel).length>=i.requirement.count;break;case"chains_completed":n=e.missionChains.filter(e=>e.completed).length>=i.requirement.count;break;case"daily_missions_completed":n=e.completedMissions.filter(e=>e.isDaily).length>=i.requirement.count;break;case"consecutive_successes":let r=0;for(let i=e.completedMissions.length-1;i>=0;i--)if(e.completedMissions[i].success)r++;else break;n=r>=i.requirement.count;break;case"zero_casualties":n=e.completedMissions.filter(e=>e.success&&0===e.casualties).length>=i.requirement.count;break;case"intel_purchased":n=Object.keys(e.missionIntel).length>=i.requirement.count;break;case"mission_speed":n=e.missionStatistics.totalMissionsUnder5Min>=i.requirement.count;break;case"win_streak":n=e.missionStatistics.longestWinStreak>=i.requirement.consecutiveWins}n&&s.push(i.id)}),s.length>0&&(s.forEach(e=>i().unlockAchievement(e)),s.length>1&&console.log("[Achievements] Unlocked ".concat(s.length," achievements:"),s.join(", ")))},unlockAchievement:n=>{let s=i();if(s.missionAchievements.includes(n))return;let o=t(5335).find(e=>e.id===n);if(!o)return;e(e=>({missionAchievements:[...e.missionAchievements,n]}));let r="Achievement unlocked!";if(o.rewards){let e=[];Object.entries(o.rewards).forEach(i=>{let[t,n]=i;"currency"===t||"influence"===t||"knowledge"===t?e.push("+".concat(n," ").concat(t)):"equipmentBlueprint"===t?e.push("Blueprint: ".concat(n)):"specialist"===t?e.push("Specialist: ".concat(n)):"veteranXP"===t&&e.push("+".concat(n," Veteran XP"))}),e.length>0&&(r=e.join(", "))}w({title:"\uD83C\uDFC6 ".concat(o.name),message:r,type:"success"},s.settings.notifications),o.rewards&&Object.entries(o.rewards).forEach(t=>{let[n,s]=t;"equipmentBlueprint"===n?e(e=>({equipmentBlueprints:[...e.equipmentBlueprints,s]})):"specialist"===n?i().recruitSpecialist(s):"technologyFragment"===n?e(e=>({technologyFragments:e.technologyFragments+s})):"veteranXP"===n?e(e=>({veteranSurvivors:e.veteranSurvivors.map(e=>({...e,experience:e.experience+s}))})):"missionSuccessBonus"===n?console.log("[Achievement] Permanent mission success bonus:",s):i().addCurrency(n,s)}),console.log("[Achievement] Unlocked:",o.name)}}),{name:"outbreak-protocol-storage",partialize:e=>({currencies:e.currencies,globalAttributes:e.globalAttributes,buildings:e.buildings,technologies:e.technologies,researchQueue:e.researchQueue,currentPhase:e.currentPhase,totalPlayTime:e.totalPlayTime,settings:e.settings,provinces:e.provinces,activeEvents:e.activeEvents,eventHistory:e.eventHistory,reputation:e.reputation,ethicalChoices:e.ethicalChoices,activeMissions:e.activeMissions,temporaryEffects:e.temporaryEffects,eventStats:e.eventStats,nextEventSpawnAt:e.nextEventSpawnAt,tutorialDismissed:e.tutorialDismissed,patchNotesVersionViewed:e.patchNotesVersionViewed,gameOver:e.gameOver,gameOverReason:e.gameOverReason,serumProgress:e.serumProgress,serumRecipes:e.serumRecipes,synthesisAttempts:e.synthesisAttempts,synthesisSuccesses:e.synthesisSuccesses,serumQuality:e.serumQuality,serumQualityHistory:e.serumQualityHistory,provincesDistributed:e.provincesDistributed,breakthroughsUnlocked:e.breakthroughsUnlocked,contaminationEvents:e.contaminationEvents,serumStages:e.serumStages,currentSerumStage:e.currentSerumStage,activeSynthesis:e.activeSynthesis,serumDoses:e.serumDoses,missionEquipment:e.missionEquipment,veteranSurvivors:e.veteranSurvivors,specialists:e.specialists,missionCompletions:e.missionCompletions,technologyFragments:e.technologyFragments,intelPoints:e.intelPoints,diplomaticFavor:e.diplomaticFavor,ancestralData:e.ancestralData,prestigePoints:e.prestigePoints,prestigeUpgrades:e.prestigeUpgrades,phaseProgress:e.phaseProgress,equipmentBlueprints:e.equipmentBlueprints,missionLoadouts:e.missionLoadouts,missionChains:e.missionChains,dailyMissions:e.dailyMissions,missionAchievements:e.missionAchievements,missionIntel:e.missionIntel,emergencyRecallCooldown:e.emergencyRecallCooldown,completedMissions:e.completedMissions})}))},3580:(e,i,t)=>{t.d(i,{dj:()=>p,oR:()=>d});var n=t(2115);let s=0,o=new Map,r=e=>{if(o.has(e))return;let i=setTimeout(()=>{o.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,i)},a=(e,i)=>{switch(i.type){case"ADD_TOAST":return{...e,toasts:[i.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===i.toast.id?{...e,...i.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=i;return t?r(t):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===i.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==i.toastId)}}},l=[],c={toasts:[]};function u(e){c=a(c,e),l.forEach(e=>{e(c)})}function d(e){let{...i}=e,t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>u({type:"DISMISS_TOAST",toastId:t});return u({type:"ADD_TOAST",toast:{...i,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,i]=n.useState(c);return n.useEffect(()=>(l.push(i),()=>{let e=l.indexOf(i);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},3999:(e,i,t)=>{t.d(i,{cn:()=>o});var n=t(2596),s=t(9688);function o(){for(var e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];return(0,s.QP)((0,n.$)(i))}},4377:e=>{e.exports=JSON.parse('[{"id":"operation_phoenix","name":"Operation Phoenix","description":"A coordinated series of operations to establish a secure research corridor","missions":["territory_recon","defensive_fortification","sample_collection","tech_salvage"],"rewards":{"supplies":5000,"knowledge":2000,"influence":1000},"specialReward":"phoenix_protocol","unlockPhase":6},{"id":"last_hope","name":"Last Hope Initiative","description":"Critical missions to prepare for final serum distribution","missions":["vip_extraction","deep_expedition","establish_trade_route","serum_distribution"],"rewards":{"knowledge":5000,"influence":2000},"specialReward":"cure_research_boost","unlockPhase":10},{"id":"shadow_network","name":"Shadow Network","description":"Covert operations to build an underground intelligence network","missions":["black_ops","underground_network","black_ops","vip_extraction"],"rewards":{"influence":3000,"intelPoints":10},"specialReward":"shadow_operative","unlockPhase":8},{"id":"guardian_protocol","name":"Guardian Protocol","description":"Defensive operations to secure all allied territories","missions":["defensive_fortification","allied_rescue","defensive_fortification","horde_elimination"],"rewards":{"supplies":4000,"influence":2000},"specialReward":"fortress_doctrine","unlockPhase":7},{"id":"first_response","name":"First Response Training","description":"Introductory mission sequence to train your operations team","missions":["rescue_survivors","supply_convoy","territory_recon"],"rewards":{"survivors":50,"supplies":2000,"knowledge":500},"specialReward":"veteran_recruit","unlockPhase":1}]')},4428:e=>{e.exports=JSON.parse('[{"id":"field_medicine","name":"Field Medicine","description":"Basic medical training for survivors to reduce infection spread","tier":1,"cost":{"knowledge":240},"researchTime":40,"prerequisites":[],"effects":{"globalEffects":{"infectionRate":-1.5}},"subUpgrades":["field_medicine_sub1","field_medicine_sub2"]},{"id":"civilian_networks","name":"Civilian Networks","description":"Organize civilian communication networks for better coordination","tier":1,"cost":{"knowledge":360},"researchTime":52,"prerequisites":[],"effects":{"productionBonus":{"radio_tower":1.2}},"subUpgrades":["civilian_networks_sub1","civilian_networks_sub2"]},{"id":"emergency_mechanics","name":"Emergency Mechanics","description":"Train survivors in basic repair and maintenance skills","tier":1,"cost":{"knowledge":400},"researchTime":70,"prerequisites":[],"effects":{"productionBonus":{"workshop":1.2}},"subUpgrades":["emergency_mechanics_sub1","emergency_mechanics_sub2"]},{"id":"efficient_farming","name":"Efficient Farming","description":"Improved agricultural techniques for better supply production","tier":1,"cost":{"knowledge":480},"researchTime":80,"prerequisites":[],"effects":{"productionBonus":{"farm":1.3}},"subUpgrades":["efficient_farming_sub1","efficient_farming_sub2"]},{"id":"containment_protocols","name":"Containment Protocols","description":"Standard operating procedures for infection containment and quarantine management","tier":1,"cost":{"knowledge":440},"researchTime":62,"prerequisites":[],"effects":{"globalEffects":{"containmentCoefficient":0.01,"infectionRate":-1}},"subUpgrades":["containment_protocols_sub1","containment_protocols_sub2"]},{"id":"tactical_training","name":"Tactical Training","description":"Combat and security training for survivors to defend against hostile threats","tier":1,"cost":{"knowledge":560,"supplies":400},"researchTime":80,"prerequisites":[],"effects":{"globalEffects":{"morale":3}},"subUpgrades":["tactical_training_sub1","tactical_training_sub2"]},{"id":"synthetic_drugs","name":"Synthetic Drugs","description":"Develop synthetic medications to treat symptoms and boost morale","tier":2,"cost":{"knowledge":1200,"supplies":400,"influence":200},"researchTime":150,"prerequisites":["field_medicine"],"effects":{"productionBonus":{"clinic":1.6},"globalEffects":{"morale":6}},"subUpgrades":["synthetic_drugs_sub1","synthetic_drugs_sub2"]},{"id":"advanced_containment","name":"Advanced Containment","description":"Improved protocols for containing and isolating infected areas","tier":2,"cost":{"knowledge":1760,"supplies":640,"influence":300},"researchTime":150,"prerequisites":["field_medicine"],"effects":{"globalEffects":{"containmentCoefficient":0.025}},"subUpgrades":["advanced_containment_sub1","advanced_containment_sub2"]},{"id":"sat_uplink","name":"Satellite Uplink","description":"Establish satellite communication for global coordination. Provides massive production boost to Satellite buildings.","tier":2,"cost":{"knowledge":2240,"supplies":960,"influence":400},"researchTime":150,"prerequisites":["civilian_networks"],"effects":{"unlockFeature":"satellite_surveillance","productionBonus":{"satellite":1.5},"buildingEfficiencyBonus":{"satellite":0.3}},"subUpgrades":["sat_uplink_sub1","sat_uplink_sub2"]},{"id":"mobile_labs","name":"Mobile Labs","description":"Portable research facilities for field deployment","tier":2,"cost":{"knowledge":2400,"supplies":800,"influence":350},"researchTime":150,"prerequisites":["emergency_mechanics"],"effects":{"productionBonus":{"lab":1.4}},"subUpgrades":["mobile_labs_sub1","mobile_labs_sub2"]},{"id":"protocol_zero","name":"Protocol Zero","description":"Emergency containment protocol for critical outbreak situations","tier":3,"cost":{"knowledge":4800,"supplies":1600,"influence":1000},"researchTime":250,"prerequisites":["advanced_containment"],"effects":{"globalEffects":{"containmentCoefficient":0.06},"unlockFeature":"advanced_decontamination"},"subUpgrades":["protocol_zero_sub1","protocol_zero_sub2"]},{"id":"orbital_comms","name":"Orbital Communications","description":"Advanced orbital communication network for global reach","tier":3,"cost":{"knowledge":6400,"supplies":2400,"influence":1500},"researchTime":250,"prerequisites":["sat_uplink"],"effects":{"productionBonus":{"radio_tower":1.25},"unlockFeature":"satlink_upgrade"},"subUpgrades":["orbital_comms_sub1","orbital_comms_sub2"]},{"id":"biolab_security","name":"Biolab Security","description":"Enhanced security protocols for research facilities","tier":3,"cost":{"knowledge":8000,"supplies":3200,"influence":2000},"researchTime":250,"prerequisites":["mobile_labs"],"effects":{"globalEffects":{"infectionRate":-4}},"subUpgrades":["biolab_security_sub1","biolab_security_sub2"]},{"id":"provisional_vaccine","name":"Provisional Vaccine","description":"Early-stage vaccine that provides temporary immunity. Required for Alpha Synthesis research.","tier":4,"cost":{"knowledge":12000,"supplies":4800,"influence":3000},"researchTime":400,"prerequisites":["synthetic_drugs","protocol_zero"],"effects":{"globalEffects":{"infectionRate":-6,"globalStability":12},"unlockFeature":"provisional_vaccine_completed"},"subUpgrades":["provisional_vaccine_sub1","provisional_vaccine_sub2"]},{"id":"alpha_synthesis","name":"Alpha Synthesis","description":"Breakthrough technology for synthesizing the cure serum. Dramatically increases serum synthesis success rate and speed.","tier":4,"cost":{"knowledge":20000,"supplies":8000,"influence":5000},"researchTime":400,"prerequisites":["provisional_vaccine","biolab_security"],"effects":{"unlockFeature":"serum_synthesis","serumSuccessBonus":0.2,"serumSpeedBonus":0.4,"productionBonus":{"synthesis_station":2}},"subUpgrades":["alpha_synthesis_sub1","alpha_synthesis_sub2"]},{"id":"resilient_society","name":"Resilient Society","description":"Social programs to build a stronger, more resilient community","tier":4,"cost":{"knowledge":16000,"supplies":6400,"influence":4000},"researchTime":400,"prerequisites":["orbital_comms"],"effects":{"globalEffects":{"morale":12,"globalStability":8}},"subUpgrades":["resilient_society_sub1","resilient_society_sub2"]},{"id":"resource_logistics","name":"Resource Logistics","description":"Optimized supply chain management reduces costs and increases production efficiency","tier":1,"cost":{"knowledge":520},"researchTime":77,"prerequisites":[],"effects":{"globalEffects":{"buildingCostReduction":0.05},"productionBonus":{"farm":1.1}},"subUpgrades":["logistics_sub1","logistics_sub2"]},{"id":"territorial_admin","name":"Territorial Administration","description":"Improved governance systems for better territory management and influence generation","tier":1,"cost":{"knowledge":560},"researchTime":80,"prerequisites":[],"effects":{"globalEffects":{"territoryStability":0.05},"productionBonus":{"radio_tower":1.1},"unlockFeature":"command_center_ready"},"subUpgrades":["admin_sub1","admin_sub2"]},{"id":"advanced_tactics","name":"Advanced Tactical Operations","description":"Military training and tactics improve mission success rates and security capabilities","tier":2,"cost":{"knowledge":1600,"supplies":480,"influence":250},"researchTime":150,"prerequisites":["tactical_training"],"effects":{"globalEffects":{"missionSuccessRate":0.15},"buildingEfficiencyBonus":{"security_outpost":0.25}},"subUpgrades":["tactics_sub1","tactics_sub2"]},{"id":"industrial_automation","name":"Industrial Automation","description":"Automated production systems reduce worker dependency and increase efficiency","tier":2,"cost":{"knowledge":2000,"supplies":800,"influence":300},"researchTime":150,"prerequisites":["emergency_mechanics"],"effects":{"globalEffects":{"workerEfficiency":0.15},"unlockFeature":"automated_factory_ready"},"subUpgrades":["automation_sub1","automation_sub2"]},{"id":"agro_engineering","name":"Agro-Engineering","description":"Advanced agricultural techniques dramatically improve food production and sustainability","tier":2,"cost":{"knowledge":1440,"supplies":640,"influence":200},"researchTime":150,"prerequisites":["efficient_farming"],"effects":{"productionBonus":{"farm":1.4},"globalEffects":{"morale":4}},"subUpgrades":["agro_sub1","agro_sub2"]},{"id":"energy_grid","name":"Energy Grid Systems","description":"Integrated power infrastructure reduces maintenance costs and enables advanced facilities","tier":3,"cost":{"knowledge":5600,"supplies":2000,"influence":1200},"researchTime":250,"prerequisites":["industrial_automation"],"effects":{"globalEffects":{"maintenanceReduction":0.1},"unlockFeature":"power_plant_ready","productionBonus":{"workshop":1.2}},"subUpgrades":["energy_sub1","energy_sub2"]},{"id":"strategic_command","name":"Strategic Command","description":"Advanced command and control systems maximize operational effectiveness and coordination","tier":3,"cost":{"knowledge":6800,"supplies":2400,"influence":1800},"researchTime":250,"prerequisites":["advanced_tactics","territorial_admin"],"effects":{"buildingEfficiencyBonus":{"command_center":0.5},"globalEffects":{"missionCapacity":2,"morale":6}},"subUpgrades":["command_sub1","command_sub2"]},{"id":"bio_regeneration","name":"Bio-Regeneration","description":"Advanced biological research accelerates healing and population recovery","tier":3,"cost":{"knowledge":7200,"supplies":2800,"influence":1500},"researchTime":250,"prerequisites":["synthetic_drugs","agro_engineering"],"effects":{"globalEffects":{"populationGrowth":0.2,"infectionRecovery":0.15},"productionBonus":{"shelter":1.3,"clinic":1.4}},"subUpgrades":["biogen_sub1","biogen_sub2"]},{"id":"quantum_comms","name":"Quantum Communication Network","description":"Cutting-edge quantum communication enables global coordination and intelligence gathering","tier":4,"cost":{"knowledge":14400,"supplies":5600,"influence":3500},"researchTime":400,"prerequisites":["orbital_comms","energy_grid"],"effects":{"globalEffects":{"globalCoordination":0.3},"unlockFeature":"intelligence_agency_ready","productionBonus":{"satellite":1.3}},"subUpgrades":["quantum_sub1","quantum_sub2"]},{"id":"adaptive_distribution","name":"Adaptive Distribution Protocols","description":"Optimized distribution systems accelerate serum deployment across all territories","tier":4,"cost":{"knowledge":17600,"supplies":7200,"influence":4500},"researchTime":400,"prerequisites":["alpha_synthesis","strategic_command"],"effects":{"globalEffects":{"distributionSpeed":0.5},"unlockFeature":"distribution_hub_ready","productionBonus":{"synthesis_station":1.25}},"subUpgrades":["distribution_sub1","distribution_sub2"]}]')},4774:e=>{e.exports=JSON.parse('[{"id":"basic_serum","name":"Basic Serum","description":"Initial serum formula with moderate effectiveness","unlockedByStage":"stage_1_basic_formula","cost":{"supplies":3000,"knowledge":1000,"influence":300},"synthesisTime":180,"successChance":0.7,"quality":"basic","dosesPerTerritory":4,"progressOnSuccess":8,"progressOnFailure":2},{"id":"stabilized_serum","name":"Stabilized Serum","description":"Improved formula with better stability and effectiveness","unlockedByStage":"stage_2_stabilization","cost":{"supplies":5000,"knowledge":2000,"influence":600},"synthesisTime":300,"successChance":0.8,"quality":"improved","dosesPerTerritory":3,"progressOnSuccess":12,"progressOnFailure":3},{"id":"advanced_serum","name":"Advanced Serum","description":"High-potency formula requiring fewer doses per territory","unlockedByStage":"stage_3_potency","cost":{"supplies":8000,"knowledge":4000,"influence":1200},"synthesisTime":480,"successChance":0.85,"quality":"advanced","dosesPerTerritory":2,"progressOnSuccess":18,"progressOnFailure":5},{"id":"pure_serum","name":"Pure Serum","description":"Refined high-quality serum with maximum effectiveness","unlockedByStage":"stage_4_purification","cost":{"supplies":12000,"knowledge":6000,"influence":2000},"synthesisTime":600,"successChance":0.95,"quality":"pure","dosesPerTerritory":1,"progressOnSuccess":25,"progressOnFailure":8}]')},5335:e=>{e.exports=JSON.parse('[{"id":"first_deployment","name":"First Deployment","description":"Complete your first mission","icon":"target","requirement":{"type":"missions_completed","count":1},"rewards":{"supplies":500,"knowledge":200}},{"id":"veteran_commander","name":"Veteran Commander","description":"Complete 50 missions successfully","icon":"award","requirement":{"type":"missions_completed","count":50,"successOnly":true},"rewards":{"influence":1000,"intelPoints":5}},{"id":"perfect_operation","name":"Perfect Operation","description":"Complete a mission with 95%+ success rate and zero casualties","icon":"shield-check","requirement":{"type":"perfect_mission"},"rewards":{"supplies":1000,"influence":500}},{"id":"risk_taker","name":"Risk Taker","description":"Successfully complete a mission with 70%+ risk","icon":"flame","requirement":{"type":"high_risk_success","minRisk":70},"rewards":{"knowledge":800,"veteranXP":100}},{"id":"equipment_master","name":"Equipment Master","description":"Own all basic and advanced tier equipment","icon":"package","requirement":{"type":"equipment_collection","tiers":["basic","advanced"]},"rewards":{"supplies":2000,"equipmentBlueprint":"elite_package"}},{"id":"elite_force","name":"Elite Force","description":"Have 10 veterans at level 5 or higher","icon":"users","requirement":{"type":"veteran_levels","count":10,"minLevel":5},"rewards":{"influence":1500,"specialist":"tactician"}},{"id":"chain_master","name":"Chain Master","description":"Complete all mission chains","icon":"link","requirement":{"type":"chains_completed","count":5},"rewards":{"knowledge":5000,"influence":3000,"technologyFragment":5}},{"id":"daily_grind","name":"Daily Grind","description":"Complete 30 daily missions","icon":"calendar","requirement":{"type":"daily_missions_completed","count":30},"rewards":{"supplies":3000,"knowledge":1500}},{"id":"never_surrender","name":"Never Surrender","description":"Complete 10 missions in a row without failure","icon":"trophy","requirement":{"type":"win_streak","consecutiveWins":10},"rewards":{"influence":2000,"intelPoints":10,"missionSuccessBonus":0.05}},{"id":"speed_runner","name":"Speed Runner","description":"Complete 10 missions in under 5 minutes each","icon":"zap","requirement":{"type":"mission_speed","count":10},"rewards":{"supplies":1500,"equipmentBlueprint":"advanced_relay"}},{"id":"no_casualties","name":"No Man Left Behind","description":"Complete 20 missions without losing a single survivor","icon":"heart","requirement":{"type":"zero_casualties","count":20},"rewards":{"survivors":100,"influence":1000,"specialist":"medic"}},{"id":"intelligence_network","name":"Intelligence Network","description":"Purchase intel for 25 different missions","icon":"eye","requirement":{"type":"intel_purchased","count":25},"rewards":{"intelPoints":20,"influence":1500}}]')},6106:e=>{e.exports=JSON.parse('[{"id":"field_medicine_sub1","parentTechId":"field_medicine","name":"Emergency Triage","description":"Implement rapid triage protocols to reduce infection spread","cost":{"knowledge":10,"supplies":50},"effects":{"globalEffects":{"infectionRate":-0.5}}},{"id":"field_medicine_sub2","parentTechId":"field_medicine","name":"Field Medic Training","description":"Train civilians in basic medical care to boost morale","cost":{"knowledge":10,"supplies":50},"effects":{"globalEffects":{"morale":2}}},{"id":"civilian_networks_sub1","parentTechId":"civilian_networks","name":"Community Radio","description":"Establish local radio networks for better communication","cost":{"knowledge":15,"supplies":75},"effects":{"productionBonus":{"radio_tower":1.05}}},{"id":"civilian_networks_sub2","parentTechId":"civilian_networks","name":"Neighborhood Watch","description":"Organize community watch programs to improve safety and morale","cost":{"knowledge":15,"supplies":75},"effects":{"globalEffects":{"morale":3}}},{"id":"emergency_mechanics_sub1","parentTechId":"emergency_mechanics","name":"Tool Workshops","description":"Set up workshops for tool repair and maintenance","cost":{"knowledge":20,"supplies":100},"effects":{"productionBonus":{"workshop":1.08}}},{"id":"emergency_mechanics_sub2","parentTechId":"emergency_mechanics","name":"Irrigation Repair","description":"Maintain and repair farming equipment and irrigation","cost":{"knowledge":20,"supplies":100},"effects":{"productionBonus":{"farm":1.05}}},{"id":"efficient_farming_sub1","parentTechId":"efficient_farming","name":"Crop Rotation","description":"Implement advanced crop rotation for better yields","cost":{"knowledge":30,"supplies":150},"effects":{"productionBonus":{"farm":1.1}}},{"id":"efficient_farming_sub2","parentTechId":"efficient_farming","name":"Community Gardens","description":"Establish community gardens to boost morale and food security","cost":{"knowledge":30,"supplies":150},"effects":{"globalEffects":{"morale":2}}},{"id":"containment_protocols_sub1","parentTechId":"containment_protocols","name":"Quarantine Zones","description":"Establish dedicated quarantine zones to improve infection control","cost":{"knowledge":25,"supplies":100},"effects":{"globalEffects":{"containmentCoefficient":0.005,"infectionRate":-0.5}}},{"id":"containment_protocols_sub2","parentTechId":"containment_protocols","name":"Decontamination Procedures","description":"Implement strict decontamination procedures for personnel and equipment","cost":{"knowledge":25,"supplies":100},"effects":{"productionBonus":{"containment_unit":1.1}}},{"id":"tactical_training_sub1","parentTechId":"tactical_training","name":"Combat Drills","description":"Regular combat drills to improve security force readiness and coordination","cost":{"knowledge":40,"supplies":150},"effects":{"globalEffects":{"morale":2,"globalStability":2}}},{"id":"tactical_training_sub2","parentTechId":"tactical_training","name":"Defensive Fortifications","description":"Train survivors to build and maintain defensive positions","cost":{"knowledge":40,"supplies":150},"effects":{"globalEffects":{"morale":1}}},{"id":"synthetic_drugs_sub1","parentTechId":"synthetic_drugs","name":"Advanced Pharmaceuticals","description":"Develop synthetic drugs for better medical treatment","cost":{"knowledge":100,"supplies":200},"effects":{"productionBonus":{"clinic":1.1}}},{"id":"synthetic_drugs_sub2","parentTechId":"synthetic_drugs","name":"Pain Management","description":"Improve pain management protocols to boost morale","cost":{"knowledge":100,"supplies":200},"effects":{"globalEffects":{"morale":3}}},{"id":"advanced_containment_sub1","parentTechId":"advanced_containment","name":"Quarantine Protocols","description":"Implement strict quarantine measures for better containment","cost":{"knowledge":150,"supplies":300},"effects":{"globalEffects":{"containmentCoefficient":0.01}}},{"id":"advanced_containment_sub2","parentTechId":"advanced_containment","name":"Decontamination Units","description":"Deploy mobile decontamination units to reduce infection","cost":{"knowledge":150,"supplies":300},"effects":{"globalEffects":{"infectionRate":-1}}},{"id":"sat_uplink_sub1","parentTechId":"sat_uplink","name":"Global Communications","description":"Establish satellite uplink for worldwide communication","cost":{"knowledge":200,"supplies":500},"effects":{"globalEffects":{"morale":5}}},{"id":"sat_uplink_sub2","parentTechId":"sat_uplink","name":"Satellite Surveillance","description":"Use satellite imagery for better outbreak tracking","cost":{"knowledge":200,"supplies":500},"effects":{"globalEffects":{"containmentCoefficient":0.01}}},{"id":"mobile_labs_sub1","parentTechId":"mobile_labs","name":"Rapid Testing","description":"Deploy mobile labs for rapid on-site testing","cost":{"knowledge":240,"supplies":400},"effects":{"productionBonus":{"lab":1.15}}},{"id":"mobile_labs_sub2","parentTechId":"mobile_labs","name":"Field Research","description":"Conduct field research to better understand the outbreak","cost":{"knowledge":240,"supplies":400},"effects":{"globalEffects":{"infectionRate":-0.5}}},{"id":"protocol_zero_sub1","parentTechId":"protocol_zero","name":"Emergency Response","description":"Activate emergency response protocols for maximum containment","cost":{"knowledge":1000,"supplies":2000},"effects":{"globalEffects":{"containmentCoefficient":0.02}}},{"id":"protocol_zero_sub2","parentTechId":"protocol_zero","name":"Total Lockdown","description":"Implement total lockdown measures to halt infection spread","cost":{"knowledge":1000,"supplies":2000},"effects":{"globalEffects":{"infectionRate":-2}}},{"id":"orbital_comms_sub1","parentTechId":"orbital_comms","name":"Enhanced Bandwidth","description":"Upgrade orbital communications for better coordination","cost":{"knowledge":1600,"supplies":3000},"effects":{"productionBonus":{"radio_tower":1.1}}},{"id":"orbital_comms_sub2","parentTechId":"orbital_comms","name":"Global Coordination","description":"Coordinate with international agencies to boost morale","cost":{"knowledge":1600,"supplies":3000},"effects":{"globalEffects":{"morale":5}}},{"id":"biolab_security_sub1","parentTechId":"biolab_security","name":"Containment Breach Prevention","description":"Implement advanced security to prevent lab breaches","cost":{"knowledge":2000,"supplies":4000},"effects":{"globalEffects":{"infectionRate":-1.5}}},{"id":"biolab_security_sub2","parentTechId":"biolab_security","name":"Biohazard Protocols","description":"Establish strict biohazard handling protocols","cost":{"knowledge":2000,"supplies":4000},"effects":{"globalEffects":{"containmentCoefficient":0.02}}},{"id":"provisional_vaccine_sub1","parentTechId":"provisional_vaccine","name":"Mass Vaccination","description":"Deploy provisional vaccine to the population","cost":{"knowledge":5000,"supplies":10000},"effects":{"globalEffects":{"infectionRate":-2,"globalStability":5}}},{"id":"provisional_vaccine_sub2","parentTechId":"provisional_vaccine","name":"Hope Restored","description":"Restore hope to the population with vaccine distribution","cost":{"knowledge":5000,"supplies":10000},"effects":{"globalEffects":{"morale":10}}},{"id":"alpha_synthesis_sub1","parentTechId":"alpha_synthesis","name":"Serum Distribution","description":"Distribute the Alpha Serum to stabilize the situation","cost":{"knowledge":10000,"supplies":20000},"effects":{"globalEffects":{"globalStability":10}}},{"id":"alpha_synthesis_sub2","parentTechId":"alpha_synthesis","name":"Outbreak Elimination","description":"Use the Alpha Serum to eliminate the outbreak","cost":{"knowledge":10000,"supplies":20000},"effects":{"globalEffects":{"infectionRate":-3}}},{"id":"resilient_society_sub1","parentTechId":"resilient_society","name":"Community Rebuilding","description":"Rebuild communities for a resilient post-outbreak society","cost":{"knowledge":8000,"supplies":15000},"effects":{"globalEffects":{"morale":5,"globalStability":3}}},{"id":"resilient_society_sub2","parentTechId":"resilient_society","name":"Economic Recovery","description":"Boost production to support economic recovery","cost":{"knowledge":8000,"supplies":15000},"effects":{"productionBonus":{"shelter":1.1,"farm":1.1}}},{"id":"logistics_sub1","parentTechId":"resource_logistics","name":"Supply Chain Mastery","description":"Advanced supply chain optimization reduces all costs further","cost":{"knowledge":800,"supplies":1000},"effects":{"globalEffects":{"buildingCostReduction":0.03}}},{"id":"logistics_sub2","parentTechId":"resource_logistics","name":"Efficient Transport","description":"Optimized transport networks boost supply production","cost":{"knowledge":800,"supplies":1000},"effects":{"productionBonus":{"farm":1.15,"workshop":1.1}}},{"id":"admin_sub1","parentTechId":"territorial_admin","name":"Provincial Governance","description":"Improved governance systems increase territory stability","cost":{"knowledge":900,"supplies":800},"effects":{"globalEffects":{"territoryStability":0.03}}},{"id":"admin_sub2","parentTechId":"territorial_admin","name":"Diplomatic Relations","description":"Better diplomacy increases influence generation","cost":{"knowledge":900,"supplies":800},"effects":{"productionBonus":{"radio_tower":1.2,"satellite":1.1}}},{"id":"tactics_sub1","parentTechId":"advanced_tactics","name":"Elite Training Program","description":"Specialized training dramatically improves mission success","cost":{"knowledge":2500,"supplies":1500,"influence":400},"effects":{"globalEffects":{"missionSuccessRate":0.1}}},{"id":"tactics_sub2","parentTechId":"advanced_tactics","name":"Tactical Intelligence","description":"Advanced intelligence gathering for security operations","cost":{"knowledge":2500,"supplies":1500,"influence":400},"effects":{"productionBonus":{"security_outpost":1.3},"globalEffects":{"morale":3}}},{"id":"automation_sub1","parentTechId":"industrial_automation","name":"Robot Workforce","description":"Deploy robots to enhance worker productivity globally","cost":{"knowledge":3000,"supplies":2000,"influence":500},"effects":{"globalEffects":{"workerEfficiency":0.1}}},{"id":"automation_sub2","parentTechId":"industrial_automation","name":"Smart Manufacturing","description":"AI-driven manufacturing boosts production facilities","cost":{"knowledge":3000,"supplies":2000,"influence":500},"effects":{"productionBonus":{"workshop":1.4,"automated_factory":1.3}}},{"id":"agro_sub1","parentTechId":"agro_engineering","name":"Hydroponics Systems","description":"Soil-free farming maximizes food production","cost":{"knowledge":2200,"supplies":1500,"influence":300},"effects":{"productionBonus":{"farm":1.5}}},{"id":"agro_sub2","parentTechId":"agro_engineering","name":"Sustainable Agriculture","description":"Eco-friendly farming increases morale and stability","cost":{"knowledge":2200,"supplies":1500,"influence":300},"effects":{"globalEffects":{"morale":5,"globalStability":3}}},{"id":"energy_sub1","parentTechId":"energy_grid","name":"Power Efficiency","description":"Optimized power usage reduces maintenance costs further","cost":{"knowledge":8000,"supplies":4000,"influence":1500},"effects":{"globalEffects":{"maintenanceReduction":0.05}}},{"id":"energy_sub2","parentTechId":"energy_grid","name":"Grid Expansion","description":"Expanded power network boosts all production facilities","cost":{"knowledge":8000,"supplies":4000,"influence":1500},"effects":{"productionBonus":{"power_plant":1.4,"workshop":1.2,"automated_factory":1.2}}},{"id":"command_sub1","parentTechId":"strategic_command","name":"Command and Control","description":"Enhanced command systems allow more simultaneous operations","cost":{"knowledge":10000,"supplies":5000,"influence":2500},"effects":{"globalEffects":{"missionCapacity":1}}},{"id":"command_sub2","parentTechId":"strategic_command","name":"Strategic Reserves","description":"Maintain strategic reserves to boost morale and readiness","cost":{"knowledge":10000,"supplies":5000,"influence":2500},"effects":{"productionBonus":{"command_center":1.5},"globalEffects":{"morale":8}}},{"id":"biogen_sub1","parentTechId":"bio_regeneration","name":"Accelerated Healing","description":"Advanced medical treatments speed up recovery from infection","cost":{"knowledge":11000,"supplies":6000,"influence":2000},"effects":{"globalEffects":{"infectionRecovery":0.1}}},{"id":"biogen_sub2","parentTechId":"bio_regeneration","name":"Enhanced Fertility","description":"Bio-engineering increases population growth rate","cost":{"knowledge":11000,"supplies":6000,"influence":2000},"effects":{"globalEffects":{"populationGrowth":0.15}}},{"id":"quantum_sub1","parentTechId":"quantum_comms","name":"Instant Communication","description":"Quantum entanglement enables instant global communication","cost":{"knowledge":22000,"supplies":12000,"influence":5000},"effects":{"productionBonus":{"satellite":1.5,"radio_tower":1.3}}},{"id":"quantum_sub2","parentTechId":"quantum_comms","name":"Global Coordination","description":"Perfect information sharing boosts all strategic operations","cost":{"knowledge":22000,"supplies":12000,"influence":5000},"effects":{"productionBonus":{"command_center":1.4,"intelligence_agency":1.4},"globalEffects":{"globalStability":8}}},{"id":"distribution_sub1","parentTechId":"adaptive_distribution","name":"Rapid Deployment","description":"Ultra-fast distribution systems accelerate serum deployment","cost":{"knowledge":26000,"supplies":15000,"influence":6000},"effects":{"globalEffects":{"distributionSpeed":0.3}}},{"id":"distribution_sub2","parentTechId":"adaptive_distribution","name":"Universal Coverage","description":"Ensure serum reaches every corner of every territory","cost":{"knowledge":26000,"supplies":15000,"influence":6000},"effects":{"productionBonus":{"distribution_hub":1.6},"globalEffects":{"globalStability":10,"infectionRate":-3}}}]')},7116:e=>{e.exports=JSON.parse('[{"id":"economy_path","name":"Economic Mastery","description":"Focus on resource production and economic efficiency","icon":"coins","color":"amber","upgrades":[{"id":"resource_boost_1","name":"Resource Stockpile I","description":"Start each run with bonus resources","tier":1,"cost":5,"prerequisites":[],"effects":{"startingResources":{"survivors":5,"supplies":25,"knowledge":0,"influence":0}}},{"id":"resource_boost_2","name":"Resource Stockpile II","description":"Further increase starting resources","tier":2,"cost":10,"prerequisites":["resource_boost_1"],"effects":{"startingResources":{"survivors":5,"supplies":50,"knowledge":15,"influence":10}}},{"id":"production_1","name":"Efficient Operations I","description":"Increase all production by 5%","tier":1,"cost":8,"prerequisites":[],"effects":{"productionMultiplier":0.05}},{"id":"production_2","name":"Efficient Operations II","description":"Increase all production by an additional 5%","tier":2,"cost":15,"prerequisites":["production_1"],"effects":{"productionMultiplier":0.05}},{"id":"production_3","name":"Master Production","description":"Increase all production by an additional 5%","tier":3,"cost":25,"prerequisites":["production_2"],"effects":{"productionMultiplier":0.05}},{"id":"cost_reduction_1","name":"Budget Planning I","description":"Reduce building costs by 5%","tier":1,"cost":6,"prerequisites":[],"effects":{"costReduction":0.05}},{"id":"cost_reduction_2","name":"Budget Planning II","description":"Reduce building costs by an additional 5%","tier":2,"cost":12,"prerequisites":["cost_reduction_1"],"effects":{"costReduction":0.05}},{"id":"maintenance_1","name":"Lean Operations I","description":"Reduce maintenance costs by 5%","tier":2,"cost":10,"prerequisites":["cost_reduction_1"],"effects":{"maintenanceReduction":0.05}},{"id":"maintenance_2","name":"Lean Operations II","description":"Reduce maintenance costs by an additional 5%","tier":3,"cost":20,"prerequisites":["maintenance_1"],"effects":{"maintenanceReduction":0.05}}]},{"id":"research_path","name":"Scientific Advancement","description":"Accelerate research and unlock knowledge faster","icon":"flask","color":"blue","upgrades":[{"id":"research_speed_1","name":"Research Archives I","description":"Increase research speed by 10%","tier":1,"cost":7,"prerequisites":[],"effects":{"researchSpeedMultiplier":0.1}},{"id":"research_speed_2","name":"Research Archives II","description":"Increase research speed by an additional 8%","tier":2,"cost":14,"prerequisites":["research_speed_1"],"effects":{"researchSpeedMultiplier":0.08}},{"id":"research_speed_3","name":"Master Researchers","description":"Increase research speed by an additional 7%","tier":3,"cost":25,"prerequisites":["research_speed_2"],"effects":{"researchSpeedMultiplier":0.07}},{"id":"knowledge_start","name":"Historical Records","description":"Start with 30 knowledge and +20 supplies","tier":1,"cost":6,"prerequisites":[],"effects":{"startingResources":{"knowledge":30,"supplies":20}}},{"id":"research_cost_1","name":"Streamlined Research","description":"Reduce research costs by 10%","tier":2,"cost":12,"prerequisites":["research_speed_1"],"effects":{"researchCostReduction":0.1}},{"id":"serum_boost","name":"Serum Synthesis Expertise","description":"Increase serum synthesis success rate by 10% and speed by 20%","tier":3,"cost":20,"prerequisites":["research_speed_2"],"effects":{"serumSuccessRate":0.1,"serumSpeed":0.2}}]},{"id":"stability_path","name":"Social Order","description":"Improve stability, morale, and containment effectiveness","icon":"shield","color":"green","upgrades":[{"id":"starting_stability_1","name":"Strong Foundation I","description":"Start with +10 stability and +5 morale","tier":1,"cost":5,"prerequisites":[],"effects":{"startingStability":10,"startingMorale":5}},{"id":"starting_stability_2","name":"Strong Foundation II","description":"Start with an additional +15 stability and +10 morale","tier":2,"cost":12,"prerequisites":["starting_stability_1"],"effects":{"startingStability":15,"startingMorale":10}},{"id":"containment_boost_1","name":"Containment Protocols I","description":"Start with +0.05 containment coefficient","tier":1,"cost":8,"prerequisites":[],"effects":{"startingContainment":0.05}},{"id":"containment_boost_2","name":"Containment Protocols II","description":"Start with an additional +0.10 containment coefficient","tier":2,"cost":15,"prerequisites":["containment_boost_1"],"effects":{"startingContainment":0.1}},{"id":"morale_generation","name":"Propaganda Network","description":"Morale decay reduced by 15%","tier":2,"cost":10,"prerequisites":["starting_stability_1"],"effects":{"moraleDecayReduction":0.15}},{"id":"infection_resistance","name":"Public Health Education","description":"Reduce infection spread rate by 12%","tier":3,"cost":20,"prerequisites":["containment_boost_2","starting_stability_2"],"effects":{"infectionReduction":0.12}},{"id":"province_stability","name":"Territory Management","description":"Province stability decay reduced by 15%","tier":3,"cost":18,"prerequisites":["starting_stability_2"],"effects":{"provinceStabilityBonus":0.15}}]},{"id":"military_path","name":"Strategic Defense","description":"Enhance province control and defensive capabilities","icon":"sword","color":"red","upgrades":[{"id":"province_cost_1","name":"Diplomatic Relations I","description":"Reduce province unlock costs by 8%","tier":1,"cost":6,"prerequisites":[],"effects":{"provinceCostReduction":0.08}},{"id":"province_cost_2","name":"Diplomatic Relations II","description":"Reduce province unlock costs by an additional 7%","tier":2,"cost":12,"prerequisites":["province_cost_1"],"effects":{"provinceCostReduction":0.07}},{"id":"starting_influence","name":"Political Capital","description":"Start with +20 influence","tier":1,"cost":5,"prerequisites":[],"effects":{"startingResources":{"influence":20}}},{"id":"defense_efficiency","name":"Fortification Expertise","description":"Province reinforcement 15% more effective and 8% cheaper","tier":2,"cost":14,"prerequisites":["province_cost_1"],"effects":{"defenseEffectiveness":0.15,"defenseCostReduction":0.08}},{"id":"rapid_response","name":"Rapid Response Teams","description":"Province stabilization costs reduced by 10%","tier":2,"cost":10,"prerequisites":["province_cost_1"],"effects":{"stabilizationCostReduction":0.1}},{"id":"mission_efficiency","name":"Veteran Survivors","description":"Mission risk reduced by 12% and duration reduced by 15%","tier":3,"cost":22,"prerequisites":["defense_efficiency","rapid_response"],"effects":{"missionRiskReduction":0.12,"missionSpeedBonus":0.15}}]},{"id":"specialist_path","name":"Advanced Strategies","description":"Unique powerful bonuses for experienced players","icon":"star","color":"purple","upgrades":[{"id":"worker_efficiency","name":"Training Programs","description":"Workers produce 12% more resources","tier":2,"cost":15,"prerequisites":[],"effects":{"workerEfficiency":0.12}},{"id":"event_rewards","name":"Crisis Management","description":"Event rewards increased by 20%","tier":2,"cost":12,"prerequisites":[],"effects":{"eventRewardBonus":0.2}},{"id":"survivor_growth","name":"Population Growth","description":"Survivor production increased by 15%","tier":3,"cost":20,"prerequisites":["worker_efficiency"],"effects":{"survivorProductionBonus":0.15}},{"id":"tech_unlock","name":"Blueprint Archives","description":"Start with 1 random tier-1 technology already researched","tier":3,"cost":25,"prerequisites":["event_rewards"],"effects":{"startingTech":1}},{"id":"master_commander","name":"Master Commander","description":"All upgrades have 5% increased effectiveness","tier":4,"cost":50,"prerequisites":["survivor_growth","tech_unlock"],"effects":{"globalEffectivenessBonus":0.05}}]}]')},8758:e=>{e.exports=JSON.parse('[{"id":"stage_1_basic_formula","name":"Stage 1: Basic Formula","description":"Develop the foundational serum formula using provisional vaccine research","progress":20,"requirements":{"buildings":{"synthesis_station":1,"lab":5},"resources":{"supplies":3500,"knowledge":1400,"influence":350}},"unlocks":{"recipe":"basic_serum"}},{"id":"stage_2_stabilization","name":"Stage 2: Stabilization","description":"Improve serum stability and shelf life for distribution","progress":40,"requirements":{"buildings":{"synthesis_station":2,"lab":8,"clinic":3},"resources":{"supplies":5600,"knowledge":2800,"influence":700}},"unlocks":{"recipe":"stabilized_serum"}},{"id":"stage_3_potency","name":"Stage 3: Potency Enhancement","description":"Increase serum effectiveness and reduce required doses","progress":60,"requirements":{"buildings":{"synthesis_station":3,"lab":12,"university":5},"resources":{"supplies":8400,"knowledge":5600,"influence":1400}},"unlocks":{"recipe":"advanced_serum"}},{"id":"stage_4_purification","name":"Stage 4: Purification Process","description":"Refine synthesis process for higher quality and success rates","progress":80,"requirements":{"buildings":{"synthesis_station":4,"lab":15,"university":8},"resources":{"supplies":12600,"knowledge":10500,"influence":2100}},"unlocks":{"recipe":"pure_serum"}},{"id":"stage_5_mass_production","name":"Stage 5: Mass Production","description":"Optimize synthesis for large-scale distribution across all territories","progress":100,"requirements":{"buildings":{"synthesis_station":5,"lab":20,"university":10,"workshop":10},"resources":{"supplies":17500,"knowledge":17500,"influence":3500}},"unlocks":{"feature":"mass_distribution"}}]')},9041:e=>{e.exports=JSON.parse('[{"id":"shelter","name":"Refugee Shelter","description":"Provides housing for survivors and slowly increases population","icon":"\uD83C\uDFE0","category":"production","baseCost":{"supplies":250,"survivors":10},"costMultiplier":1.18,"baseProduction":{"survivors":0.015},"maintenance":{"supplies":0.15},"productionExponent":1.08,"workerCapacity":20,"workerEfficiency":0.05,"upgrades":["shelter_upgrade_1","shelter_upgrade_2","shelter_upgrade_3","shelter_upgrade_4","shelter_upgrade_5"],"effects":{"morale":0.05}},{"id":"farm","name":"Supply Farm","description":"Produces supplies through agriculture and resource gathering","icon":"\uD83C\uDF3E","category":"production","baseCost":{"supplies":350,"survivors":15},"costMultiplier":1.18,"baseProduction":{"supplies":0.6},"maintenance":{"supplies":0.12},"productionExponent":1.1,"workerCapacity":100,"workerEfficiency":1.5,"upgrades":["farm_upgrade_1","farm_upgrade_2","farm_upgrade_3","farm_upgrade_4","farm_upgrade_5"]},{"id":"radio_tower","name":"Radio Tower","description":"Broadcasts messages and coordinates efforts, generating influence","icon":"\uD83D\uDCE1","category":"special","baseCost":{"supplies":600,"survivors":25,"knowledge":50,"influence":20},"costMultiplier":1.18,"baseProduction":{"influence":0.12},"maintenance":{"supplies":0.5},"productionExponent":1.08,"workerCapacity":30,"workerEfficiency":0.15,"upgrades":["radio_upgrade_1","radio_upgrade_2","radio_upgrade_3","radio_upgrade_4","radio_upgrade_5"],"effects":{"morale":0.03}},{"id":"lab","name":"Research Lab","description":"Conducts research and generates knowledge for technological advancement","icon":"\uD83D\uDD2C","category":"research","baseCost":{"supplies":500,"survivors":20},"costMultiplier":1.18,"baseProduction":{"knowledge":0.05},"maintenance":{"supplies":0.7},"productionExponent":1.15,"workerCapacity":40,"workerEfficiency":0.3,"unlockCondition":{"phase":3},"upgrades":["lab_upgrade_1","lab_upgrade_2","lab_upgrade_3","lab_upgrade_4","lab_upgrade_5"],"effects":{"containmentCoefficient":0.008}},{"id":"containment_unit","name":"Containment Unit","description":"Specialized facility for containing and studying the infection","icon":"\uD83D\uDEE1","category":"defense","baseCost":{"supplies":1000,"survivors":30,"knowledge":200,"influence":50},"costMultiplier":1.18,"baseProduction":{},"maintenance":{"supplies":1},"productionExponent":1.05,"workerCapacity":50,"workerEfficiency":0.08,"unlockCondition":{"phase":5},"upgrades":["containment_upgrade_1","containment_upgrade_2","containment_upgrade_3","containment_upgrade_4","containment_upgrade_5"],"effects":{"infectionRate":-0.06,"containmentCoefficient":0.02}},{"id":"workshop","name":"Workshop","description":"Manufactures tools and equipment, boosting overall production by 2% per level","icon":"\uD83D\uDD27","category":"production","baseCost":{"supplies":1200,"survivors":40,"knowledge":300,"influence":100},"costMultiplier":1.18,"baseProduction":{},"maintenance":{"supplies":1.5},"productionExponent":1,"workerCapacity":40,"workerEfficiency":0.2,"unlockCondition":{"phase":7},"upgrades":["workshop_upgrade_1","workshop_upgrade_2","workshop_upgrade_3","workshop_upgrade_4","workshop_upgrade_5"],"effects":{"productionBonus":0.02}},{"id":"university","name":"University","description":"Advanced education center that accelerates research and boosts morale","icon":"\uD83C\uDF93","category":"research","baseCost":{"supplies":2400,"survivors":50,"knowledge":500,"influence":150},"costMultiplier":1.18,"baseProduction":{"knowledge":0.02},"maintenance":{"supplies":1.2},"productionExponent":1.2,"workerCapacity":50,"workerEfficiency":0.35,"unlockCondition":{"phase":9},"upgrades":["university_upgrade_1","university_upgrade_2","university_upgrade_3","university_upgrade_4","university_upgrade_5"],"effects":{"morale":0.03,"researchSpeed":0.1}},{"id":"satellite","name":"Satellite Uplink","description":"Global communication network that reduces events and improves containment","icon":"\uD83D\uDEF0","category":"special","baseCost":{"supplies":6000,"survivors":80,"knowledge":1000,"influence":500},"costMultiplier":1.18,"baseProduction":{"influence":0.02},"maintenance":{"supplies":2},"productionExponent":1,"workerCapacity":20,"workerEfficiency":0.12,"unlockCondition":{"phase":13},"upgrades":["satellite_upgrade_1","satellite_upgrade_2","satellite_upgrade_3","satellite_upgrade_4","satellite_upgrade_5"],"effects":{"eventReduction":0.08,"containmentCoefficient":0.05,"territoryStability":0.05}},{"id":"clinic","name":"Medical Clinic","description":"Treats the infected and improves public health","icon":"\uD83C\uDFE5","category":"special","baseCost":{"supplies":2000,"survivors":50,"knowledge":600,"influence":200},"costMultiplier":1.18,"baseProduction":{},"productionExponent":1,"workerCapacity":40,"workerEfficiency":0.4,"unlockCondition":{"phase":8},"upgrades":["clinic_upgrade_1","clinic_upgrade_2","clinic_upgrade_3","clinic_upgrade_4","clinic_upgrade_5"],"effects":{"morale":0.02,"infectionRate":-0.03,"containmentCoefficient":0.005}},{"id":"synthesis_station","name":"Serum Synthesis Station","description":"Advanced facility for synthesizing the cure serum","icon":"","category":"special","baseCost":{"supplies":14000,"survivors":100,"knowledge":2000,"influence":1000},"costMultiplier":1.18,"baseProduction":{},"productionExponent":1,"workerCapacity":80,"workerEfficiency":1,"unlockCondition":{"phase":19},"upgrades":["synthesis_upgrade_1","synthesis_upgrade_2","synthesis_upgrade_3","synthesis_upgrade_4","synthesis_upgrade_5"],"effects":{"serumProduction":0.0003}},{"id":"command_center","name":"Command Center","description":"Strategic coordination hub that improves mission success and territory management","icon":"\uD83C\uDFAF","category":"special","baseCost":{"supplies":4000,"survivors":60,"knowledge":800,"influence":400},"costMultiplier":1.18,"baseProduction":{},"maintenance":{"supplies":1.8},"productionExponent":1,"workerCapacity":50,"workerEfficiency":0.25,"unlockCondition":{"phase":10},"upgrades":["command_upgrade_1","command_upgrade_2","command_upgrade_3","command_upgrade_4","command_upgrade_5"],"effects":{"missionSuccessRate":0.05,"territoryStability":0.08,"morale":0.02}},{"id":"power_plant","name":"Power Plant","description":"Generates energy to reduce building maintenance costs and boost production","icon":"","category":"production","baseCost":{"supplies":4800,"survivors":70,"knowledge":1200,"influence":300},"costMultiplier":1.18,"baseProduction":{"supplies":0.4},"maintenance":{"supplies":0.8},"productionExponent":1.05,"workerCapacity":60,"workerEfficiency":0.4,"unlockCondition":{"phase":12,"technology":"energy_grid"},"upgrades":["power_upgrade_1","power_upgrade_2","power_upgrade_3","power_upgrade_4","power_upgrade_5"],"effects":{"maintenanceReduction":0.05,"productionBonus":0.03}},{"id":"security_outpost","name":"Security Outpost","description":"Military facility that improves mission success and protects territories from threats","icon":"\uD83D\uDEE1","category":"defense","baseCost":{"supplies":5500,"survivors":90,"knowledge":1500,"influence":600},"costMultiplier":1.18,"baseProduction":{},"maintenance":{"supplies":2.5},"productionExponent":1,"workerCapacity":60,"workerEfficiency":0.35,"unlockCondition":{"phase":14},"upgrades":["security_upgrade_1","security_upgrade_2","security_upgrade_3","security_upgrade_4","security_upgrade_5"],"effects":{"missionSuccessRate":0.1,"territoryDefense":0.15,"eventReduction":0.1,"containmentCoefficient":0.01}},{"id":"automated_factory","name":"Automated Factory","description":"Advanced production facility that reduces worker requirements and maximizes efficiency","icon":"\uD83E\uDD16","category":"production","baseCost":{"supplies":9000,"survivors":100,"knowledge":2500,"influence":1000},"costMultiplier":1.18,"baseProduction":{"supplies":1},"maintenance":{"supplies":2},"productionExponent":1.12,"workerCapacity":40,"workerEfficiency":1.2,"unlockCondition":{"phase":16,"technology":"industrial_automation"},"upgrades":["automation_upgrade_1","automation_upgrade_2","automation_upgrade_3","automation_upgrade_4","automation_upgrade_5"],"effects":{"productionBonus":0.05,"workerReduction":0.1,"automationEfficiency":0.15}},{"id":"intelligence_agency","name":"Intelligence Agency","description":"Provides strategic intelligence and event prediction to improve decision making","icon":"\uD83D\uDD75","category":"special","baseCost":{"supplies":11000,"survivors":80,"knowledge":3000,"influence":2000},"costMultiplier":1.18,"baseProduction":{"influence":0.08},"maintenance":{"supplies":3},"productionExponent":1,"workerCapacity":50,"workerEfficiency":0.45,"unlockCondition":{"phase":17,"technology":"quantum_comms"},"upgrades":["intel_upgrade_1","intel_upgrade_2","intel_upgrade_3","intel_upgrade_4","intel_upgrade_5"],"effects":{"eventPrediction":true,"missionIntelBonus":0.2,"negativeEventReduction":0.15,"morale":0.03}},{"id":"distribution_hub","name":"Distribution Hub","description":"Logistics center that accelerates serum distribution across territories","icon":"\uD83D\uDCE6","category":"special","baseCost":{"supplies":18000,"survivors":120,"knowledge":4000,"influence":3000},"costMultiplier":1.18,"baseProduction":{},"maintenance":{"supplies":4},"productionExponent":1,"workerCapacity":70,"workerEfficiency":0.6,"unlockCondition":{"phase":23,"technology":"adaptive_distribution"},"upgrades":["distribution_upgrade_1","distribution_upgrade_2","distribution_upgrade_3","distribution_upgrade_4","distribution_upgrade_5"],"effects":{"distributionSpeed":0.4,"territoryReach":2,"distributionEfficiency":0.25,"serumProduction":0.0002}},{"id":"monument_hope","name":"Monument of Hope","description":"Symbol of humanity\'s triumph and resilience, providing massive morale boost","icon":"\uD83C\uDFDB","category":"special","baseCost":{"supplies":20000,"survivors":200,"knowledge":5000,"influence":5000},"costMultiplier":1.18,"baseProduction":{},"maintenance":{"supplies":1},"productionExponent":1,"workerCapacity":30,"workerEfficiency":0.2,"unlockCondition":{"phase":25},"upgrades":[],"effects":{"morale":0.15,"globalStability":20,"prestigeBonus":0.25}}]')},9387:(e,i,t)=>{function n(e,i,n,s,o,r,a){let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[],c=100-e.risk,u=Math.min(20,Math.max(0,e.assignedSurvivors-5));c+=u;let d=0,p=0;if(i.forEach(e=>{if(!1===e.active||0===e.level)return;let i=s.find(i=>i.id===e.id);if(!(null==i?void 0:i.effects))return;let t=i.effects;t.missionSuccessRate&&(d+=t.missionSuccessRate*e.level*100),t.missionIntelBonus&&(p+=t.missionIntelBonus*e.level*100)}),c+=d,n.forEach(e=>{var i;if(!e.researched)return;let t=o.find(i=>i.id===e.id);if(!(null==t?void 0:null===(i=t.effects)||void 0===i?void 0:i.globalEffects))return;let n=t.effects.globalEffects;n.missionSuccessBonus&&(c+=100*n.missionSuccessBonus)}),e.veteransAssigned&&e.veteransAssigned>0){let i=5*e.veteransAssigned;c+=i}if(e.equipmentUsed&&e.equipmentUsed.length>0){let i=t(9715);e.equipmentUsed.forEach(e=>{let t=i.find(i=>i.id===e.equipmentId||i.id===e.name);if(t&&t.effects){if(t.effects.riskReduction){let i=e.durability/e.maxDurability,n=100*t.effects.riskReduction*i;c+=n}}else{let i=e.durability/e.maxDurability;c+=3*i}})}let g=l.find(e=>"tactician"===e.type&&"missions"===e.assignedTo);g&&g.bonuses.missionSuccessBonus&&(c+=g.bonuses.missionSuccessBonus);let m=l.find(e=>"medic"===e.type&&"missions"===e.assignedTo);m&&m.bonuses.missionSuccessBonus&&(c+=m.bonuses.missionSuccessBonus);let f=0;return a<=5?f=10:a>=16?f=-20:a>=11&&(f=-10),Math.max(5,Math.min(95,c+=f))}function s(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(i)return 100*Math.random()<e.risk/10?Math.floor(.1*e.assignedSurvivors):0;let n=.3;if(e.equipmentUsed&&e.equipmentUsed.length>0){let i=0;e.equipmentUsed.forEach(e=>{e.name.toLowerCase().includes("medical")&&(i+=.5),(e.name.toLowerCase().includes("armor")||e.name.toLowerCase().includes("hazmat"))&&(i+=.2)}),n=Math.max(.1,n-i)}return e.veteransAssigned&&e.veteransAssigned>0&&(n=Math.max(.1,n-.05*e.veteransAssigned)),t.find(e=>"medic"===e.type&&"missions"===e.assignedTo)&&(n=Math.max(.05,.7*n)),e.risk>70&&(n+=.2),Math.floor(e.assignedSurvivors*n)}function o(e,i){if(!e.veteransAssigned||0===e.veteransAssigned)return 0;let t=2*e.risk;return i?t*=1.5:t*=.5,"combat"===e.category?t*=1.2:"stealth"===e.category&&(t*=1.1),Math.floor(t)}function r(e,i,t){let n,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n=5+Math.floor(i.risk/20),t||(n*=2),s.find(e=>"engineer"===e.type&&"missions"===e.assignedTo)&&(n=Math.floor(.85*n));let o=Math.min(e.durability,n);return e.durability-o<=0?console.warn("[Equipment] WARNING: ".concat(e.name," will be destroyed after this mission!")):e.durability-o<=.2*e.maxDurability&&console.warn("[Equipment] WARNING: ".concat(e.name," at critically low durability!")),o}function a(e,i){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;return!(i>=t)&&e>0&&e%5==0}function l(e){let i=[{id:"combat",name:"Combat",bonus:"risk"},{id:"defense",name:"Defense",bonus:"casualties"},{id:"research",name:"Research",bonus:"knowledge"},{id:"medical",name:"Medical",bonus:"healing"},{id:"leadership",name:"Leadership",bonus:"morale"}];return{name:["Sergeant Rodriguez","Lieutenant Chen","Corporal Johnson","Captain Martinez","Major Williams","Commander Davis","Colonel Anderson","Staff Sergeant Brown","Master Sergeant Wilson","First Sergeant Taylor","Gunnery Sergeant Moore","Chief Thompson","Lieutenant Commander Garcia","Commander Lee","Captain Jackson","Major Harris","Colonel Martin","Brigadier Thompson","Major General Clark","Lieutenant General White","Sergeant Kim","Lieutenant Patel","Corporal O'Brien","Captain Nakamura","Major Schmidt","Commander Abbas","Colonel Okafor","Staff Sergeant Kowalski","Master Sergeant Singh","First Sergeant Morales"][e]||"Veteran ".concat(e+1),specialization:i[Math.floor(Math.random()*i.length)].id}}t.d(i,{Co:()=>n,Df:()=>l,Nw:()=>s,Ok:()=>r,uT:()=>o,zo:()=>a})},9629:(e,i,t)=>{t.r(i),t.d(i,{calculatePrestigeBonuses:()=>c,calculatePrestigePoints:()=>s,canPurchaseUpgrade:()=>l,getAllUpgrades:()=>r,getPrestigeBonusDescriptions:()=>d,getPrestigePaths:()=>o,getTotalPointsSpent:()=>u,getUpgrade:()=>a});var n=t(7116);function s(e){let i=0;if(e.currentPhase<3||e.totalPlayTime<300)return 0;let t=[0,0,0,2,3,3,4,5,6,7,9,11,13,15];if(i+=t[Math.min(e.currentPhase,t.length-1)]||0,i+=Math.floor(.08*Math.sqrt(e.buildings.reduce((e,i)=>e+i.level,0))),i+=Math.floor(.5*e.technologies.filter(e=>e.researched).length),i+=e.provinces.filter(e=>e.unlocked&&"safe"===e.status).length,e.serumProgress>0&&(i+=Math.floor(e.serumProgress/33)),e.isVictory){i+=7;let t=e.totalPlayTime/60;t<60&&(i+=Math.min(Math.floor((60-t)*.15),8))}let n=e.totalPlayTime/60;return n>90&&(i=Math.max(1,i-3*Math.floor((n-90)/10))),i>0&&(i=Math.max(2,i)),Math.floor(i)}function o(){return n}function r(){return n.flatMap(e=>e.upgrades)}function a(e){return r().find(i=>i.id===e)}function l(e,i,t){let n=a(e);return n?i.includes(e)?{canPurchase:!1,reason:"Already purchased"}:n.prerequisites.filter(e=>!i.includes(e)).length>0?{canPurchase:!1,reason:"Prerequisites not met"}:t<n.cost?{canPurchase:!1,reason:"Need ".concat(n.cost," points")}:{canPurchase:!0}:{canPurchase:!1,reason:"Upgrade not found"}}function c(e){let i={startingResources:{survivors:0,supplies:0,knowledge:0,influence:0},productionMultiplier:0,workerEfficiency:0,survivorProductionBonus:0,researchSpeedMultiplier:0,researchCostReduction:0,costReduction:0,maintenanceReduction:0,provinceCostReduction:0,stabilizationCostReduction:0,defenseCostReduction:0,startingMorale:0,startingStability:0,startingContainment:0,moraleDecayReduction:0,infectionReduction:0,provinceStabilityBonus:0,defenseEffectiveness:0,missionRiskReduction:0,missionSpeedBonus:0,eventRewardBonus:0,serumSuccessRate:0,serumSpeed:0,startingTech:0,globalEffectivenessBonus:0};if(e.forEach(e=>{let t=a(e);if(!t)return;let n=t.effects;n.startingResources&&(i.startingResources.survivors+=n.startingResources.survivors||0,i.startingResources.supplies+=n.startingResources.supplies||0,i.startingResources.knowledge+=n.startingResources.knowledge||0,i.startingResources.influence+=n.startingResources.influence||0),n.productionMultiplier&&(i.productionMultiplier+=n.productionMultiplier),n.workerEfficiency&&(i.workerEfficiency+=n.workerEfficiency),n.survivorProductionBonus&&(i.survivorProductionBonus+=n.survivorProductionBonus),n.researchSpeedMultiplier&&(i.researchSpeedMultiplier+=n.researchSpeedMultiplier),n.researchCostReduction&&(i.researchCostReduction+=n.researchCostReduction),n.costReduction&&(i.costReduction+=n.costReduction),n.maintenanceReduction&&(i.maintenanceReduction+=n.maintenanceReduction),n.provinceCostReduction&&(i.provinceCostReduction+=n.provinceCostReduction),n.stabilizationCostReduction&&(i.stabilizationCostReduction+=n.stabilizationCostReduction),n.defenseCostReduction&&(i.defenseCostReduction+=n.defenseCostReduction),n.startingMorale&&(i.startingMorale+=n.startingMorale),n.startingStability&&(i.startingStability+=n.startingStability),n.startingContainment&&(i.startingContainment+=n.startingContainment),n.moraleDecayReduction&&(i.moraleDecayReduction+=n.moraleDecayReduction),n.infectionReduction&&(i.infectionReduction+=n.infectionReduction),n.provinceStabilityBonus&&(i.provinceStabilityBonus+=n.provinceStabilityBonus),n.defenseEffectiveness&&(i.defenseEffectiveness+=n.defenseEffectiveness),n.missionRiskReduction&&(i.missionRiskReduction+=n.missionRiskReduction),n.missionSpeedBonus&&(i.missionSpeedBonus+=n.missionSpeedBonus),n.eventRewardBonus&&(i.eventRewardBonus+=n.eventRewardBonus),n.serumSuccessRate&&(i.serumSuccessRate+=n.serumSuccessRate),n.serumSpeed&&(i.serumSpeed+=n.serumSpeed),n.startingTech&&(i.startingTech+=n.startingTech),n.globalEffectivenessBonus&&(i.globalEffectivenessBonus+=n.globalEffectivenessBonus)}),i.globalEffectivenessBonus>0){let e=1+i.globalEffectivenessBonus;i.productionMultiplier*=e,i.workerEfficiency*=e,i.survivorProductionBonus*=e,i.researchSpeedMultiplier*=e,i.researchCostReduction*=e,i.costReduction*=e,i.maintenanceReduction*=e,i.provinceCostReduction*=e,i.stabilizationCostReduction*=e,i.defenseCostReduction*=e,i.moraleDecayReduction*=e,i.infectionReduction*=e,i.provinceStabilityBonus*=e,i.defenseEffectiveness*=e,i.missionRiskReduction*=e,i.missionSpeedBonus*=e,i.eventRewardBonus*=e,i.serumSuccessRate*=e,i.serumSpeed*=e}return i.productionMultiplier=1+i.productionMultiplier,i.researchSpeedMultiplier=1+i.researchSpeedMultiplier,i}function u(e){let i=0;return e.forEach(e=>{let t=a(e);t&&(i+=t.cost)}),i}function d(e){let i=[];return e.startingResources.survivors>0&&i.push("+".concat(e.startingResources.survivors," starting survivors")),e.startingResources.supplies>0&&i.push("+".concat(e.startingResources.supplies," starting supplies")),e.startingResources.knowledge>0&&i.push("+".concat(e.startingResources.knowledge," starting knowledge")),e.startingResources.influence>0&&i.push("+".concat(e.startingResources.influence," starting influence")),e.productionMultiplier>1&&i.push("+".concat(((e.productionMultiplier-1)*100).toFixed(0),"% production")),e.workerEfficiency>0&&i.push("+".concat((100*e.workerEfficiency).toFixed(0),"% worker efficiency")),e.survivorProductionBonus>0&&i.push("+".concat((100*e.survivorProductionBonus).toFixed(0),"% survivor production")),e.researchSpeedMultiplier>1&&i.push("+".concat(((e.researchSpeedMultiplier-1)*100).toFixed(0),"% research speed")),e.researchCostReduction>0&&i.push("-".concat((100*e.researchCostReduction).toFixed(0),"% research costs")),e.costReduction>0&&i.push("-".concat((100*e.costReduction).toFixed(0),"% building costs")),e.maintenanceReduction>0&&i.push("-".concat((100*e.maintenanceReduction).toFixed(0),"% maintenance")),e.startingMorale>0&&i.push("+".concat(e.startingMorale.toFixed(0)," starting morale")),e.startingStability>0&&i.push("+".concat(e.startingStability.toFixed(0)," starting stability")),e.startingContainment>0&&i.push("+".concat(e.startingContainment.toFixed(2)," starting containment")),i}},9681:e=>{e.exports=JSON.parse('[{"id":"night_operation","name":"Night Operation","description":"Mission conducted under cover of darkness","riskModifier":1.15,"durationModifier":1.1,"rewardModifier":1.25,"applicableCategories":["combat","reconnaissance","special"],"chance":0.3},{"id":"adverse_weather","name":"Adverse Weather","description":"Heavy rain or storms complicate the operation","riskModifier":1.2,"durationModifier":1.15,"rewardModifier":1.1,"applicableCategories":["all"],"chance":0.25},{"id":"intel_advantage","name":"Superior Intelligence","description":"Detailed intel reduces risks significantly","riskModifier":0.75,"durationModifier":0.9,"rewardModifier":1.15,"applicableCategories":["reconnaissance","special","combat"],"requiresBuilding":{"id":"intelligence_agency","minLevel":3},"chance":0.4},{"id":"local_support","name":"Local Militia Support","description":"Friendly locals provide assistance","riskModifier":0.85,"durationModifier":1,"rewardModifier":1.2,"applicableCategories":["rescue","defense","diplomatic"],"chance":0.2},{"id":"heavy_infection","name":"Heavy Infection Presence","description":"Area has unexpectedly high infected concentration","riskModifier":1.35,"durationModifier":1.2,"rewardModifier":1.4,"applicableCategories":["combat","rescue","research"],"chance":0.2},{"id":"resource_cache","name":"Resource Cache Discovered","description":"Intel suggests valuable resources in the area","riskModifier":1.05,"durationModifier":1.1,"rewardModifier":1.5,"applicableCategories":["logistics","scavenging"],"chance":0.15},{"id":"veteran_team","name":"Veteran Operatives","description":"Experienced team members reduce risks","riskModifier":0.8,"durationModifier":0.95,"rewardModifier":1.1,"applicableCategories":["all"],"requiresVeterans":true,"chance":0.35},{"id":"time_sensitive","name":"Time-Sensitive","description":"Limited window of opportunity demands speed","riskModifier":1.1,"durationModifier":0.7,"rewardModifier":1.3,"applicableCategories":["crisis","special","rescue"],"chance":0.25},{"id":"experimental_tech","name":"Experimental Technology","description":"Field-testing new equipment and tactics","riskModifier":1.15,"durationModifier":1.05,"rewardModifier":1.35,"applicableCategories":["research","combat"],"requiresTechnology":"industrial_automation","chance":0.2},{"id":"coordinated_strike","name":"Coordinated Multi-Team Strike","description":"Multiple teams working in concert","riskModifier":0.7,"durationModifier":1,"rewardModifier":1.25,"applicableCategories":["combat","defense"],"requiresBuilding":{"id":"command_center","minLevel":5},"chance":0.3}]')},9715:e=>{e.exports=JSON.parse('[{"id":"basic_gear","name":"Basic Survival Gear","description":"Standard equipment for field operations","tier":"basic","cost":{"supplies":500},"effects":{"riskReduction":0.05,"veteranXPBonus":0.1},"unlockPhase":1,"durability":5},{"id":"combat_armor","name":"Combat Armor","description":"Protective gear for high-risk combat missions","tier":"advanced","cost":{"supplies":1500,"knowledge":200},"effects":{"riskReduction":0.15,"combatEfficiency":0.2},"unlockPhase":4,"durability":10,"applicableCategories":["combat","defense","crisis"]},{"id":"research_kit","name":"Advanced Research Kit","description":"Specialized equipment for sample collection","tier":"advanced","cost":{"supplies":1200,"knowledge":500},"effects":{"riskReduction":0.1,"knowledgeRewardBonus":0.3},"unlockPhase":3,"durability":8,"applicableCategories":["research","medical"]},{"id":"stealth_tech","name":"Stealth Technology","description":"Advanced cloaking and detection avoidance systems","tier":"elite","cost":{"supplies":3000,"knowledge":1500,"influence":500},"effects":{"riskReduction":0.25,"durationReduction":0.15},"unlockPhase":7,"unlockRequirement":{"technology":"quantum_comms"},"durability":15,"applicableCategories":["special","reconnaissance"]},{"id":"medical_supplies","name":"Field Medical Supplies","description":"Emergency medical equipment to save lives","tier":"basic","cost":{"supplies":800},"effects":{"survivorLossReduction":0.5,"veteranXPBonus":0.15},"unlockPhase":2,"durability":6,"applicableCategories":["rescue","medical","crisis"]},{"id":"heavy_weapons","name":"Heavy Weapons Package","description":"Anti-horde weaponry for large-scale operations","tier":"elite","cost":{"supplies":4000,"knowledge":800,"influence":300},"effects":{"riskReduction":0.2,"combatEfficiency":0.4,"rewardBonus":0.2},"unlockPhase":8,"unlockRequirement":{"building":"security_outpost","minLevel":15},"durability":12,"applicableCategories":["combat"]},{"id":"communication_relay","name":"Portable Communication Relay","description":"Advanced comms for coordinated operations","tier":"advanced","cost":{"supplies":2000,"knowledge":600,"influence":200},"effects":{"riskReduction":0.12,"durationReduction":0.1,"influenceRewardBonus":0.25},"unlockPhase":5,"unlockRequirement":{"building":"command_center","minLevel":3},"durability":10,"applicableCategories":["all"]},{"id":"hazmat_suit","name":"Hazmat Protection Suit","description":"Full protection against biological hazards","tier":"advanced","cost":{"supplies":1800,"knowledge":400},"effects":{"riskReduction":0.18,"infectionProtection":0.9},"unlockPhase":4,"durability":7,"applicableCategories":["research","medical","crisis"]},{"id":"drone_support","name":"Tactical Drone Support","description":"AI-controlled drones for reconnaissance and support","tier":"elite","cost":{"supplies":3500,"knowledge":2000,"influence":400},"effects":{"riskReduction":0.22,"durationReduction":0.2,"rewardBonus":0.15},"unlockPhase":9,"unlockRequirement":{"technology":"industrial_automation","building":"automated_factory","minLevel":5},"durability":20,"applicableCategories":["all"]},{"id":"supply_cache","name":"Emergency Supply Cache","description":"Hidden supply drops for extended operations","tier":"basic","cost":{"supplies":1000},"effects":{"durationReduction":0.15,"suppliesRewardBonus":0.3},"unlockPhase":3,"durability":4,"applicableCategories":["logistics","scavenging"]}]')},9815:e=>{e.exports=JSON.parse('[{"id":"shelter_upgrade_1","buildingId":"shelter","name":"Reinforced Housing","description":"Strengthen shelter structures for better protection and efficiency","cost":{"supplies":100,"knowledge":20},"effects":{"productionMultiplier":1.25,"morale":3},"unlockCondition":{"buildingLevel":3}},{"id":"shelter_upgrade_2","buildingId":"shelter","name":"Community Centers","description":"Add community spaces to improve morale and stability","cost":{"supplies":250,"knowledge":50},"effects":{"productionMultiplier":1.5,"globalStability":2},"unlockCondition":{"buildingLevel":5}},{"id":"shelter_upgrade_3","buildingId":"shelter","name":"Medical Facilities","description":"Integrate basic medical facilities into shelters","cost":{"supplies":600,"knowledge":120},"effects":{"productionMultiplier":1.75,"infectionRate":-0.5},"unlockCondition":{"buildingLevel":10,"technology":"field_medicine"}},{"id":"shelter_upgrade_4","buildingId":"shelter","name":"Vertical Expansion","description":"Build upward to house more survivors efficiently","cost":{"supplies":1200,"knowledge":200},"effects":{"productionMultiplier":2,"workerEfficiency":0.02},"unlockCondition":{"buildingLevel":15}},{"id":"shelter_upgrade_5","buildingId":"shelter","name":"Self-Sustaining Habitats","description":"Create fully independent living communities","cost":{"supplies":2500,"knowledge":400},"effects":{"productionMultiplier":2.5,"morale":5,"globalStability":3},"unlockCondition":{"buildingLevel":20,"technology":"resilient_society"}},{"id":"farm_upgrade_1","buildingId":"farm","name":"Irrigation Systems","description":"Install irrigation to improve crop yields","cost":{"supplies":150,"knowledge":30},"effects":{"productionMultiplier":1.3,"workerEfficiency":0.01},"unlockCondition":{"buildingLevel":3}},{"id":"farm_upgrade_2","buildingId":"farm","name":"Advanced Agriculture","description":"Implement advanced farming techniques for maximum efficiency","cost":{"supplies":300,"knowledge":75,"influence":10},"effects":{"productionMultiplier":1.5,"costReduction":0.05},"unlockCondition":{"buildingLevel":5,"technology":"efficient_farming"}},{"id":"farm_upgrade_3","buildingId":"farm","name":"Greenhouse Networks","description":"Construct climate-controlled greenhouses for year-round production","cost":{"supplies":800,"knowledge":150},"effects":{"productionMultiplier":1.8,"workerEfficiency":0.015},"unlockCondition":{"buildingLevel":10}},{"id":"farm_upgrade_4","buildingId":"farm","name":"Hydroponic Systems","description":"Install advanced hydroponic farming for maximum efficiency","cost":{"supplies":1500,"knowledge":300},"effects":{"productionMultiplier":2.2,"costReduction":0.1},"unlockCondition":{"buildingLevel":15,"technology":"emergency_mechanics"}},{"id":"farm_upgrade_5","buildingId":"farm","name":"Bio-Engineered Crops","description":"Deploy genetically optimized crops for superior yields","cost":{"supplies":3000,"knowledge":600},"effects":{"productionMultiplier":3,"workerEfficiency":0.02,"morale":2},"unlockCondition":{"buildingLevel":20,"technology":"biolab_security"}},{"id":"radio_upgrade_1","buildingId":"radio_tower","name":"Signal Amplification","description":"Boost signal strength to reach distant communities","cost":{"supplies":300,"knowledge":50,"influence":15},"effects":{"productionMultiplier":1.4,"morale":2},"unlockCondition":{"buildingLevel":3}},{"id":"radio_upgrade_2","buildingId":"radio_tower","name":"Broadcast Network","description":"Establish a network of repeaters for wider coverage","cost":{"supplies":700,"knowledge":100,"influence":30},"effects":{"productionMultiplier":1.8,"globalStability":2},"unlockCondition":{"buildingLevel":6,"technology":"civilian_networks"}},{"id":"radio_upgrade_3","buildingId":"radio_tower","name":"Emergency Broadcast System","description":"Implement crisis communication protocols","cost":{"supplies":1500,"knowledge":200,"influence":50},"effects":{"productionMultiplier":2.2,"morale":3,"infectionRate":-0.5},"unlockCondition":{"buildingLevel":10,"technology":"sat_uplink"}},{"id":"radio_upgrade_4","buildingId":"radio_tower","name":"Digital Communications","description":"Upgrade to digital broadcasting for better clarity and reach","cost":{"supplies":3000,"knowledge":400,"influence":100},"effects":{"productionMultiplier":2.8,"workerEfficiency":0.015},"unlockCondition":{"buildingLevel":15,"technology":"orbital_comms"}},{"id":"radio_upgrade_5","buildingId":"radio_tower","name":"Global Communication Hub","description":"Transform into a worldwide coordination center","cost":{"supplies":6000,"knowledge":800,"influence":200},"effects":{"productionMultiplier":3.5,"globalStability":5,"morale":5},"unlockCondition":{"buildingLevel":20}},{"id":"lab_upgrade_1","buildingId":"lab","name":"Enhanced Equipment","description":"Upgrade lab equipment for faster research","cost":{"supplies":200,"knowledge":100},"effects":{"productionMultiplier":1.4,"infectionRate":-1},"unlockCondition":{"buildingLevel":3}},{"id":"lab_upgrade_2","buildingId":"lab","name":"Biosafety Protocols","description":"Implement advanced safety measures for research","cost":{"supplies":500,"knowledge":250,"influence":20},"effects":{"productionMultiplier":1.75,"infectionRate":-2},"unlockCondition":{"buildingLevel":6,"technology":"field_medicine"}},{"id":"lab_upgrade_3","buildingId":"lab","name":"Automated Analysis","description":"Deploy AI-assisted research systems","cost":{"supplies":1200,"knowledge":500},"effects":{"productionMultiplier":2.2,"workerEfficiency":0.02,"containmentCoefficient":0.005},"unlockCondition":{"buildingLevel":10,"technology":"mobile_labs"}},{"id":"lab_upgrade_4","buildingId":"lab","name":"Genetic Sequencing Lab","description":"Advanced genetic analysis for breakthrough research","cost":{"supplies":2500,"knowledge":1000},"effects":{"productionMultiplier":2.8,"infectionRate":-3},"unlockCondition":{"buildingLevel":15,"technology":"biolab_security"}},{"id":"lab_upgrade_5","buildingId":"lab","name":"Breakthrough Research Wing","description":"State-of-the-art facilities for revolutionary discoveries","cost":{"supplies":5000,"knowledge":2000},"effects":{"productionMultiplier":3.5,"containmentCoefficient":0.01,"globalStability":3},"unlockCondition":{"buildingLevel":20,"technology":"provisional_vaccine"}},{"id":"containment_upgrade_1","buildingId":"containment_unit","name":"Reinforced Barriers","description":"Strengthen containment barriers to prevent breaches","cost":{"supplies":800,"knowledge":150},"effects":{"workerEfficiency":0.003,"infectionRate":-1,"containmentCoefficient":0.005},"unlockCondition":{"buildingLevel":3}},{"id":"containment_upgrade_2","buildingId":"containment_unit","name":"Decontamination Chambers","description":"Install advanced decontamination systems","cost":{"supplies":1500,"knowledge":300},"effects":{"workerEfficiency":0.005,"infectionRate":-2,"morale":2},"unlockCondition":{"buildingLevel":6,"technology":"advanced_containment"}},{"id":"containment_upgrade_3","buildingId":"containment_unit","name":"Negative Pressure Systems","description":"Prevent airborne contamination with pressure control","cost":{"supplies":3000,"knowledge":600},"effects":{"workerEfficiency":0.008,"infectionRate":-3,"containmentCoefficient":0.01},"unlockCondition":{"buildingLevel":10,"technology":"protocol_zero"}},{"id":"containment_upgrade_4","buildingId":"containment_unit","name":"Isolation Protocols","description":"Implement strict isolation for maximum containment","cost":{"supplies":6000,"knowledge":1200},"effects":{"workerEfficiency":0.01,"infectionRate":-4,"globalStability":3},"unlockCondition":{"buildingLevel":15}},{"id":"containment_upgrade_5","buildingId":"containment_unit","name":"Zero-Breach Protocol","description":"Ultimate containment system with zero failure tolerance","cost":{"supplies":12000,"knowledge":2500},"effects":{"workerEfficiency":0.015,"infectionRate":-6,"containmentCoefficient":0.02,"morale":5},"unlockCondition":{"buildingLevel":20,"technology":"provisional_vaccine"}},{"id":"workshop_upgrade_1","buildingId":"workshop","name":"Tool Fabrication","description":"Produce advanced tools to boost all operations","cost":{"supplies":1000,"knowledge":200},"effects":{"workerEfficiency":0.005,"productionBonus":0.003},"unlockCondition":{"buildingLevel":3}},{"id":"workshop_upgrade_2","buildingId":"workshop","name":"Assembly Line","description":"Streamline production with assembly line efficiency","cost":{"supplies":2500,"knowledge":400},"effects":{"workerEfficiency":0.008,"productionBonus":0.005,"costReduction":0.05},"unlockCondition":{"buildingLevel":6,"technology":"emergency_mechanics"}},{"id":"workshop_upgrade_3","buildingId":"workshop","name":"Advanced Manufacturing","description":"Implement cutting-edge manufacturing techniques","cost":{"supplies":5000,"knowledge":800},"effects":{"workerEfficiency":0.012,"productionBonus":0.008,"morale":2},"unlockCondition":{"buildingLevel":10}},{"id":"workshop_upgrade_4","buildingId":"workshop","name":"Automated Production","description":"Deploy robotic systems for automated manufacturing","cost":{"supplies":10000,"knowledge":1600},"effects":{"workerEfficiency":0.016,"productionBonus":0.012,"costReduction":0.1},"unlockCondition":{"buildingLevel":15,"technology":"orbital_comms"}},{"id":"workshop_upgrade_5","buildingId":"workshop","name":"Industrial Revolution","description":"Transform into a fully automated smart factory","cost":{"supplies":20000,"knowledge":3200},"effects":{"workerEfficiency":0.025,"productionBonus":0.015,"globalStability":5,"morale":5},"unlockCondition":{"buildingLevel":20,"technology":"resilient_society"}},{"id":"university_upgrade_1","buildingId":"university","name":"Research Grants","description":"Fund specialized research programs","cost":{"supplies":2000,"knowledge":500},"effects":{"productionMultiplier":1.3,"morale":3},"unlockCondition":{"buildingLevel":3}},{"id":"university_upgrade_2","buildingId":"university","name":"Advanced Curriculum","description":"Develop specialized training programs","cost":{"supplies":4000,"knowledge":1000},"effects":{"productionMultiplier":1.6,"workerEfficiency":0.02,"globalStability":2},"unlockCondition":{"buildingLevel":6}},{"id":"university_upgrade_3","buildingId":"university","name":"Think Tank","description":"Establish elite research and strategy center","cost":{"supplies":8000,"knowledge":2000},"effects":{"productionMultiplier":2,"morale":5,"infectionRate":-1},"unlockCondition":{"buildingLevel":10,"technology":"biolab_security"}},{"id":"university_upgrade_4","buildingId":"university","name":"Global Academy","description":"Partner with international institutions","cost":{"supplies":16000,"knowledge":4000},"effects":{"productionMultiplier":2.5,"workerEfficiency":0.04,"globalStability":3},"unlockCondition":{"buildingLevel":15,"technology":"orbital_comms"}},{"id":"university_upgrade_5","buildingId":"university","name":"Center of Excellence","description":"Become the world\'s leading research institution","cost":{"supplies":32000,"knowledge":8000},"effects":{"productionMultiplier":3,"morale":10,"globalStability":5,"containmentCoefficient":0.01},"unlockCondition":{"buildingLevel":20,"technology":"alpha_synthesis"}},{"id":"satellite_upgrade_1","buildingId":"satellite","name":"Enhanced Sensors","description":"Upgrade satellite sensors for better outbreak tracking","cost":{"supplies":8000,"knowledge":1500,"influence":200},"effects":{"workerEfficiency":0.01,"containmentCoefficient":0.01,"infectionRate":-1},"unlockCondition":{"buildingLevel":3}},{"id":"satellite_upgrade_2","buildingId":"satellite","name":"Orbital Array","description":"Deploy multiple satellites for global coverage","cost":{"supplies":16000,"knowledge":3000,"influence":400},"effects":{"workerEfficiency":0.015,"containmentCoefficient":0.015,"globalStability":3},"unlockCondition":{"buildingLevel":6,"technology":"orbital_comms"}},{"id":"satellite_upgrade_3","buildingId":"satellite","name":"Real-Time Monitoring","description":"Enable instant global outbreak detection","cost":{"supplies":32000,"knowledge":6000,"influence":800},"effects":{"workerEfficiency":0.02,"infectionRate":-2,"morale":5},"unlockCondition":{"buildingLevel":10}},{"id":"satellite_upgrade_4","buildingId":"satellite","name":"Predictive Analytics","description":"AI-powered outbreak prediction system","cost":{"supplies":64000,"knowledge":12000,"influence":1600},"effects":{"workerEfficiency":0.025,"containmentCoefficient":0.025,"infectionRate":-3},"unlockCondition":{"buildingLevel":15,"technology":"provisional_vaccine"}},{"id":"satellite_upgrade_5","buildingId":"satellite","name":"Global Defense Network","description":"Worldwide early warning and response system","cost":{"supplies":128000,"knowledge":25000,"influence":3200},"effects":{"workerEfficiency":0.035,"containmentCoefficient":0.04,"infectionRate":-5,"globalStability":10},"unlockCondition":{"buildingLevel":20,"technology":"alpha_synthesis"}},{"id":"clinic_upgrade_1","buildingId":"clinic","name":"Emergency Ward","description":"Dedicated emergency treatment facilities","cost":{"supplies":3000,"knowledge":600},"effects":{"workerEfficiency":0.003,"infectionRate":-0.5,"morale":2},"unlockCondition":{"buildingLevel":3}},{"id":"clinic_upgrade_2","buildingId":"clinic","name":"Advanced Diagnostics","description":"State-of-the-art diagnostic equipment","cost":{"supplies":6000,"knowledge":1200},"effects":{"workerEfficiency":0.005,"infectionRate":-1,"containmentCoefficient":0.005},"unlockCondition":{"buildingLevel":6,"technology":"synthetic_drugs"}},{"id":"clinic_upgrade_3","buildingId":"clinic","name":"Intensive Care Unit","description":"Specialized ICU for critical patients","cost":{"supplies":12000,"knowledge":2400},"effects":{"workerEfficiency":0.008,"infectionRate":-1.5,"morale":4},"unlockCondition":{"buildingLevel":10,"technology":"advanced_containment"}},{"id":"clinic_upgrade_4","buildingId":"clinic","name":"Trauma Center","description":"Comprehensive trauma and outbreak response","cost":{"supplies":24000,"knowledge":4800},"effects":{"workerEfficiency":0.012,"infectionRate":-2,"globalStability":3},"unlockCondition":{"buildingLevel":15,"technology":"protocol_zero"}},{"id":"clinic_upgrade_5","buildingId":"clinic","name":"Medical Complex","description":"Transform into a full-service medical center","cost":{"supplies":48000,"knowledge":9600},"effects":{"workerEfficiency":0.015,"infectionRate":-3,"morale":8,"containmentCoefficient":0.015},"unlockCondition":{"buildingLevel":20,"technology":"provisional_vaccine"}},{"id":"synthesis_upgrade_1","buildingId":"synthesis_station","name":"Purification Systems","description":"Advanced serum purification technology","cost":{"supplies":25000,"knowledge":5000},"effects":{"workerEfficiency":0.002,"serumProduction":0.001},"unlockCondition":{"buildingLevel":3}},{"id":"synthesis_upgrade_2","buildingId":"synthesis_station","name":"Batch Processing","description":"Increase serum production throughput","cost":{"supplies":50000,"knowledge":10000},"effects":{"workerEfficiency":0.004,"serumProduction":0.002,"infectionRate":-1},"unlockCondition":{"buildingLevel":6}},{"id":"synthesis_upgrade_3","buildingId":"synthesis_station","name":"Quality Assurance","description":"Ensure maximum serum efficacy and safety","cost":{"supplies":100000,"knowledge":20000},"effects":{"workerEfficiency":0.006,"serumProduction":0.003,"morale":5},"unlockCondition":{"buildingLevel":10}},{"id":"synthesis_upgrade_4","buildingId":"synthesis_station","name":"Mass Production","description":"Scale up serum production for global distribution","cost":{"supplies":200000,"knowledge":40000},"effects":{"workerEfficiency":0.008,"serumProduction":0.005,"globalStability":5},"unlockCondition":{"buildingLevel":15}},{"id":"synthesis_upgrade_5","buildingId":"synthesis_station","name":"Cure Distribution Network","description":"Worldwide serum distribution system","cost":{"supplies":400000,"knowledge":80000},"effects":{"workerEfficiency":0.01,"serumProduction":0.008,"infectionRate":-5,"globalStability":10,"morale":15},"unlockCondition":{"buildingLevel":20}},{"id":"command_upgrade_1","buildingId":"command_center","name":"Strategic Planning Room","description":"Dedicated space for mission planning and coordination","cost":{"supplies":5000,"knowledge":1500,"influence":600},"effects":{"productionMultiplier":1.2,"workerEfficiency":0.03},"unlockCondition":{"buildingLevel":3}},{"id":"command_upgrade_2","buildingId":"command_center","name":"Advanced Communications","description":"State-of-the-art communication systems for real-time coordination","cost":{"supplies":10000,"knowledge":3000,"influence":1200},"effects":{"productionMultiplier":1.4,"costReduction":0.05},"unlockCondition":{"buildingLevel":6}},{"id":"command_upgrade_3","buildingId":"command_center","name":"Intelligence Network","description":"Integrated intelligence gathering and analysis systems","cost":{"supplies":20000,"knowledge":6000,"influence":2500},"effects":{"productionMultiplier":1.6,"workerEfficiency":0.05,"morale":3},"unlockCondition":{"buildingLevel":10,"technology":"strategic_command"}},{"id":"command_upgrade_4","buildingId":"command_center","name":"Crisis Management Protocols","description":"Advanced protocols for handling multiple simultaneous crises","cost":{"supplies":40000,"knowledge":12000,"influence":5000},"effects":{"productionMultiplier":1.8,"costReduction":0.08,"globalStability":3},"unlockCondition":{"buildingLevel":15}},{"id":"command_upgrade_5","buildingId":"command_center","name":"Global Command Network","description":"Worldwide coordination system for maximum operational efficiency","cost":{"supplies":80000,"knowledge":25000,"influence":10000},"effects":{"productionMultiplier":2,"workerEfficiency":0.08,"morale":5,"globalStability":5},"unlockCondition":{"buildingLevel":20}},{"id":"power_upgrade_1","buildingId":"power_plant","name":"Efficient Turbines","description":"Upgrade turbines for better energy conversion efficiency","cost":{"supplies":8000,"knowledge":2000,"influence":500},"effects":{"productionMultiplier":1.25,"workerEfficiency":0.04},"unlockCondition":{"buildingLevel":3}},{"id":"power_upgrade_2","buildingId":"power_plant","name":"Smart Grid Integration","description":"Integrate smart grid technology for optimized power distribution","cost":{"supplies":15000,"knowledge":4000,"influence":1000},"effects":{"productionMultiplier":1.5,"costReduction":0.06},"unlockCondition":{"buildingLevel":6}},{"id":"power_upgrade_3","buildingId":"power_plant","name":"Backup Generators","description":"Install backup power systems for continuous operation","cost":{"supplies":30000,"knowledge":8000,"influence":2000},"effects":{"productionMultiplier":1.75,"workerEfficiency":0.06,"morale":2},"unlockCondition":{"buildingLevel":10}},{"id":"power_upgrade_4","buildingId":"power_plant","name":"Clean Energy Systems","description":"Convert to renewable energy sources for sustainability","cost":{"supplies":60000,"knowledge":16000,"influence":4000},"effects":{"productionMultiplier":2,"costReduction":0.1,"globalStability":4},"unlockCondition":{"buildingLevel":15}},{"id":"power_upgrade_5","buildingId":"power_plant","name":"Fusion Reactor Core","description":"Advanced fusion technology for unlimited clean energy","cost":{"supplies":120000,"knowledge":35000,"influence":8000},"effects":{"productionMultiplier":2.5,"workerEfficiency":0.1,"morale":8,"globalStability":6},"unlockCondition":{"buildingLevel":20,"technology":"quantum_comms"}},{"id":"security_upgrade_1","buildingId":"security_outpost","name":"Advanced Weaponry","description":"Equip forces with modern weapons and equipment","cost":{"supplies":10000,"knowledge":2500,"influence":1000},"effects":{"productionMultiplier":1.2,"workerEfficiency":0.04},"unlockCondition":{"buildingLevel":3}},{"id":"security_upgrade_2","buildingId":"security_outpost","name":"Tactical Training Facility","description":"Dedicated training grounds for combat readiness","cost":{"supplies":20000,"knowledge":5000,"influence":2000},"effects":{"productionMultiplier":1.4,"costReduction":0.05},"unlockCondition":{"buildingLevel":6}},{"id":"security_upgrade_3","buildingId":"security_outpost","name":"Surveillance Network","description":"Comprehensive monitoring system for threat detection","cost":{"supplies":40000,"knowledge":10000,"influence":4000},"effects":{"productionMultiplier":1.6,"workerEfficiency":0.06,"morale":3},"unlockCondition":{"buildingLevel":10,"technology":"advanced_tactics"}},{"id":"security_upgrade_4","buildingId":"security_outpost","name":"Rapid Response Teams","description":"Elite units for emergency crisis intervention","cost":{"supplies":80000,"knowledge":20000,"influence":8000},"effects":{"productionMultiplier":1.8,"costReduction":0.08,"globalStability":4},"unlockCondition":{"buildingLevel":15}},{"id":"security_upgrade_5","buildingId":"security_outpost","name":"Integrated Defense Grid","description":"Automated defense system with AI threat assessment","cost":{"supplies":160000,"knowledge":40000,"influence":16000},"effects":{"productionMultiplier":2,"workerEfficiency":0.1,"morale":6,"globalStability":6},"unlockCondition":{"buildingLevel":20}},{"id":"automation_upgrade_1","buildingId":"automated_factory","name":"Assembly Line Optimization","description":"Streamline production processes for maximum efficiency","cost":{"supplies":15000,"knowledge":4000,"influence":1500},"effects":{"productionMultiplier":1.3,"workerEfficiency":0.05},"unlockCondition":{"buildingLevel":3}},{"id":"automation_upgrade_2","buildingId":"automated_factory","name":"AI Production Control","description":"AI-driven production management for minimal waste","cost":{"supplies":30000,"knowledge":8000,"influence":3000},"effects":{"productionMultiplier":1.6,"costReduction":0.07},"unlockCondition":{"buildingLevel":6}},{"id":"automation_upgrade_3","buildingId":"automated_factory","name":"3D Manufacturing Systems","description":"Advanced 3D printing for rapid prototyping and production","cost":{"supplies":60000,"knowledge":16000,"influence":6000},"effects":{"productionMultiplier":1.9,"workerEfficiency":0.08,"morale":3},"unlockCondition":{"buildingLevel":10,"technology":"industrial_automation"}},{"id":"automation_upgrade_4","buildingId":"automated_factory","name":"Nanotech Assembly","description":"Molecular-level manufacturing for unprecedented precision","cost":{"supplies":120000,"knowledge":32000,"influence":12000},"effects":{"productionMultiplier":2.2,"costReduction":0.12,"globalStability":4},"unlockCondition":{"buildingLevel":15}},{"id":"automation_upgrade_5","buildingId":"automated_factory","name":"Self-Replicating Systems","description":"Autonomous factories that expand and maintain themselves","cost":{"supplies":250000,"knowledge":65000,"influence":25000},"effects":{"productionMultiplier":2.5,"workerEfficiency":0.15,"morale":8,"globalStability":8},"unlockCondition":{"buildingLevel":20}},{"id":"intel_upgrade_1","buildingId":"intelligence_agency","name":"Signal Intelligence","description":"Advanced communication interception and analysis","cost":{"supplies":18000,"knowledge":5000,"influence":3000},"effects":{"productionMultiplier":1.25,"workerEfficiency":0.05},"unlockCondition":{"buildingLevel":3}},{"id":"intel_upgrade_2","buildingId":"intelligence_agency","name":"Data Analytics Center","description":"Big data processing for pattern recognition and prediction","cost":{"supplies":35000,"knowledge":10000,"influence":6000},"effects":{"productionMultiplier":1.5,"costReduction":0.06},"unlockCondition":{"buildingLevel":6}},{"id":"intel_upgrade_3","buildingId":"intelligence_agency","name":"Cyber Operations Division","description":"Digital intelligence gathering and cyber defense capabilities","cost":{"supplies":70000,"knowledge":20000,"influence":12000},"effects":{"productionMultiplier":1.75,"workerEfficiency":0.08,"morale":4},"unlockCondition":{"buildingLevel":10,"technology":"quantum_comms"}},{"id":"intel_upgrade_4","buildingId":"intelligence_agency","name":"Predictive AI Systems","description":"AI-powered threat prediction and early warning systems","cost":{"supplies":140000,"knowledge":40000,"influence":25000},"effects":{"productionMultiplier":2,"costReduction":0.1,"globalStability":5},"unlockCondition":{"buildingLevel":15}},{"id":"intel_upgrade_5","buildingId":"intelligence_agency","name":"Global Intelligence Network","description":"Worldwide intelligence coordination with perfect information sharing","cost":{"supplies":280000,"knowledge":80000,"influence":50000},"effects":{"productionMultiplier":2.5,"workerEfficiency":0.12,"morale":10,"globalStability":8},"unlockCondition":{"buildingLevel":20}},{"id":"distribution_upgrade_1","buildingId":"distribution_hub","name":"Logistics Optimization","description":"Streamlined distribution routes for faster delivery","cost":{"supplies":25000,"knowledge":7000,"influence":5000},"effects":{"productionMultiplier":1.3,"workerEfficiency":0.06},"unlockCondition":{"buildingLevel":3}},{"id":"distribution_upgrade_2","buildingId":"distribution_hub","name":"Cold Chain Infrastructure","description":"Temperature-controlled distribution for serum preservation","cost":{"supplies":50000,"knowledge":15000,"influence":10000},"effects":{"productionMultiplier":1.6,"costReduction":0.08},"unlockCondition":{"buildingLevel":6}},{"id":"distribution_upgrade_3","buildingId":"distribution_hub","name":"Automated Warehousing","description":"Robot-managed storage and retrieval systems","cost":{"supplies":100000,"knowledge":30000,"influence":20000},"effects":{"productionMultiplier":1.9,"workerEfficiency":0.1,"morale":4},"unlockCondition":{"buildingLevel":10,"technology":"adaptive_distribution"}},{"id":"distribution_upgrade_4","buildingId":"distribution_hub","name":"Drone Delivery Network","description":"Autonomous drone fleet for rapid last-mile delivery","cost":{"supplies":200000,"knowledge":60000,"influence":40000},"effects":{"productionMultiplier":2.2,"costReduction":0.15,"globalStability":6},"unlockCondition":{"buildingLevel":15}},{"id":"distribution_upgrade_5","buildingId":"distribution_hub","name":"Quantum Transport System","description":"Experimental quantum distribution for instant delivery","cost":{"supplies":400000,"knowledge":120000,"influence":80000},"effects":{"productionMultiplier":2.8,"workerEfficiency":0.15,"morale":12,"globalStability":10,"serumProduction":0.005},"unlockCondition":{"buildingLevel":20}}]')},9987:(e,i,t)=>{function n(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";return"full"===i?e.toLocaleString("en-US",{maximumFractionDigits:0}):e>=1e9?"".concat((e/1e9).toFixed(2),"B"):e>=1e6?"".concat((e/1e6).toFixed(2),"M"):e>=1e3?"".concat((e/1e3).toFixed(2),"K"):e.toFixed(0)}function s(e){let i=Math.floor(e/3600),t=Math.floor(e%3600/60),n=Math.floor(e%60);return i>0?"".concat(i,"h ").concat(t,"m"):t>0?"".concat(t,"m ").concat(n,"s"):"".concat(n,"s")}function o(e,i,t){return Math.floor(e*Math.pow(t,i))}function r(e,i,t,n){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return(e*Math.pow(i,o)+t*n*i)*s.reduce((e,i)=>e*i,1)}t.d(i,{KY:()=>r,ZV:()=>n,fU:()=>s,yN:()=>o})}}]);