(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[944],{88:(e,s,t)=>{"use strict";t.d(s,{d:()=>l});var a=t(5155),r=t(2115),n=t(6380),i=t(3999);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:(0,a.jsx)(n.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=n.bL.displayName},1397:(e,s,t)=>{"use strict";t.d(s,{k:()=>i});var a=t(5155);t(2115);var r=t(5863),n=t(3999);function i(e){let{className:s,value:t,indicatorClassName:i,...l}=e;return(0,a.jsx)(r.bL,{"data-slot":"progress",className:(0,n.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...l,children:(0,a.jsx)(r.C1,{"data-slot":"progress-indicator",className:(0,n.cn)("bg-primary h-full w-full flex-1 transition-all",i),style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}},2219:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(5155),r=t(2115),n=t(3792),i=t(3999);function l(e){let{className:s,defaultValue:t,value:l,min:c=0,max:d=100,...o}=e,u=r.useMemo(()=>Array.isArray(l)?l:Array.isArray(t)?t:[c,d],[l,t,c,d]);return(0,a.jsxs)(n.bL,{"data-slot":"slider",defaultValue:t,value:l,min:c,max:d,className:(0,i.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",s),...o,children:[(0,a.jsx)(n.CC,{"data-slot":"slider-track",className:"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5",children:(0,a.jsx)(n.Q6,{"data-slot":"slider-range",className:"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full"})}),Array.from({length:u.length},(e,s)=>(0,a.jsx)(n.zi,{"data-slot":"slider-thumb",className:"border-primary ring-ring/50 block size-4 shrink-0 rounded-full border bg-white shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},s))]})}},2837:(e,s,t)=>{Promise.resolve().then(t.bind(t,5305))},5305:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eA});var a=t(5155),r=t(2115),n=t(7063),i=t(9060),l=t(3405),c=t(9987),d=t(7168),o=t(8482),u=t(2219),x=t(9815),m=t(5196),p=t(2919);function f(e){let{buildingId:s,buildingState:t,upgradeIds:r}=e,n=(0,l.T)(e=>e.currencies),i=(0,l.T)(e=>e.technologies),o=(0,l.T)(e=>e.upgradeBuilding),u=r.map(e=>x.find(s=>s.id===e)).filter(e=>void 0!==e);return(0,a.jsx)("div",{className:"space-y-2",children:u.map(e=>{var r,l,u,x,f;let h=(null==t?void 0:t.upgrades.includes(e.id))||!1,g=!(null===(r=e.unlockCondition)||void 0===r?void 0:r.buildingLevel)||((null==t?void 0:t.level)||0)>=e.unlockCondition.buildingLevel,v=!(null===(l=e.unlockCondition)||void 0===l?void 0:l.technology)||(null===(u=i.find(s=>{var t;return s.id===(null===(t=e.unlockCondition)||void 0===t?void 0:t.technology)}))||void 0===u?void 0:u.researched),j=g&&v,b=(!e.cost.supplies||n.supplies>=e.cost.supplies)&&(!e.cost.knowledge||n.knowledge>=e.cost.knowledge)&&(!e.cost.influence||n.influence>=e.cost.influence);return(0,a.jsxs)("div",{className:"rounded-lg border p-3 ".concat(h?"border-success/30 bg-success/5":j?"border-border bg-surface":"border-border/50 bg-surface/50 opacity-60"),children:[(0,a.jsx)("div",{className:"mb-2 flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"text-sm font-semibold",children:e.name}),h&&(0,a.jsx)(m.A,{className:"h-4 w-4 text-success"}),!j&&(0,a.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})}),(0,a.jsxs)("div",{className:"mb-2 space-y-1 text-xs",children:[e.effects.productionMultiplier&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Production"}),(0,a.jsxs)("span",{className:"text-data text-primary",children:["\xd7",e.effects.productionMultiplier]})]}),e.effects.workerEfficiency&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Worker Efficiency"}),(0,a.jsxs)("span",{className:"text-data text-info",children:["+",e.effects.workerEfficiency,"/s"]})]}),e.effects.productionBonus&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"All Production (per level)"}),(0,a.jsxs)("span",{className:"text-data text-warning",children:["+",(100*e.effects.productionBonus).toFixed(1),"%"]})]}),e.effects.costReduction&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Cost Reduction"}),(0,a.jsxs)("span",{className:"text-data text-success",children:["-",(100*e.effects.costReduction).toFixed(0),"%"]})]}),e.effects.globalStability&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Global Stability"}),(0,a.jsxs)("span",{className:"text-data text-success",children:["+",e.effects.globalStability,"%"]})]}),e.effects.infectionRate&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Infection Rate"}),(0,a.jsxs)("span",{className:"text-data text-success",children:[e.effects.infectionRate,"%"]})]}),e.effects.morale&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Morale"}),(0,a.jsxs)("span",{className:"text-data text-info",children:["+",e.effects.morale,"%"]})]}),e.effects.containmentCoefficient&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Containment"}),(0,a.jsxs)("span",{className:"text-data text-primary",children:["+",e.effects.containmentCoefficient]})]}),e.effects.serumProduction&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Serum Production"}),(0,a.jsxs)("span",{className:"text-data text-success",children:["+",e.effects.serumProduction,"/s"]})]})]}),!j&&(0,a.jsxs)("div",{className:"mb-2 rounded bg-surface-elevated p-2 text-xs text-muted-foreground",children:[!g&&(0,a.jsxs)("div",{children:["Requires building level ",null===(x=e.unlockCondition)||void 0===x?void 0:x.buildingLevel]}),!v&&(0,a.jsxs)("div",{children:["Requires technology: ",null===(f=e.unlockCondition)||void 0===f?void 0:f.technology]})]}),!h&&j&&(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex gap-2 text-xs",children:[e.cost.supplies&&(0,a.jsxs)("span",{className:n.supplies>=e.cost.supplies?"text-info":"text-danger",children:[(0,c.ZV)(e.cost.supplies)," RF"]}),e.cost.knowledge&&(0,a.jsxs)("span",{className:n.knowledge>=e.cost.knowledge?"text-primary":"text-danger",children:[(0,c.ZV)(e.cost.knowledge)," CN"]}),e.cost.influence&&(0,a.jsxs)("span",{className:n.influence>=e.cost.influence?"text-warning":"text-danger",children:[(0,c.ZV)(e.cost.influence)," IF"]})]}),(0,a.jsx)(d.$,{onClick:()=>{o(s,e.id)},disabled:!b,size:"sm",variant:"secondary",children:"Purchase"})]})]},e.id)})})}var h=t(5185),g=t(6081),v=t(5845),j=t(2712),b=t(6101),N=t(3655),y=t(8905),w=t(1285),k="Collapsible",[C,A]=(0,g.A)(k),[M,R]=C(k),E=r.forwardRef((e,s)=>{let{__scopeCollapsible:t,open:n,defaultOpen:i,disabled:l,onOpenChange:c,...d}=e,[o=!1,u]=(0,v.i)({prop:n,defaultProp:i,onChange:c});return(0,a.jsx)(M,{scope:t,disabled:l,contentId:(0,w.B)(),open:o,onOpenToggle:r.useCallback(()=>u(e=>!e),[u]),children:(0,a.jsx)(N.sG.div,{"data-state":B(o),"data-disabled":l?"":void 0,...d,ref:s})})});E.displayName=k;var L="CollapsibleTrigger",T=r.forwardRef((e,s)=>{let{__scopeCollapsible:t,...r}=e,n=R(L,t);return(0,a.jsx)(N.sG.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":B(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...r,ref:s,onClick:(0,h.m)(e.onClick,n.onOpenToggle)})});T.displayName=L;var z="CollapsibleContent",V=r.forwardRef((e,s)=>{let{forceMount:t,...r}=e,n=R(z,e.__scopeCollapsible);return(0,a.jsx)(y.C,{present:t||n.open,children:e=>{let{present:t}=e;return(0,a.jsx)(F,{...r,ref:s,present:t})}})});V.displayName=z;var F=r.forwardRef((e,s)=>{let{__scopeCollapsible:t,present:n,children:i,...l}=e,c=R(z,t),[d,o]=r.useState(n),u=r.useRef(null),x=(0,b.s)(s,u),m=r.useRef(0),p=m.current,f=r.useRef(0),h=f.current,g=c.open||d,v=r.useRef(g),y=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,j.N)(()=>{let e=u.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let s=e.getBoundingClientRect();m.current=s.height,f.current=s.width,v.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),o(n)}},[c.open,n]),(0,a.jsx)(N.sG.div,{"data-state":B(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!g,...l,ref:x,style:{"--radix-collapsible-content-height":p?"".concat(p,"px"):void 0,"--radix-collapsible-content-width":h?"".concat(h,"px"):void 0,...e.style},children:g&&i})});function B(e){return e?"open":"closed"}function S(e){let{...s}=e;return(0,a.jsx)(E,{"data-slot":"collapsible",...s})}function Z(e){let{...s}=e;return(0,a.jsx)(T,{"data-slot":"collapsible-trigger",...s})}function P(e){let{...s}=e;return(0,a.jsx)(V,{"data-slot":"collapsible-content",...s})}var _=t(88),I=t(7340),U=t(9946);let q=(0,U.A)("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);var G=t(4259),W=t(2111),D=t(5525),O=t(8313);let $=(0,U.A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),X=(0,U.A)("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]),H=(0,U.A)("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);var Q=t(3761),J=t(3227),K=t(3311),Y=t(7580),ee=t(5670);let es=(0,U.A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var et=t(6474),ea=t(9376),er=t(1539),en=t(7108),ei=t(3109),el=t(8145),ec=t(7777),ed=t(5784),eo=t(9629),eu=t(1981);let ex={shelter:(0,a.jsx)(I.A,{className:"h-full w-full"}),farm:(0,a.jsx)(q,{className:"h-full w-full"}),radio_tower:(0,a.jsx)(G.A,{className:"h-full w-full"}),lab:(0,a.jsx)(W.A,{className:"h-full w-full"}),containment_unit:(0,a.jsx)(D.A,{className:"h-full w-full"}),workshop:(0,a.jsx)(O.A,{className:"h-full w-full"}),university:(0,a.jsx)($,{className:"h-full w-full"}),satellite:(0,a.jsx)(X,{className:"h-full w-full"}),clinic:(0,a.jsx)(H,{className:"h-full w-full"}),synthesis_station:(0,a.jsx)(Q.A,{className:"h-full w-full"})};function em(e){var s,t;let{buildingData:n,buildingState:i,viewMode:x="grid"}=e,m=(0,l.T)(e=>e.currencies),h=(0,l.T)(e=>e.currentPhase),g=(0,l.T)(e=>e.technologies),v=(0,l.T)(e=>e.buildings),j=(0,l.T)(e=>e.buyBuilding),b=(0,l.T)(e=>e.assignWorkers),N=(0,l.T)(e=>e.setBuildingActive),y=(0,l.T)(e=>e.prestigeUpgrades),w=(0,l.T)(e=>e.temporaryEffects.production),k=(0,l.T)(e=>e.specialists),C=(0,l.T)(e=>e.assignSpecialist),A=(0,l.T)(e=>e.unassignSpecialist),[M,R]=(0,r.useState)((null==i?void 0:i.workers)||0),[E,L]=(0,r.useState)(!1),[T,z]=(0,r.useState)(!1);(0,r.useEffect)(()=>{R((null==i?void 0:i.workers)||0)},[null==i?void 0:i.workers]);let V=(null==i?void 0:i.level)||0,F=V>0,B=null===(s=null==i?void 0:i.active)||void 0===s||s,I=(()=>{if(!n.unlockCondition)return!0;if(n.unlockCondition.phase&&n.unlockCondition.phase>h)return!1;if(n.unlockCondition.technology){let e=g.find(e=>{var s;return e.id===(null===(s=n.unlockCondition)||void 0===s?void 0:s.technology)});if(!e||!e.researched)return!1}return!0})(),U={survivors:n.baseCost.survivors?(0,c.yN)(n.baseCost.survivors,V,n.costMultiplier):0,supplies:n.baseCost.supplies?(0,c.yN)(n.baseCost.supplies,V,n.costMultiplier):0,knowledge:n.baseCost.knowledge?(0,c.yN)(n.baseCost.knowledge,V,n.costMultiplier):0,influence:n.baseCost.influence?(0,c.yN)(n.baseCost.influence,V,n.costMultiplier):0},q=(!U.survivors||m.survivors>=U.survivors)&&(!U.supplies||m.supplies>=U.supplies)&&(!U.knowledge||m.knowledge>=U.knowledge)&&(!U.influence||m.influence>=U.influence),W=n.workerCapacity*V,D=(()=>{if(!n.unlockCondition)return null;if(n.unlockCondition.phase&&n.unlockCondition.phase>h)return"Phase ".concat(n.unlockCondition.phase);if(n.unlockCondition.technology){let e=g.find(e=>{var s;return e.id===(null===(s=n.unlockCondition)||void 0===s?void 0:s.technology)});if(!e||!e.researched)return"Tech Required"}return null})(),O=(0,eo.calculatePrestigeBonuses)(y),$=i?{...i,active:null===(t=i.active)||void 0===t||t}:{id:n.id,level:0,workers:0,upgrades:[],active:!0},X=Date.now(),H=w.filter(e=>e.expiresAt>X),Q=(0,eu.zh)(H,n.id,X),em=(0,eu.Xk)($,n,O,Q,g),ep=(0,eu.$v)($,n,O),ef={...$,level:F?V+1:1,workers:(null==i?void 0:i.workers)||0,active:!0},eh=(0,eu.Xk)(ef,n,O,Q,g),eg=(0,eu.$v)(ef,n,O),ev=F&&B?ep.totalUpkeep:0,ej=eg.totalUpkeep,eb=Math.max(0,Math.floor(m.survivors)-v.reduce((e,s)=>e+s.workers,0)),eN=Math.max(0,Math.floor(Math.min(W,eb+((null==i?void 0:i.workers)||0)))),ey={survivors:"Survivors",supplies:"Supplies",knowledge:"Knowledge",influence:"Influence"},ew={survivors:"text-foreground",supplies:"text-info",knowledge:"text-primary",influence:"text-warning"},ek="production"===n.category?"info":"research"===n.category?"primary":"defense"===n.category?"success":"warning",eC=Object.keys(n.baseProduction).length>0,eA=eC?Object.entries(n.baseProduction)[0]:null,eM=eA?eA[0]:null,eR=eM?F&&B?em[eM]||0:eh[eM]||0:0;return(0,a.jsxs)(o.Zp,{className:"group relative flex flex-col overflow-hidden transition-all duration-200 ".concat(I?"":"opacity-60"," ").concat(F?({info:"border-info/40 bg-gradient-to-br from-info/5 to-transparent hover:shadow-lg hover:shadow-info/20",primary:"border-primary/40 bg-gradient-to-br from-primary/5 to-transparent hover:shadow-lg hover:shadow-primary/20",success:"border-success/40 bg-gradient-to-br from-success/5 to-transparent hover:shadow-lg hover:shadow-success/20",warning:"border-warning/40 bg-gradient-to-br from-warning/5 to-transparent hover:shadow-lg hover:shadow-warning/20"})[ek]:"border-border/50 hover:border-border hover:shadow-md"),children:[(0,a.jsx)(o.aR,{className:"pb-2 pt-3 px-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"flex h-9 w-9 flex-shrink-0 items-center justify-center rounded-md bg-surface-elevated",children:ex[n.id]||(0,a.jsx)(J.A,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)(o.ZB,{className:"text-base truncate flex items-center gap-1.5",children:[n.name,!I&&(0,a.jsx)(p.A,{className:"h-3.5 w-3.5 flex-shrink-0 text-warning"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(el.E,{variant:"outline",className:"".concat({info:"border-info/50 text-info",primary:"border-primary/50 text-primary",success:"border-success/50 text-success",warning:"border-warning/50 text-warning"}[ek]," text-[10px] h-4 px-1.5 py-0"),children:["Lv ",V]}),i&&i.upgrades.length>0&&(()=>{let e=(0,eu._y)(i);return(0,a.jsxs)(ec.m_,{children:[(0,a.jsx)(ec.k$,{asChild:!0,children:(0,a.jsxs)(el.E,{variant:"outline",className:"border-success/50 text-success text-[9px] h-3.5 px-1 py-0 flex items-center gap-0.5 cursor-help",children:[(0,a.jsx)(K.A,{className:"h-2.5 w-2.5"}),i.upgrades.length]})}),(0,a.jsx)(ec.ZI,{className:"text-xs max-w-xs",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:"font-semibold text-success",children:"Active Upgrade Bonuses:"}),e.productionMultiplier>1&&(0,a.jsxs)("div",{children:["Production: \xd7",e.productionMultiplier.toFixed(2)]}),e.workerEfficiency>0&&(0,a.jsxs)("div",{children:["Worker Efficiency: +",(100*e.workerEfficiency).toFixed(1),"%"]}),e.costReduction>0&&(0,a.jsxs)("div",{children:["Cost Reduction: -",(100*e.costReduction).toFixed(0),"%"]})]})})]})})()]}),!I&&D&&(0,a.jsx)(el.E,{variant:"outline",className:"border-warning/50 text-warning text-[9px] h-3.5 px-1 py-0",children:D})]})]})]}),F&&(0,a.jsx)(_.d,{checked:B,onCheckedChange:e=>{N(n.id,e),e||R(0)},className:"data-[state=checked]:bg-success scale-75"})]})}),(0,a.jsxs)(o.Wu,{className:"flex-1 px-3 py-2 space-y-2",children:[!F&&!I&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-4 text-center",children:[(0,a.jsx)(p.A,{className:"h-8 w-8 text-warning/50 mb-2"}),(0,a.jsx)("p",{className:"text-xs text-warning font-semibold",children:D}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1",children:n.description})]}),!F&&I&&eC&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-3 text-center",children:[(0,a.jsx)("div",{className:"h-10 w-10 mb-2 text-muted-foreground",children:ex[n.id]||(0,a.jsx)(J.A,{className:"h-full w-full"})}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground mb-2",children:n.description}),(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"First level output: "}),(0,a.jsxs)("span",{className:"font-semibold text-base ".concat(ew[eM]),children:["+",(0,c.ZV)(eR),"/s"]})]}),ej>0&&(0,a.jsxs)("div",{className:"text-[10px] text-danger mt-1",children:["Upkeep: -",(0,c.ZV)(ej),"/s supplies"]})]}),F&&eC&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Output:"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)("span",{className:"font-semibold text-base ".concat(B?ew[eM]:"text-muted-foreground"),children:B?"+".concat((0,c.ZV)(eR),"/s"):"Paused"}),i&&i.upgrades.length>0&&B&&(()=>{let e=(0,eu._y)(i);return e.productionMultiplier>1||e.workerEfficiency>0?(0,a.jsxs)(ec.m_,{children:[(0,a.jsx)(ec.k$,{asChild:!0,children:(0,a.jsx)(K.A,{className:"h-3 w-3 text-success cursor-help"})}),(0,a.jsxs)(ec.ZI,{className:"text-xs",children:[(0,a.jsx)("div",{children:"Boosted by upgrades"}),e.productionMultiplier>1&&(0,a.jsxs)("div",{children:["\xd7",e.productionMultiplier.toFixed(2)," production"]}),e.workerEfficiency>0&&(0,a.jsxs)("div",{children:["+",(100*e.workerEfficiency).toFixed(1),"% per worker"]})]})]}):null})(),ev>0&&(0,a.jsxs)("span",{className:"text-danger text-xs",children:["(-",(0,c.ZV)(ev),"/s)"]})]})]}),F&&W>0&&(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(Y.A,{className:"h-3 w-3"}),"Workers"]}),(0,a.jsxs)("span",{className:"font-semibold text-sm",children:[(0,c.ZV)(M),"/",(0,c.ZV)(W),eb>0&&(0,a.jsxs)("span",{className:"text-success ml-1 text-xs",children:["(+",(0,c.ZV)(eb),")"]})]})]}),(0,a.jsx)(u.A,{value:[M],onValueChange:e=>{let s=e[0];R(s),b(n.id,s)},max:eN,step:1,disabled:!B||0===eN,className:"w-full"})]}),F&&(()=>{let e=k.find(e=>e.assignedTo===n.id),s=k.filter(e=>!e.assignedTo||e.assignedTo===n.id),t=(()=>{let e=n.id;return"lab"===e||"university"===e||"synthesis_station"===e?["scientist"]:"workshop"===e||"containment_unit"===e?["engineer"]:"clinic"===e||"shelter"===e?["medic"]:"radio_tower"===e||"satellite"===e?["diplomat"]:["scientist","engineer","medic","tactician","diplomat"]})(),r=s.filter(e=>t.includes(e.type));return 0===k.length?null:(0,a.jsxs)("div",{className:"space-y-1 pt-1 border-t border-border/30",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(ee.A,{className:"h-3 w-3"}),"Specialist"]}),e&&(0,a.jsxs)(el.E,{variant:"outline",className:"text-[10px] h-5",children:["Lv ",e.level]})]}),(0,a.jsxs)(ed.l6,{value:(null==e?void 0:e.id)||"none",onValueChange:s=>{"none"===s?e&&A(e.id):C(s,n.id)},disabled:!B,children:[(0,a.jsx)(ed.bq,{className:"h-8 text-xs",children:(0,a.jsx)(ed.yv,{placeholder:"No specialist assigned"})}),(0,a.jsxs)(ed.gC,{children:[(0,a.jsx)(ed.eb,{value:"none",className:"text-xs",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(es,{className:"h-3 w-3"}),"None"]})}),r.map(e=>(0,a.jsx)(ed.eb,{value:e.id,className:"text-xs",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 w-full",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsx)(el.E,{variant:"secondary",className:"text-[9px] capitalize",children:e.type})]})},e.id))]})]}),e&&(0,a.jsxs)("div",{className:"rounded-lg border border-success/30 bg-success/5 p-2 space-y-0.5",children:[(0,a.jsx)("div",{className:"text-[10px] font-semibold text-success uppercase tracking-wider",children:"Active Bonuses"}),e.bonuses.buildingEfficiencyBonus&&(0,a.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Building Efficiency"}),(0,a.jsxs)("span",{className:"text-success font-semibold",children:["+",e.bonuses.buildingEfficiencyBonus,"%"]})]}),e.bonuses.researchSpeedBonus&&(0,a.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Research Speed"}),(0,a.jsxs)("span",{className:"text-success font-semibold",children:["+",e.bonuses.researchSpeedBonus,"%"]})]}),e.bonuses.serumQualityBonus&&(0,a.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Serum Quality"}),(0,a.jsxs)("span",{className:"text-success font-semibold",children:["+",e.bonuses.serumQualityBonus,"%"]})]}),e.bonuses.survivorRecoveryBonus&&(0,a.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Recovery Speed"}),(0,a.jsxs)("span",{className:"text-success font-semibold",children:["+",e.bonuses.survivorRecoveryBonus,"%"]})]}),e.bonuses.influenceBonus&&(0,a.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Influence Gain"}),(0,a.jsxs)("span",{className:"text-success font-semibold",children:["+",e.bonuses.influenceBonus,"%"]})]})]})]})})(),F&&n.upgrades.length>0&&(0,a.jsx)("div",{className:"pt-1",children:(0,a.jsxs)(S,{open:T,onOpenChange:z,children:[(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"outline",size:"sm",className:"w-full h-7 text-xs justify-between hover:bg-success/10 hover:border-success/50 transition-colors",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(K.A,{className:"h-3.5 w-3.5 text-success"}),(0,a.jsxs)("span",{className:"font-semibold",children:["Upgrades ",null==i?void 0:i.upgrades.length,"/",n.upgrades.length]})]}),(0,a.jsx)(et.A,{className:"h-3.5 w-3.5 transition-transform ".concat(T?"rotate-180":"")})]})}),(0,a.jsx)(P,{className:"pt-2",children:(0,a.jsx)(f,{buildingId:n.id,buildingState:i,upgradeIds:n.upgrades})})]})}),F&&(0,a.jsxs)(S,{open:E,onOpenChange:L,children:[(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",className:"w-full h-6 text-[10px] text-muted-foreground hover:text-foreground",children:[(0,a.jsx)(et.A,{className:"h-3 w-3 mr-1 transition-transform ".concat(E?"rotate-180":"")}),E?"Hide Details":"Show Details"]})}),(0,a.jsxs)(P,{className:"space-y-2 pt-2",children:[i&&i.upgrades.length>0&&(()=>{let e=(0,eu._y)(i);return(0,a.jsxs)("div",{className:"space-y-1 text-xs bg-success/5 border border-success/20 rounded-md p-2",children:[(0,a.jsxs)("div",{className:"font-semibold text-success uppercase tracking-wider text-[10px] flex items-center gap-1",children:[(0,a.jsx)(K.A,{className:"h-3 w-3"}),"Active Upgrade Bonuses"]}),e.productionMultiplier>1&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Production Multiplier"}),(0,a.jsxs)("span",{className:"font-semibold text-success",children:["\xd7",e.productionMultiplier.toFixed(2)]})]}),e.workerEfficiency>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Worker Efficiency"}),(0,a.jsxs)("span",{className:"font-semibold text-success",children:["+",(100*e.workerEfficiency).toFixed(1),"%"]})]}),e.costReduction>0&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Cost Reduction"}),(0,a.jsxs)("span",{className:"font-semibold text-success",children:["-",(100*e.costReduction).toFixed(0),"%"]})]})]})})(),(()=>{let e=(0,eu.L1)(n.id,g);return e.hasResearch?(0,a.jsxs)("div",{className:"space-y-1 text-xs bg-primary/5 border border-primary/20 rounded-md p-2",children:[(0,a.jsxs)("div",{className:"font-semibold text-primary uppercase tracking-wider text-[10px] flex items-center gap-1",children:[(0,a.jsx)(ea.A,{className:"h-3 w-3"}),"Active Research Bonuses"]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Production Multiplier"}),(0,a.jsxs)("span",{className:"font-semibold text-primary",children:["\xd7",e.productionMultiplier.toFixed(2)]})]}),e.technologies.length>0&&(0,a.jsxs)("div",{className:"space-y-0.5 mt-1 pt-1 border-t border-primary/10",children:[(0,a.jsx)("div",{className:"text-[9px] text-muted-foreground",children:"From Technologies:"}),e.technologies.map(e=>(0,a.jsxs)("div",{className:"text-[9px] text-primary flex items-center gap-1",children:[(0,a.jsx)(er.A,{className:"h-2.5 w-2.5"}),e]},e))]}),e.subUpgrades.length>0&&(0,a.jsxs)("div",{className:"space-y-0.5 mt-1 pt-1 border-t border-primary/10",children:[(0,a.jsx)("div",{className:"text-[9px] text-muted-foreground",children:"From Sub-upgrades:"}),e.subUpgrades.map(e=>(0,a.jsxs)("div",{className:"text-[9px] text-primary flex items-center gap-1",children:[(0,a.jsx)(K.A,{className:"h-2.5 w-2.5"}),e]},e))]})]}):null})(),eC&&(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsx)("div",{className:"font-semibold text-muted-foreground uppercase tracking-wider text-[10px]",children:"Production"}),Object.entries(n.baseProduction).map(e=>{let[s]=e,t=em[s]||0,r=(eh[s]||0)-t;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:ey[s]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"font-semibold ".concat(ew[s]),children:["+",(0,c.ZV)(B?t:0),"/s"]}),r>0&&(0,a.jsxs)("span",{className:"text-muted-foreground text-[10px]",children:["(+",(0,c.ZV)(r),")"]})]})]},s)})]}),n.effects&&(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsx)("div",{className:"font-semibold text-muted-foreground uppercase tracking-wider text-[10px]",children:"Effects"}),n.effects.globalStability&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Stability"}),(0,a.jsxs)("span",{className:"font-semibold text-success",children:["+",n.effects.globalStability,"%"]})]}),n.effects.infectionRate&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Infection"}),(0,a.jsxs)("span",{className:"font-semibold text-success",children:[n.effects.infectionRate,"%"]})]}),n.effects.morale&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Morale"}),(0,a.jsxs)("span",{className:"font-semibold text-info",children:["+",n.effects.morale,"%"]})]}),n.effects.productionBonus&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Production"}),(0,a.jsxs)("span",{className:"font-semibold text-warning",children:["+",(100*n.effects.productionBonus).toFixed(1),"%"]})]})]})]})]})]}),(0,a.jsxs)(o.wL,{className:"flex-col gap-2 border-t border-border/50 bg-surface/20 p-2",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 w-full text-xs",children:[U.survivors>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(m.survivors>=U.survivors?"text-foreground":"text-danger"),children:[(0,a.jsx)(Y.A,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{className:"font-semibold",children:(0,c.ZV)(U.survivors)})]}),U.supplies>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(m.supplies>=U.supplies?"text-info":"text-danger"),children:[(0,a.jsx)(en.A,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{className:"font-semibold",children:(0,c.ZV)(U.supplies)})]}),U.knowledge>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(m.knowledge>=U.knowledge?"text-primary":"text-danger"),children:[(0,a.jsx)(ea.A,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{className:"font-semibold",children:(0,c.ZV)(U.knowledge)})]}),U.influence>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ".concat(m.influence>=U.influence?"text-warning":"text-danger"),children:[(0,a.jsx)(G.A,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{className:"font-semibold",children:(0,c.ZV)(U.influence)})]})]}),(0,a.jsx)(d.$,{onClick:()=>{I&&j(n.id)},disabled:!I||!q,className:"w-full h-8 text-xs",variant:"default",children:I?F?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ei.A,{className:"mr-1.5 h-3 w-3"}),"Upgrade → Lv ",V+1]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.A,{className:"mr-1.5 h-3 w-3"}),"Build"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{className:"mr-1.5 h-3 w-3"}),"Locked"]})})]})]})}var ep=t(9041);function ef(e){let{category:s,viewMode:t="grid"}=e,r=(0,l.T)(e=>e.buildings),n=[...s?ep.filter(e=>e.category===s):ep].sort((e,s)=>{let t=r.find(s=>s.id===e.id),a=r.find(e=>e.id==e.id),n=t&&t.level>0,i=a&&a.level>0;return n&&!i?-1:!n&&i?1:0});return(0,a.jsx)("div",{className:"grid"===t?"grid gap-6 md:grid-cols-2 lg:grid-cols-3":"grid gap-4 grid-cols-1",children:n.map(e=>{let s=r.find(s=>s.id===e.id);return(0,a.jsx)(em,{buildingData:e,buildingState:s,viewMode:t},e.id)})})}let eh=(0,U.A)("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]),eg=(0,U.A)("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);var ev=t(9037);let ej=(0,U.A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),eb=(0,U.A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),eN=(0,U.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var ey=t(4574),ew=t(1960),ek=t(1397),eC=t(182);function eA(){let e=(0,l.T)(e=>e.buildings),s=(0,l.T)(e=>e.provinces),t=(0,l.T)(e=>e.currencies),c=(0,l.T)(e=>e.prestigeUpgrades),o=(0,l.T)(e=>e.lastTick),[u,x]=(0,r.useState)("all"),[m,p]=(0,r.useState)("grid"),[,f]=(0,r.useState)({});(0,r.useEffect)(()=>{let e=setInterval(()=>{f({})},1e3);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{f({})},[o]),e.length;let h=e.reduce((e,s)=>e+s.level,0),g=e.reduce((e,s)=>e+s.workers,0),v=e.reduce((e,s)=>e+s.upgrades.length,0),j=e.filter(e=>{var s;return e.level>0&&(null===(s=e.active)||void 0===s||s)}).length,b=e.filter(e=>e.level>0).length,N=ep.length,y=Math.max(0,Math.floor(t.survivors)-g),w=(0,eo.calculatePrestigeBonuses)(c),k=e.reduce((e,s)=>{var t;if(0===s.level||!(null===(t=s.active)||void 0===t||t))return e;let a=ep.find(e=>e.id===s.id);if(!a)return e;let r=(0,eu.Xk)(s,a,w,1),n=(0,eu.$v)(s,a,w);return e.survivors+=r.survivors||0,e.supplies+=r.supplies||0,e.knowledge+=r.knowledge||0,e.influence+=r.influence||0,e.maintenance+=n.totalUpkeep,e},{survivors:0,supplies:0,knowledge:0,influence:0,maintenance:0}),C=s.reduce((e,s)=>{if(!s.unlocked)return e;let t=eC.find(e=>e.id===s.id);return t&&t.maintenanceCost?e+(t.maintenanceCost.supplies||0):e},0),A=k.maintenance+C,M=k.supplies-A,R=e=>{let s=Math.abs(e);return s>=100?e.toFixed(0):s>=10?e.toFixed(1):s>=1?e.toFixed(2):e.toFixed(3)},E=h+2*b+3*v,L=Math.floor(Math.sqrt(E/5))+1,T=5*Math.pow(L,2),z=E%T/T*100,V=[{label:"First Building",target:1,current:b,icon:J.A},{label:"City Expansion",target:5,current:b,icon:eh},{label:"Metropolis",target:N,current:b,icon:K.A},{label:"Level 100",target:100,current:h,icon:eg}],F=[{id:"all",label:"All Buildings",icon:J.A,color:"primary",dataCategory:void 0},{id:"production",label:"Production",icon:ei.A,color:"info",dataCategory:"production"},{id:"research",label:"Research",icon:er.A,color:"primary",dataCategory:"research"},{id:"defense",label:"Defense",icon:eh,color:"success",dataCategory:"defense"},{id:"support",label:"Support",icon:G.A,color:"warning",dataCategory:"special"}],B=F.find(e=>e.id===u)||F[0];return(0,a.jsx)(n.r,{children:(0,a.jsxs)("div",{className:"mx-auto max-w-7xl space-y-6 p-4",children:[(0,a.jsx)(i.z,{icon:J.A,title:"Infrastructure HQ",description:"Command center for construction, resource production, and city management",badge:{label:"CITY LVL ".concat(L),color:"success"},stats:[{label:"Facilities",value:"".concat(b,"/").concat(N),color:"text-primary"},{label:"Active",value:j.toString(),color:"text-success"}]}),(0,a.jsxs)("div",{className:"grid gap-4 lg:grid-cols-3",children:[(0,a.jsxs)(ey.Gv,{variant:"hologram",withCorners:!0,withGrid:!0,className:"glow-tactical lg:col-span-2",children:[(0,a.jsxs)("div",{className:"border-b border-primary/20 pb-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"rounded border-2 border-primary/40 bg-primary/10 p-2.5",children:(0,a.jsx)(J.A,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-bold uppercase tracking-wide terminal-text text-primary",children:"City Infrastructure"}),(0,a.jsxs)("p",{className:"text-[10px] text-muted-foreground font-mono",children:["LEVEL ",L," • ",E," XP • ",Math.round(z),"% TO NEXT LEVEL"]})]})]}),(0,a.jsxs)(ew.Wh,{variant:"success",withLED:!0,children:["LVL ",L]})]}),(0,a.jsx)(ek.k,{value:z,className:"h-3 glow-tactical"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[(0,a.jsxs)("div",{className:"rounded-lg border-2 border-primary/30 bg-primary/5 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(J.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Facilities"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold font-mono text-primary",children:b}),(0,a.jsxs)("p",{className:"text-[10px] text-muted-foreground font-mono",children:["of ",N]})]}),(0,a.jsxs)("div",{className:"rounded-lg border-2 border-info/30 bg-info/5 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(ei.A,{className:"h-4 w-4 text-info"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Total Lvls"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold font-mono text-info",children:h}),(0,a.jsxs)("p",{className:"text-[10px] text-muted-foreground font-mono",children:["Avg ",b>0?(h/b).toFixed(1):"0"]})]}),(0,a.jsxs)("div",{className:"rounded-lg border-2 border-warning/30 bg-warning/5 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4 text-warning"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Workers"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold font-mono text-warning",children:g}),(0,a.jsxs)("p",{className:"text-[10px] text-muted-foreground font-mono",children:[y," free"]})]}),(0,a.jsxs)("div",{className:"rounded-lg border-2 border-success/30 bg-success/5 p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(K.A,{className:"h-4 w-4 text-success"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase tracking-wider text-muted-foreground",children:"Upgrades"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold font-mono text-success",children:v}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground font-mono",children:"installed"})]})]})]}),(0,a.jsxs)(ey.Gv,{variant:"default",withCorners:!0,withGrid:!0,children:[(0,a.jsx)("div",{className:"border-b border-primary/20 pb-3 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ev.A,{className:"h-5 w-5 text-warning"}),(0,a.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wide terminal-text",children:"Milestones"})]})}),(0,a.jsx)("div",{className:"space-y-3",children:V.map((e,s)=>{let t=e.icon,r=Math.min(e.current/e.target*100,100),n=e.current>=e.target;return(0,a.jsxs)("div",{className:"rounded-lg border-2 p-2.5 transition-all ".concat(n?"border-success/40 bg-success/10 radiation-glow":"border-border/30 bg-surface-elevated"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(t,{className:"h-4 w-4 ".concat(n?"text-success":"text-muted-foreground")}),(0,a.jsx)("span",{className:"text-xs font-bold uppercase tracking-wide text-foreground flex-1",children:e.label}),(0,a.jsxs)(ew.Wh,{variant:n?"success":"default",size:"sm",children:[e.current,"/",e.target]})]}),(0,a.jsx)(ek.k,{value:r,className:"h-1.5"})]},s)})})]})]}),(0,a.jsxs)(ey.Gv,{variant:"hologram",withGrid:!0,withCorners:!0,className:"glow-tactical",children:[(0,a.jsx)("div",{className:"border-b border-primary/20 pb-3 mb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(ej,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("h3",{className:"text-sm font-bold uppercase tracking-wide terminal-text",children:"Production Overview"})]}),(0,a.jsxs)(ew.Wh,{variant:j>0?"success":"default",withLED:!0,children:[j," ACTIVE"]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[(0,a.jsxs)("div",{className:"rounded-lg border-2 border-primary/30 bg-surface-elevated p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(Y.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:"Population"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold font-mono text-primary",children:["+",R(k.survivors)]}),(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground font-mono",children:"/second"})]}),(0,a.jsxs)("div",{className:"rounded-lg border-2 border-info/30 bg-surface-elevated p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(en.A,{className:"h-4 w-4 text-info"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:"Supplies"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold font-mono text-info",children:["+",R(k.supplies)]}),(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground font-mono",children:"/second"})]}),(0,a.jsxs)("div",{className:"rounded-lg border-2 border-primary/30 bg-surface-elevated p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(ea.A,{className:"h-4 w-4 text-primary"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:"Knowledge"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold font-mono text-primary",children:["+",R(k.knowledge)]}),(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground font-mono",children:"/second"})]}),(0,a.jsxs)("div",{className:"rounded-lg border-2 border-warning/30 bg-surface-elevated p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4 text-warning"}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:"Influence"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold font-mono text-warning",children:["+",R(k.influence)]}),(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground font-mono",children:"/second"})]}),(0,a.jsxs)("div",{className:"rounded-lg border-2 p-3 ".concat(M>=0?"border-success/40 bg-success/10":"border-danger/40 bg-danger/10 biohazard-alert"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(en.A,{className:"h-4 w-4 ".concat(M>=0?"text-success":"text-danger")}),(0,a.jsx)("span",{className:"text-[10px] font-bold uppercase text-muted-foreground",children:"Net Supply"})]}),(0,a.jsxs)("div",{className:"text-xl font-bold font-mono ".concat(M>=0?"text-success":"text-danger"),children:[M>=0?"+":"",R(M)]}),(0,a.jsx)("span",{className:"text-[9px] text-muted-foreground font-mono",children:"/second"})]})]}),j>0&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-primary/20",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs font-mono",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Production Output:"}),(0,a.jsxs)("span",{className:"text-success font-bold",children:["+",R(k.supplies),"/s"]}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Total Upkeep:"}),(0,a.jsxs)("span",{className:"text-danger font-bold",children:["-",R(A),"/s"]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:F.map(s=>{let t=s.icon,r=u===s.id,n=e.filter(e=>{if(0===e.level)return!1;if(void 0===s.dataCategory)return!0;let t=ep.find(s=>s.id===e.id);return(null==t?void 0:t.category)===s.dataCategory}).length,i={primary:{active:"border-primary/50 bg-primary/15 text-primary glow-tactical",icon:"text-primary",led:"status-led-safe"},info:{active:"border-info/50 bg-info/15 text-info glow-tactical",icon:"text-info",led:"status-led-safe"},success:{active:"border-success/50 bg-success/15 text-success glow-hazmat",icon:"text-success",led:"status-led-safe"},warning:{active:"border-warning/50 bg-warning/15 text-warning glow-quarantine",icon:"text-warning",led:"status-led-warning"}}[s.color];return(0,a.jsxs)("button",{onClick:()=>x(s.id),className:"group relative flex items-center gap-2.5 rounded border-2 px-4 py-2.5 text-sm font-bold uppercase tracking-wide transition-all hover:scale-105 ".concat(r?"".concat(i.active," shadow-lg"):"border-border/30 bg-surface-elevated/50 text-muted-foreground hover:border-primary/30 hover:bg-surface-elevated"),children:[r&&(0,a.jsx)("div",{className:i.led}),(0,a.jsx)(t,{className:"h-4 w-4 ".concat(r?i.icon:"text-muted-foreground"," transition-colors")}),(0,a.jsx)("span",{className:"font-mono",children:s.label}),n>0&&(0,a.jsx)(ew.Wh,{variant:r?"info"===s.color?"primary":s.color:"default",size:"sm",className:"ml-1",children:n})]},s.id)})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(d.$,{variant:"grid"===m?"default":"outline",size:"sm",onClick:()=>p("grid"),className:"gap-2",children:[(0,a.jsx)(eb,{className:"h-4 w-4"}),"Grid"]}),(0,a.jsxs)(d.$,{variant:"compact"===m?"default":"outline",size:"sm",onClick:()=>p("compact"),className:"gap-2",children:[(0,a.jsx)(eN,{className:"h-4 w-4"}),"Compact"]})]})]}),(0,a.jsx)(ef,{category:B.dataCategory,viewMode:m})]})})}},5784:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>h,gC:()=>f,l6:()=>o,yv:()=>u});var a=t(5155),r=t(2115),n=t(7477),i=t(6474),l=t(7863),c=t(5196),d=t(3999);let o=n.bL;n.YJ;let u=n.WT,x=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(n.l9,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(n.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=n.l9.displayName;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.PP,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});m.displayName=n.PP.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.wn,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=n.wn.displayName;let f=r.forwardRef((e,s)=>{let{className:t,children:r,position:i="popper",...l}=e;return(0,a.jsx)(n.ZL,{children:(0,a.jsxs)(n.UC,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...l,children:[(0,a.jsx)(m,{}),(0,a.jsx)(n.LM,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(p,{})]})})});f.displayName=n.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.JU,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=n.JU.displayName;let h=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(n.q7,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.VF,{children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})}),(0,a.jsx)(n.p4,{children:r})]})});h.displayName=n.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(n.wv,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=n.wv.displayName},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var a=t(5155);t(2115);var r=t(9708),n=t(2085),i=t(3999);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,asChild:n=!1,...c}=e,d=n?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(l({variant:t}),s),...c})}},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>i,wL:()=>o});var a=t(5155);t(2115);var r=t(3999);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",s),...t})}}},e=>{var s=s=>e(e.s=s);e.O(0,[61,268,9,609,405,135,441,684,358],()=>s(2837)),_N_E=e.O()}]);