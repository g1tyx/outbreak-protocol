(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{463:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9946).A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},4167:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(5155),a=t(3405),n=t(9987),c=t(8482),i=t(7168),l=t(8145),o=t(1243),d=t(1976),u=t(1539),x=t(463),m=t(5525),g=t(3109),v=t(7580),p=t(4186),h=t(8500),b=t(8935),f=t(9060);function j(){let e=(0,a.T)(e=>e.activeEvents),s=(0,a.T)(e=>e.eventHistory),t=(0,a.T)(e=>e.reputation),j=(0,a.T)(e=>e.eventStats),N=(0,a.T)(e=>e.handleEventChoice),y=(0,a.T)(e=>e.currencies),w=Math.max(0,j.averageInterval/6e4),k=w>=1?"".concat(w.toFixed(1),"m"):"".concat(Math.round(60*w),"s"),A={outbreak:o.A,aid:d.A,incident:u.A,discovery:x.A,ethical:m.A},E={outbreak:"from-red-500/20 to-red-600/10 border-red-500/30",aid:"from-green-500/20 to-green-600/10 border-green-500/30",incident:"from-yellow-500/20 to-yellow-600/10 border-yellow-500/30",discovery:"from-blue-500/20 to-blue-600/10 border-blue-500/30",ethical:"from-purple-500/20 to-purple-600/10 border-purple-500/30"},Z=t>=5?"Heroic":t>=2?"Trusted":t>=-1?"Neutral":t>=-4?"Questionable":"Notorious",R=t>=2?"text-green-400":t>=-1?"text-blue-400":"text-red-400";return(0,r.jsx)(b.r,{children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl space-y-6 p-4",children:[(0,r.jsx)(f.z,{icon:u.A,title:"Dynamic Events",description:"Respond to dynamic events and make critical decisions that shape your response",badge:{label:Z.toUpperCase(),color:t>=2?"success":t>=-1?"info":"danger"},stats:[{label:"Active Events",value:e.length,color:"text-primary"},{label:"Resolved",value:s.length,color:"text-success"},{label:"Reputation",value:"".concat(t>=0?"+":"").concat(t),color:R}]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,r.jsxs)(c.Zp,{className:"border-primary/20 bg-gradient-to-br from-primary/10 to-primary/5",children:[(0,r.jsx)(c.aR,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Active Events"}),(0,r.jsx)(u.A,{className:"h-4 w-4 text-primary"})]})}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-primary",children:e.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Requiring attention"})]})]}),(0,r.jsxs)(c.Zp,{className:"border-success/20 bg-gradient-to-br from-success/10 to-success/5",children:[(0,r.jsx)(c.aR,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Resolved"}),(0,r.jsx)(g.A,{className:"h-4 w-4 text-success"})]})}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-success",children:s.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total decisions made"})]})]}),(0,r.jsxs)(c.Zp,{className:"border-".concat(t>=0?"success":"danger","/20 bg-gradient-to-br from-").concat(t>=0?"success":"danger","/10 to-").concat(t>=0?"success":"danger","/5"),children:[(0,r.jsx)(c.aR,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Reputation"}),(0,r.jsx)(v.A,{className:"h-4 w-4",style:{color:t>=0?"rgb(34 197 94)":"rgb(239 68 68)"}})]})}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold ".concat(R),children:[t>=0?"+":"",t]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:Z})]})]}),(0,r.jsxs)(c.Zp,{className:"border-info/20 bg-gradient-to-br from-info/10 to-info/5",children:[(0,r.jsx)(c.aR,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(c.ZB,{className:"text-sm font-medium text-muted-foreground",children:"Event Rate"}),(0,r.jsx)(p.A,{className:"h-4 w-4 text-info"})]})}),(0,r.jsxs)(c.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-info",children:["~",k]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Average spawn interval"})]})]})]}),0===e.length?(0,r.jsx)(c.Zp,{className:"border-border/50",children:(0,r.jsxs)(c.Wu,{className:"flex flex-col items-center justify-center py-16",children:[(0,r.jsx)(m.A,{className:"mb-4 h-16 w-16 text-muted-foreground/50"}),(0,r.jsx)("p",{className:"text-center text-lg font-medium text-muted-foreground",children:"No active events at the moment"}),(0,r.jsx)("p",{className:"text-center text-sm text-muted-foreground/70",children:"Events will appear based on game conditions"})]})}):(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>{let s=Math.max(0,Math.floor((e.expiresAt-Date.now())/1e3)),t=Math.floor(s/60),a=A[e.type];return(0,r.jsxs)(c.Zp,{className:"overflow-hidden border-2 bg-gradient-to-br transition-all hover:shadow-lg ".concat(E[e.type]),children:[(0,r.jsx)(c.aR,{className:"pb-4",children:(0,r.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,r.jsx)("div",{className:"flex-1 space-y-2",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"rounded-lg bg-background/80 p-2",children:(0,r.jsx)(a,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.ZB,{className:"text-xl",children:e.title}),(0,r.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[(0,r.jsx)(l.E,{variant:"outline",className:"text-xs font-semibold uppercase",children:e.type}),(0,r.jsxs)("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[(0,r.jsx)(p.A,{className:"h-3 w-3"}),(0,r.jsxs)("span",{children:[t,":",(s%60).toString().padStart(2,"0")," remaining"]})]})]})]})]})})})}),(0,r.jsxs)(c.Wu,{className:"space-y-4",children:[(0,r.jsx)(c.BT,{className:"text-sm leading-relaxed",children:e.description}),(0,r.jsx)("div",{className:"space-y-3",children:e.choices.map(s=>{var t,a,c,o;let d=(!(null===(t=s.cost)||void 0===t?void 0:t.survivors)||y.survivors>=s.cost.survivors)&&(!(null===(a=s.cost)||void 0===a?void 0:a.supplies)||y.supplies>=s.cost.supplies)&&(!(null===(c=s.cost)||void 0===c?void 0:c.knowledge)||y.knowledge>=s.cost.knowledge)&&(!(null===(o=s.cost)||void 0===o?void 0:o.influence)||y.influence>=s.cost.influence);return(0,r.jsxs)("div",{className:"group rounded-lg border-2 border-border bg-surface/50 p-4 transition-all hover:border-primary/30 hover:bg-surface/80",children:[(0,r.jsx)("div",{className:"mb-3 flex items-start justify-between",children:(0,r.jsx)("h4",{className:"font-semibold text-foreground",children:s.label})}),s.cost&&Object.keys(s.cost).length>0&&(0,r.jsxs)("div",{className:"mb-3 flex flex-wrap gap-2",children:[(0,r.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Cost:"}),s.cost.survivors&&(0,r.jsxs)(l.E,{variant:"outline",className:y.survivors>=s.cost.survivors?"border-success/50 bg-success/10 text-success":"border-danger/50 bg-danger/10 text-danger",children:[(0,n.ZV)(s.cost.survivors)," SV"]}),s.cost.supplies&&(0,r.jsxs)(l.E,{variant:"outline",className:y.supplies>=s.cost.supplies?"border-info/50 bg-info/10 text-info":"border-danger/50 bg-danger/10 text-danger",children:[(0,n.ZV)(s.cost.supplies)," RF"]}),s.cost.knowledge&&(0,r.jsxs)(l.E,{variant:"outline",className:y.knowledge>=s.cost.knowledge?"border-primary/50 bg-primary/10 text-primary":"border-danger/50 bg-danger/10 text-danger",children:[(0,n.ZV)(s.cost.knowledge)," CN"]}),s.cost.influence&&(0,r.jsxs)(l.E,{variant:"outline",className:y.influence>=s.cost.influence?"border-warning/50 bg-warning/10 text-warning":"border-danger/50 bg-danger/10 text-danger",children:[(0,n.ZV)(s.cost.influence)," IF"]})]}),(0,r.jsxs)("div",{className:"mb-3 space-y-1 rounded-md bg-background/50 p-2 text-xs",children:[(0,r.jsx)("div",{className:"font-medium text-muted-foreground",children:"Effects:"}),s.effects.map((e,s)=>{let t=e.value>=0,a=t?g.A:h.A,c=e=>e.replace(/_/g," ").replace(/([A-Z])/g," $1").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ").trim(),i="";if("currency"===e.type){var l;let s=null!==(l=({survivors:"Survivors",supplies:"Supplies",knowledge:"Knowledge",influence:"Influence"})[e.target])&&void 0!==l?l:c(e.target);i="".concat(s,": ").concat(e.value>0?"+":"").concat((0,n.ZV)(e.value))}else if("attribute"===e.type){let s=c(e.target);i="".concat(s,": ").concat(e.value>0?"+":"").concat(e.value)}else if("production"===e.type){let s="all"===e.target?"Global Production":"".concat(c(e.target)," Production");i="".concat(s,": ").concat(e.value>0?"+":"").concat((100*e.value).toFixed(0),"%")}else i="".concat(c(e.target||"Effect"),": ").concat(e.value);let o=(e=>{if(!e||e<=0)return"";if(e>=60){let s=Math.floor(e/60),t=e%60;return t>0?"".concat(s,"m ").concat(t,"s"):"".concat(s,"m")}return"".concat(e,"s")})(e.duration);return(0,r.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,r.jsx)(a,{className:"h-3 w-3 ".concat(t?"text-success":"text-danger")}),(0,r.jsxs)("span",{children:[i,o&&" (".concat(o,")")]})]},s)})]}),(0,r.jsx)(i.$,{onClick:()=>N(e.id,s.id),disabled:!d,className:"w-full",size:"sm",children:s.label})]},s.id)})})]})]},e.id)})}),s.length>0&&(0,r.jsxs)(c.Zp,{className:"border-border/50",children:[(0,r.jsxs)(c.aR,{children:[(0,r.jsxs)(c.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"h-5 w-5 text-primary"}),"Event History"]}),(0,r.jsx)(c.BT,{children:"Recent events and decisions"})]}),(0,r.jsx)(c.Wu,{children:(0,r.jsx)("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:s.slice(-12).reverse().map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border border-border bg-surface/30 p-3 text-sm transition-colors hover:bg-surface/50",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 text-success"}),(0,r.jsx)("span",{className:"truncate text-xs text-muted-foreground",children:e})]},s))})})]})]})})}},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var r=t(5155);t(2115);var a=t(9708),n=t(2085),c=t(3999);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,asChild:n=!1,...l}=e,o=n?a.DX:"span";return(0,r.jsx)(o,{"data-slot":"badge",className:(0,c.cn)(i({variant:t}),s),...l})}},9002:(e,s,t)=>{Promise.resolve().then(t.bind(t,4167))}},e=>{var s=s=>e(e.s=s);e.O(0,[194,394,809,441,684,358],()=>s(9002)),_N_E=e.O()}]);